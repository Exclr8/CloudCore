<?xml version="1.0" encoding="utf-8"?>
<DataSchemaModel FileFormatVersion="1.2" SchemaVersion="2.4" DspName="Microsoft.Data.Tools.Schema.Sql.SqlAzureDatabaseSchemaProvider" CollationLcid="1033" CollationCaseSensitive="False" xmlns="http://schemas.microsoft.com/sqlserver/dac/Serialization/2012/02">
	<Header>
		<CustomData Category="AnsiNulls">
			<Metadata Name="AnsiNulls" Value="True" />
		</CustomData>
		<CustomData Category="QuotedIdentifier">
			<Metadata Name="QuotedIdentifier" Value="True" />
		</CustomData>
		<CustomData Category="CompatibilityMode">
			<Metadata Name="CompatibilityMode" Value="120" />
		</CustomData>
		<CustomData Category="Reference" Type="SqlSchema">
			<Metadata Name="FileName" Value="C:\PROGRAM FILES (X86)\MICROSOFT VISUAL STUDIO 12.0\COMMON7\IDE\EXTENSIONS\MICROSOFT\SQLDB\EXTENSIONS\SQLSERVER\AZURE\SQLSCHEMAS\MASTER.DACPAC" />
			<Metadata Name="LogicalName" Value="master.dacpac" />
			<Metadata Name="ExternalParts" Value="[master]" />
			<Metadata Name="SuppressMissingDependenciesErrors" Value="False" />
		</CustomData>
		<CustomData Category="Reference" Type="Assembly">
			<Metadata Name="LogicalName" Value="CloudCoreDB.dll" />
			<Metadata Name="FileName" Value="E:\REPOSITORIES\CLOUDCORE\DATALAYER\DB\CLOUDCOREDB\OBJ\DEBUG\CLOUDCOREDB.DLL" />
			<Metadata Name="AssemblyName" Value="CloudCoreDB" />
			<Metadata Name="PermissionSet" Value="SAFE" />
			<Metadata Name="Owner" Value="" />
			<Metadata Name="GenerateSqlClrDdl" Value="True" />
			<Metadata Name="IsVisible" Value="True" />
			<Metadata Name="IsModelAware" Value="True" />
			<Metadata Name="SkipCreationIfEmpty" Value="True" />
			<Metadata Name="AssemblySymbolsName" Value="E:\Repositories\cloudcore\DataLayer\DB\CloudCoreDB\obj\Debug\CloudCoreDB.pdb" />
		</CustomData>
		<CustomData Category="SqlCmdVariables" Type="SqlCmdVariable">
			<Metadata Name="AdminPassword" Value="" />
			<Metadata Name="BuildConfiguration" Value="" />
			<Metadata Name="EnableAdminAccount" Value="" />
			<Metadata Name="LicenseMode" Value="" />
			<Metadata Name="LicenceKey" Value="" />
			<Metadata Name="UiApplicationKey" Value="" />
			<Metadata Name="VwApplicationKey" Value="" />
		</CustomData>
	</Header>
	<Model>
		<Element Type="SqlDatabaseOptions">
			<Property Name="Collation" Value="SQL_Latin1_General_CP1_CI_AS" />
			<Property Name="IsAnsiNullDefaultOn" Value="True" />
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsAnsiWarningsOn" Value="True" />
			<Property Name="IsArithAbortOn" Value="True" />
			<Property Name="IsConcatNullYieldsNullOn" Value="True" />
			<Property Name="IsTornPageProtectionOn" Value="False" />
			<Property Name="IsFullTextEnabled" Value="True" />
			<Property Name="PageVerifyMode" Value="3" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[Changed]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="4" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[('-')]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel].[Outcome]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="5" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel].[OptimalFlow]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="6" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel].[NegativeFlow]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="7" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ActivityHistory]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[Completed]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="8" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[0]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[User].[IntAccess]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="9" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[0]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[User].[ExtAccess]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="10" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[1]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[User].[IsNamedUser]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="11" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskGroup]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskGroup].[ManagerUserId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="12" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[Created]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="13" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[Active]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="14" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[OnDemand]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="15" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((1))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[IntervalType]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="16" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[InitDate]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="17" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[NextRunDate]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="18" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[0]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[UserNotification]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[UserNotification].[HasRead]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="19" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[0]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[UserNotification]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[UserNotification].[Important]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="20" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[NEWID()]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[SystemApplication]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[SystemApplication].[ApplicationGuid]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="21" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[1]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[SystemApplication]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[SystemApplication].[Enabled]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="22" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[Notification].[NotificationId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Notification]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="23" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[DashboardUserAllocation].[DashboardUserAllocationId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[DashboardUserAllocation]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="24" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[UserAccessProvider].[ProviderId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[UserAccessProvider]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="25" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[ActivityFailureHistory].[ArchiveFailureId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ActivityFailureHistory]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="26" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[SystemApplication].[ApplicationId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[SystemApplication]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="27" />
		</Element>
		<Element Type="SqlSchema" Name="[cloudcore]">
			<Relationship Name="Authorizer">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[AccessPool]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[AccessPool].[AccessPoolId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[AccessPool].[AccessPoolName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[AccessPool].[ManagerId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="28" />
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[AccessPoolCreate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin
	Insert into cloudcore.AccessPool(AccessPoolName, 
									 ManagerId)
								
							values (@AccessPoolName, 
									@ManagerId)
								
	Set @AccessPoolId = SCOPE_IDENTITY()
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[AccessPool]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPool].[AccessPoolName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPool].[ManagerId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolCreate].[@AccessPoolName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolCreate].[@ManagerId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolCreate].[@AccessPoolId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[AccessPoolCreate].[@AccessPoolId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[AccessPoolCreate].[@AccessPoolName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[AccessPoolCreate].[@ManagerId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="330" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[AccessPoolCreate]&#xD;&#xA;&#x9;@AccessPoolId&#x9;&#x9;int out,&#xD;&#xA;&#x9;@AccessPoolName&#x9;&#x9;varchar (50),&#xD;&#xA;&#x9;@ManagerId&#x9;&#x9;&#x9;int&#xD;&#xA;As" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[AccessPoolUpdate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin
	update cloudcore.AccessPool  
	set AccessPoolName	 = @AccessPoolName,
		ManagerId		 = @ManagerId
			where AccessPoolId	 = @AccessPoolId
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[AccessPool]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPool].[AccessPoolName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolUpdate].[@AccessPoolName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPool].[ManagerId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolUpdate].[@ManagerId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPool].[AccessPoolId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolUpdate].[@AccessPoolId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[AccessPoolUpdate].[@AccessPoolId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[AccessPoolUpdate].[@AccessPoolName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[AccessPoolUpdate].[@ManagerId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="278" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[AccessPoolUpdate]&#xD;&#xA;&#x9;@AccessPoolId&#x9;&#x9;int,&#xD;&#xA;&#x9;@AccessPoolName&#x9;&#x9;varchar (50),&#xD;&#xA;&#x9;@ManagerId&#x9;&#x9;&#x9;int&#xD;&#xA;As" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[AccessPoolUser]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[AccessPoolUser].[AccessPoolId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[AccessPoolUser].[UserId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="29" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="30" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="31" />
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[AccessPoolUserCreate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin
	if exists (select null from cloudcore.AccessPoolUser where AccessPoolId = @AccessPoolId and UserId = @UserId)
	begin
		raiserror(N'The access pool has already been allocated to this user',18, 1) 	
		return
	end

	Insert into cloudcore.AccessPoolUser (AccessPoolId, UserId) values( @AccessPoolId , @UserId )
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser].[AccessPoolId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolUserCreate].[@AccessPoolId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolUserCreate].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser].[AccessPoolId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[AccessPoolUserCreate].[@AccessPoolId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[AccessPoolUserCreate].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="418" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[AccessPoolUserCreate]&#xD;&#xA;&#x9;@AccessPoolId int, &#xD;&#xA;&#x9;@UserId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[AccessPoolUserRemove]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin
	Delete from cloudcore.AccessPoolUser where AccessPoolId = @AccessPoolId and UserId = @UserId
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser].[AccessPoolId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolUserRemove].[@AccessPoolId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolUserRemove].[@UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[AccessPoolUserRemove].[@AccessPoolId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[AccessPoolUserRemove].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="198" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[AccessPoolUserRemove]&#xD;&#xA;&#x9;@AccessPoolId int, &#xD;&#xA;&#x9;@UserId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[ActionAllocationRemove]">
			<Property Name="BodyScript">
				<Value><![CDATA[
Begin
	delete from cloudcore.SystemActionAllocation 
	where AccessPoolId = @AccessPoolId and ActionId = @ActionId
End]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[SystemActionAllocation]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionAllocation].[AccessPoolId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActionAllocationRemove].[@AccessPoolId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionAllocation].[ActionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActionAllocationRemove].[@ActionId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ActionAllocationRemove].[@AccessPoolId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ActionAllocationRemove].[@ActionId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="216" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[ActionAllocationRemove]&#xD;&#xA;&#x9;@AccessPoolId int,&#xD;&#xA;&#x9;@ActionId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[Activity]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Activity].[ActivityId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Activity].[ActivityModelId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Activity].[ProcessRevisionId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Activity].[SystemModuleId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Activity].[ActivityTypeId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Activity].[OnlyVisibleAtLocation]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="32" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Activity].[LocationRadius]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Activity].[ActivityGuid]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Activity].[SubProcessGuid]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Activity].[ProcessGuid]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="33" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="34" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="35" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="36" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="37" />
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[ActivityAllocation]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ActivityAllocation].[ActivityId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ActivityAllocation].[AccessPoolId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="38" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="39" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="40" />
		</Element>
		<Element Type="SqlIndex" Name="[cloudcore].[ActivityAllocation].[IX_ActivityAllocation_AccessPoolId]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[ActivityAllocation].[AccessPoolId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[cloudcore].[ActivityAllocation]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[ActivityAllocationCreate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
	if exists (select null from cloudcore.ActivityAllocation where AccessPoolId = @AccessPoolId and ActivityId = @ActivityId)
	begin
		raiserror(N'The access pool has already been allocated to this activity',18, 1) 	
		return
	end

	insert into [cloudcore].ActivityAllocation (ActivityId, AccessPoolId) values (@ActivityId,  @AccessPoolId)
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[ActivityAllocation]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityAllocation].[AccessPoolId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityAllocationCreate].[@AccessPoolId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityAllocation].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityAllocationCreate].[@ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityAllocation].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityAllocation].[AccessPoolId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ActivityAllocationCreate].[@ActivityId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ActivityAllocationCreate].[@AccessPoolId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="454" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[ActivityAllocationCreate]&#xD;&#xA;&#x9;@ActivityId int,&#xD;&#xA;&#x9;@AccessPoolId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[ActivityAllocationDelete]">
			<Property Name="BodyScript">
				<Value><![CDATA[


	delete from [cloudcore].ActivityAllocation
	      where ActivityId = @ActivityId and AccessPoolId = @AccessPoolId]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[ActivityAllocation]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityAllocation].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityAllocationDelete].[@ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityAllocation].[AccessPoolId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityAllocationDelete].[@AccessPoolId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ActivityAllocationDelete].[@ActivityId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ActivityAllocationDelete].[@AccessPoolId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="217" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[ActivityAllocationDelete]&#xD;&#xA;&#x9;@ActivityId int, @AccessPoolId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[ActivityBatchSpawn]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
  set nocount on;
  
  -- insert the new item into the worklist
    insert into [cloudcore].Worklist(PInstanceId, Activate, Assigned, ActivityId, KeyValue, [Priority], UserId, DocWait, StatusTypeId)
    select @PInstanceId, isnull(@Activate, GETDATE()), GETDATE(), WA.ActivityId, @KeyValue, ISNULL(@Priority,0), ISNULL(@UserId, 0), ISNULL(@DocWait, AM.DocWait), 0
      from [cloudcore].Activity WA
     inner join [cloudcoremodel].ActivityModel AM
        on WA.ActivityModelId = AM.ActivityModelId
     where AM.ActivityGuid = @ActivityGuid
    
    -- get the new Instance ID
    set @InstanceId = SCOPE_IDENTITY()
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[PInstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Activate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Assigned]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[KeyValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Priority]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[DocWait]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityBatchSpawn].[@PInstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityBatchSpawn].[@Activate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityBatchSpawn].[@KeyValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityBatchSpawn].[@Priority]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityBatchSpawn].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityBatchSpawn].[@DocWait]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[DocWait]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityBatchSpawn].[@ActivityGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityBatchSpawn].[@InstanceId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ActivityBatchSpawn].[@PInstanceId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ActivityBatchSpawn].[@ActivityGuid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ActivityBatchSpawn].[@KeyValue]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ActivityBatchSpawn].[@Activate]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ActivityBatchSpawn].[@DocWait]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ActivityBatchSpawn].[@Priority]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ActivityBatchSpawn].[@UserId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ActivityBatchSpawn].[@InstanceId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="924" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[ActivityBatchSpawn]&#xD;&#xA;    @PInstanceId bigint,&#xD;&#xA;    @ActivityGuid uniqueidentifier, &#xD;&#xA;    @KeyValue bigint, &#xD;&#xA;    @Activate DATETIME=null, &#xD;&#xA;    @DocWait INT=null, &#xD;&#xA;    @Priority TINYINT=null, &#xD;&#xA;    @UserId INT=null, &#xD;&#xA;    @InstanceId BIGINT OUTPUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[ActivityByPass]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
    declare @ActivityName varchar(50)
    declare @InstanceId bigint
    declare @GotoWorklist bit
    declare @ActivityId int
    
   begin transaction
   begin try

      select @ActivityId = BA.ActivityId  
        from [cloudcore].Activity BA
        where BA.ActivityGuid = @ActivityGuid

      insert into [cloudcore].Worklist(Activate, Assigned, ActivityId, [Priority], KeyValue, UserId, DocWait, StatusTypeId, Opened, OpenedBy)
      select GETDATE(), GETDATE(), @ActivityId,  0, @KeyValue, 0, AM.DocWait, 1, GETDATE(), 0
       from [cloudcore].Activity BA
      inner join [cloudcoremodel].ActivityModel AM
         on AM.ActivityModelId = BA.ActivityModelId
      where ActivityId = @ActivityId and AM.Startable = 1
       
       -- get the new Instance ID
      set @InstanceId = SCOPE_IDENTITY()

      exec [cloudcore].WorkItemFlow @InstanceId   = @InstanceId, 
                                    @UserId       = 0
       
       update [cloudcore].Worklist 
          set StatusTypeId = 0
        where InstanceId = @InstanceId 
            
      commit transaction
   end try
   begin catch
      if (XACT_STATE()<>0)
      begin
         print 'Transaction Rollback occured'
         rollback transaction
      end
      
      declare @MSG varchar(1000)
      set @MSG = error_message()
      --Throw exception to calling SP
      raiserror(@MSG, 16, 1) 
   end catch
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bigint]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityByPass].[@ActivityGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Activate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Assigned]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Priority]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[KeyValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[DocWait]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Opened]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[OpenedBy]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityByPass].[@KeyValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[DocWait]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[Startable]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemFlow]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemFlow].[@InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemFlow].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[InstanceId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ActivityByPass].[@ActivityGuid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ActivityByPass].[@KeyValue]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1794" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure [cloudcore].[ActivityByPass]&#xD;&#xA;-- ===================================================================&#xD;&#xA;-- Author:&#x9;&#x9;AHM for CloudCore&#xD;&#xA;-- Description:&#x9;Engine that will start the Activity with existing Outcome&#xD;&#xA;-- ===================================================================&#xD;&#xA;@ActivityGuid uniqueidentifier,&#xD;&#xA;@KeyValue bigint&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[ActivityFailureHistory]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ActivityFailureHistory].[ArchiveFailureId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="26" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ActivityFailureHistory].[ActivityModelId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ActivityFailureHistory].[FailedAt]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ActivityFailureHistory].[UserId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ActivityFailureHistory].[Reason]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ActivityFailureHistory].[KeyValue]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="41" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="42" />
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[ActivityHistory]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ActivityHistory].[ActivityArchiveId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ActivityHistory].[ActivityModelId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ActivityHistory].[FlowModelId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ActivityHistory].[InstanceId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ActivityHistory].[PInstanceId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ActivityHistory].[Assigned]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ActivityHistory].[Activate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ActivityHistory].[Opened]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ActivityHistory].[Completed]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="8" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ActivityHistory].[Priority]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ActivityHistory].[StatusTypeId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ActivityHistory].[UserId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="43" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="44" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="45" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="46" />
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[ActivityRetryUpdate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN

	Update AM
	set 
		MaxRetries = @MaxRetries,
		RetryDelayInSeconds = @RetryDelayInSeconds
	from cloudcoremodel.ActivityModel as AM
	inner join cloudcore.Activity as A
		on A.ActivityModelId = AM.ActivityModelId
	where
		A.ActivityId = @ActivityId

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[MaxRetries]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityRetryUpdate].[@MaxRetries]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[RetryDelayInSeconds]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityRetryUpdate].[@RetryDelayInSeconds]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityRetryUpdate].[@ActivityId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ActivityRetryUpdate].[@ActivityId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ActivityRetryUpdate].[@MaxRetries]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ActivityRetryUpdate].[@RetryDelayInSeconds]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="2" />
				<Property Name="Length" Value="397" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;CREATE PROCEDURE [cloudcore].[ActivityRetryUpdate]&#xD;&#xA;&#xD;&#xA; @ActivityId int,&#xD;&#xA; @MaxRetries int,&#xD;&#xA; @RetryDelayInSeconds int&#xD;&#xA;&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[ActivitySpawn]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
  set nocount on;
  
  -- insert the new item into the worklist
    insert into [cloudcore].Worklist(Activate, Assigned, ActivityId, KeyValue, [Priority], UserId, DocWait, StatusTypeId)
    select isnull(@Activate, GETDATE()), GETDATE(), WA.ActivityId, @KeyValue, ISNULL(@Priority,0), ISNULL(@UserId, 0), ISNULL(@DocWait, AM.DocWait), 0
      from [cloudcore].Activity WA
	 inner join [cloudcoremodel].ActivityModel AM
	    on WA.ActivityModelId = AM.ActivityModelId
     where AM.ActivityGuid = @ActivityGuid
    
    -- get the new Instance ID
    set @InstanceId = SCOPE_IDENTITY()
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Activate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Assigned]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[KeyValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Priority]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[DocWait]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivitySpawn].[@Activate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivitySpawn].[@KeyValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivitySpawn].[@Priority]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivitySpawn].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivitySpawn].[@DocWait]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[DocWait]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivitySpawn].[@ActivityGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivitySpawn].[@InstanceId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ActivitySpawn].[@ActivityGuid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ActivitySpawn].[@KeyValue]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ActivitySpawn].[@Activate]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ActivitySpawn].[@DocWait]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ActivitySpawn].[@Priority]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ActivitySpawn].[@UserId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ActivitySpawn].[@InstanceId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="820" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create PROCEDURE [cloudcore].[ActivitySpawn]&#xD;&#xA;@ActivityGuid uniqueidentifier, @KeyValue bigint, @Activate DATETIME=null, @DocWait INT=null, @Priority TINYINT=null, @UserId INT=null, @InstanceId BIGINT OUTPUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[ActivityStart]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
   declare @ActivityName varchar(255),
           @ActivityGuidStr varchar(38)
   
   begin transaction
   begin try
      if not exists(select null from [cloudcoremodel].vwLiveActivity LA where LA.ActivityGuid = @ActivityGuid)
      begin
         set @ActivityGuidStr = convert(varchar(38), @ActivityGuid)
         
         raiserror(N'Activity with unique identifier "%s" does not exist.', 18,1, @ActivityGuidStr)
      end
      
      if not exists(select null from [cloudcoremodel].vwLiveActivity LA where LA.ActivityGuid = @ActivityGuid and LA.Startable = 1)
      begin
        select @ActivityName = ActivityName
          from cloudcoremodel.ActivityModel
         where ActivityGuid = @ActivityGuid
        
         raiserror(N'Activity %d is not startable.', 18,1, @ActivityName)
      end

      insert into [cloudcore].Worklist(Activate, Assigned, ActivityId, [Priority], KeyValue, UserId, DocWait, StatusTypeId, OpenedBy, Opened)
      select GETDATE(), GETDATE(), BA.ActivityId, BA.[Priority], @KeyValue, 0, BA.DocWait, case when BA.ActivityTypeId = 0 then 1 else 0 end, @UserId, GETDATE()
       from [cloudcoremodel].vwLiveActivity BA
      where BA.ActivityGuid = @ActivityGuid and BA.Startable = 1
       
       -- get the new Instance ID
      set @InstanceId = SCOPE_IDENTITY()
            
      commit transaction
   end try
   begin catch
      set @InstanceId = null
      if (XACT_STATE()<>0)
      begin
         print 'Transaction Rollback occured'
         rollback transaction
      end
      
      declare @MSG varchar(1000)
      set @MSG = error_message()
      --Throw exception to calling SP
      raiserror(@MSG, 16, 1) 
   end catch
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveActivity]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveActivity].[ActivityGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityStart].[@ActivityGuid]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveActivity].[Startable]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Activate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Assigned]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Priority]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[KeyValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[DocWait]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[OpenedBy]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Opened]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveActivity].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveActivity].[Priority]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityStart].[@KeyValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveActivity].[DocWait]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveActivity].[ActivityTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityStart].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveActivity].[ActivityGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveActivity].[Startable]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityStart].[@InstanceId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ActivityStart].[@ActivityGuid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ActivityStart].[@KeyValue]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ActivityStart].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ActivityStart].[@InstanceId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2109" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure [cloudcore].[ActivityStart]&#xD;&#xA;-- ===================================================================&#xD;&#xA;-- Author:&#x9;&#x9;AHM for CloudCore&#xD;&#xA;-- Description:&#x9;Engine that will create &amp; start the Activity&#xD;&#xA;-- ===================================================================&#xD;&#xA;@ActivityGuid uniqueidentifier,&#xD;&#xA;@KeyValue bigint,&#xD;&#xA;@UserId int,&#xD;&#xA;@InstanceId bigint output&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[ApplicationAllocationCreate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	insert into [cloudcore].SystemApplicationAllocation(ActivityId,ApplicationId)
	values(@ActivityId,@ApplicationId)]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[SystemApplicationAllocation]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplicationAllocation].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplicationAllocation].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ApplicationAllocationCreate].[@ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ApplicationAllocationCreate].[@ApplicationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ApplicationAllocationCreate].[@ApplicationId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ApplicationAllocationCreate].[@ActivityId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="219" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[ApplicationAllocationCreate]&#xD;&#xA;&#x9;@ApplicationId Int,&#xD;&#xA;&#x9;@ActivityId Int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[ApplicationAllocationDelete]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	delete from  [cloudcore].SystemApplicationAllocation
	where ActivityId = @ActivityId and ApplicationId = @ApplicationId]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[SystemApplicationAllocation]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplicationAllocation].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ApplicationAllocationDelete].[@ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplicationAllocation].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ApplicationAllocationDelete].[@ApplicationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ApplicationAllocationDelete].[@ApplicationId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ApplicationAllocationDelete].[@ActivityId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="225" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[ApplicationAllocationDelete]&#xD;&#xA;&#x9;@ApplicationId Int,&#xD;&#xA;&#x9;@ActivityId Int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlScalarFunction" Name="[cloudcore].[CalculateNextInitDate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CalculateNextRunDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CalculateNextInitDate].[@InitDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CalculateNextInitDate].[@IntervalType]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CalculateNextInitDate].[@IntervalValue]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
begin
    declare @Now datetime = getdate(),
            @ReturnDate datetime = [cloudcore].CalculateNextRunDate(@InitDate, @IntervalType, @IntervalValue)
         
         
         return case @IntervalType
                        when 1 then DATEADD(Month, -@IntervalValue, @ReturnDate)
                        when 2 then DATEADD(WEEK, -@IntervalValue, @ReturnDate)
                        when 3 then DATEADD(DAY, -@IntervalValue, @ReturnDate)
                        when 4 then DATEADD(HOUR, -@IntervalValue, @ReturnDate)
                        when 5 then DATEADD(MINUTE, -@IntervalValue, @ReturnDate)
                        else DATEADD(SECOND, -@IntervalValue, @ReturnDate)
                    end
end]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="861" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="create function cloudcore.CalculateNextInitDate(@InitDate datetime,&#x9;@IntervalType tinyint, @IntervalValue int)&#xD;&#xA;returns datetime&#xD;&#xA;as" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[CalculateNextInitDate].[@InitDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[CalculateNextInitDate].[@IntervalType]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[CalculateNextInitDate].[@IntervalValue]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[datetime]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlScalarFunction" Name="[cloudcore].[CalculateNextRunDate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CalculateNextRunDate].[@InitDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemTally]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CalculateNextRunDate].[@IntervalType]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CalculateNextRunDate].[@IntervalValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemTally].[ZeroBased]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemTally].[ZeroBased]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
begin
	/*
		1= Montly
		2=Weekly
		3=Daily
		4=Hourly
		5=Minutes
	*/
	declare @Now datetime = getdate(),
	        @Range int = 10000,
			@ReturnDate datetime = dateadd(day, -1, @InitDate)
		 
    while (@ReturnDate <= @Now)
    begin
	        select @ReturnDate = min(ReturnDate)
			from 
			(select case @IntervalType
						when 1 then DATEADD(Month, @IntervalValue * ST.ZeroBased, @InitDate)
						when 2 then DATEADD(WEEK, @IntervalValue * ST.ZeroBased, @InitDate)
						when 3 then DATEADD(DAY, @IntervalValue * ST.ZeroBased, @InitDate)
						when 4 then DATEADD(HOUR, @IntervalValue * ST.ZeroBased, @InitDate)
						when 5 then DATEADD(MINUTE, @IntervalValue * ST.ZeroBased, @InitDate)
						else DATEADD(SECOND, @IntervalValue * ST.ZeroBased, @InitDate)
					end ReturnDate, ZeroBased
			from cloudcore.SystemTally ST
			where ST.ZeroBased <= @Range) NR
			where (ReturnDate > @Now) or (ZeroBased = @Range)
			set @InitDate = @ReturnDate
	end
	
	return @ReturnDate
end]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="1141" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="create function [cloudcore].CalculateNextRunDate(@InitDate datetime,&#x9;@IntervalType tinyint, @IntervalValue int)&#xD;&#xA;returns datetime&#xD;&#xA;as" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[CalculateNextRunDate].[@InitDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[CalculateNextRunDate].[@IntervalType]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[CalculateNextRunDate].[@IntervalValue]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[datetime]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[Campaign]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Campaign].[CampaignID]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Campaign].[CampaignName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Campaign].[CampaignDesc]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="250" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Campaign].[ManagerId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Campaign].[StatusID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[smallint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="47" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="48" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="49" />
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[CampaignArc]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
	if exists (select null
			     from [cloudcore].CampaignItem 
			    where CampaignID = @CampaignID)
	begin
		raiserror(N'Unable to archive campaign, there are active items in the campaign',18, 1) 	
		return
	end
					  
	begin transaction
	begin try
		update [cloudcore].Campaign 
		   set StatusID = 0
		 where CampaignID = @CampaignID 
	end try
	
	begin catch
		rollback transaction
		
		declare @errstr nvarchar(4000) 
		set @errstr = ERROR_MESSAGE()
		
		raiserror(N'Unable to archive campaign, unexpected error: %s',18,1, @errstr)
		return
	end catch	
	
	commit transaction
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignItem]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignItem].[CampaignID]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignArc].[@CampaignID]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Campaign]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Campaign].[StatusID]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Campaign].[CampaignID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[CampaignArc].[@CampaignID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="683" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[CampaignArc]&#xD;&#xA;&#x9;@CampaignID int&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[CampaignArchive]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[CampaignArchive].[CampaignID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[CampaignArchive].[InstanceId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[CampaignArchive].[UserId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[CampaignArchive].[Finished]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="50" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[CampaignArchive].[StatusID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="51" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[CampaignArchive].[Status]">
						<Property Name="ExpressionScript">
							<Value><![CDATA[(case [StatusID] when (1) then 'Cancelled' when (2) then 'Unavailable' else 'Completed' end)]]></Value>
						</Property>
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[CampaignArchive].[StatusID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="52" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="53" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="54" />
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[CampaignCancel]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
	begin transaction
	begin try
		insert into [cloudcore].CampaignArchive(CampaignID, InstanceId, StatusID, Finished, UserId)
		select CampaignID, InstanceId, 1, GETDATE(), @UserId
		  from [cloudcore].CampaignItem 
		 where CampaignID = @CampaignID 
		 
		 delete from [cloudcore].CampaignItem 
		  where CampaignID = @CampaignID 
		  
		update [cloudcore].Campaign 
		   set StatusID = 0
		 where CampaignID = @CampaignID 
	end try
	
	begin catch
		rollback transaction
		
		declare @errstr nvarchar(4000) 
		set @errstr = ERROR_MESSAGE()
		
		raiserror(N'Unable to cancel campaign, unexpected error: %s',18,1, @errstr)
		return
	end catch	
	
	commit transaction
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignArchive]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignArchive].[CampaignID]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignArchive].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignArchive].[StatusID]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignArchive].[Finished]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignArchive].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignItem]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignItem].[CampaignID]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignItem].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignCancel].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignCancel].[@CampaignID]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Campaign]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Campaign].[StatusID]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Campaign].[CampaignID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[CampaignCancel].[@CampaignID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[CampaignCancel].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="783" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[CampaignCancel]&#xD;&#xA;&#x9;@CampaignID int,&#xD;&#xA;&#x9;@UserId int&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[CampaignHandover]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
					  
	begin transaction
	begin try
		update [cloudcore].Campaign 
		   set ManagerId = @ManagerId
		 where CampaignID = @CampaignID 
	end try
	
	begin catch
		rollback transaction
		
		declare @errstr nvarchar(4000) 
		set @errstr = ERROR_MESSAGE()
		
		raiserror(N'Unable to handover campaign, unexpected error: %s',18,1, @errstr)
		return
	end catch	
	
	commit transaction
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Campaign]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Campaign].[ManagerId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignHandover].[@ManagerId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Campaign].[CampaignID]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignHandover].[@CampaignID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[CampaignHandover].[@CampaignID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[CampaignHandover].[@ManagerId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="496" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[CampaignHandover]&#xD;&#xA;&#x9;@CampaignID int,&#xD;&#xA;&#x9;@ManagerId int&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[CampaignItem]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[CampaignItem].[CampaignID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[CampaignItem].[InstanceId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[CampaignItem].[ActivityId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[CampaignItem].[Opened]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="55" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="56" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="57" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="58" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="59" />
		</Element>
		<Element Type="SqlIndex" Name="[cloudcore].[CampaignItem].[IX_CampaignItem_InstanceId]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[CampaignItem].[InstanceId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[cloudcore].[CampaignItem]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[CampaignItemFinish]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
	insert into [cloudcore].CampaignArchive(CampaignID, InstanceId, StatusID, Finished, UserId)
		select CampaignID, InstanceId, 0, GETDATE(), @UserId
		  from [cloudcore].CampaignItem 
		 where InstanceId = @InstanceId 
		 
		 delete from [cloudcore].CampaignItem 
		  where InstanceId = @InstanceId 
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[CampaignArchive]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignArchive].[CampaignID]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignArchive].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignArchive].[StatusID]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignArchive].[Finished]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignArchive].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignItem]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignItem].[CampaignID]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignItem].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignItemFinish].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignItemFinish].[@InstanceId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[CampaignItemFinish].[@InstanceId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[CampaignItemFinish].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="407" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[CampaignItemFinish]&#xD;&#xA;&#x9;@InstanceId bigint,&#xD;&#xA;&#x9;@UserId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[CampaignUser]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[CampaignUser].[CampaignID]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[CampaignUser].[UserId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[CampaignUser].[Active]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="60" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="61" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="62" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="63" />
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[CampaignUserCreate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
	insert into [cloudcore].CampaignUser (CampaignID, UserId)
	values (@CampaignID, @UserId)
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[CampaignUser]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignUser].[CampaignID]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignUser].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignUserCreate].[@CampaignID]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignUserCreate].[@UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[CampaignUserCreate].[@CampaignID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[CampaignUserCreate].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="190" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure [cloudcore].[CampaignUserCreate]&#xD;&#xA;&#x9;@CampaignID int,&#xD;&#xA;&#x9;@UserId int&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[CampaignUserDelete]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
	delete from [cloudcore].CampaignUser 
	where CampaignID = @CampaignID 
	and UserId = @UserId
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[CampaignUser]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignUser].[CampaignID]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignUserDelete].[@CampaignID]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignUser].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignUserDelete].[@UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[CampaignUserDelete].[@CampaignID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[CampaignUserDelete].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="195" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure [cloudcore].[CampaignUserDelete]&#xD;&#xA;&#x9;@CampaignID int,&#xD;&#xA;&#x9;@UserId int&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlDmlTrigger" Name="[cloudcore].[CCSystemTallyDelete]">
			<Property Name="IsDeleteTrigger" Value="True" />
			<Property Name="SqlTriggerType" Value="3" />
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON
	raiserror('[CloudCore]: You can not delete from this system table.', 16, 1)
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Parent">
				<Entry>
					<References Name="[cloudcore].[SystemTally]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Offset" Value="203" />
				<Property Name="Length" Value="209" />
				<Property Name="StartLine" Value="9" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE TRIGGER [cloudcore].[CCSystemTallyDelete] &#xD;&#xA;ON [cloudcore].[SystemTally]&#xD;&#xA;INSTEAD OF DELETE&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlDmlTrigger" Name="[cloudcore].[CCWorkItemDelete]">
			<Property Name="IsDeleteTrigger" Value="True" />
			<Property Name="SqlTriggerType" Value="1" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
begin
  SET NOCOUNT ON

  update PH
     set Ended = GETDATE(),
	     StatusId = case when D.StatusTypeId = 100 then 100 else 99 end   
    from cloudcore.ProcessHistory PH
   inner join deleted D
      on D.InstanceId = PH.InstanceId

    delete  F
    from    cloudcore.WorklistFailure F
    inner join DELETED D
        on  F.InstanceId = D.InstanceId
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[ProcessHistory]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ProcessHistory].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ProcessHistory].[Ended]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ProcessHistory].[StatusId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorklistFailure]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorklistFailure].[InstanceId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parent">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Offset" Value="5677" />
				<Property Name="CreateOffset" Value="2" />
				<Property Name="Length" Value="466" />
				<Property Name="StartLine" Value="130" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;CREATE TRIGGER [cloudcore].[CCWorkItemDelete]&#xD;&#xA; on [cloudcore].[Worklist]&#xD;&#xA;for delete&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlDmlTrigger" Name="[cloudcore].[CCWorkItemInsert]">
			<Property Name="IsInsertTrigger" Value="True" />
			<Property Name="SqlTriggerType" Value="2" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
BEGIN
  SET NOCOUNT ON
  -- Insert statements for trigger here
  update WL
     set PInstanceId = INS.InstanceId
    from [cloudcore].Worklist WL with (nolock)
   inner join Inserted INS
      on INS.InstanceId = WL.InstanceId
   where INS.PInstanceId = 0
  
  insert into [cloudcore].ProcessHistory ([InstanceId], [PInstanceId], [ProcessModelId], [KeyValue], [Started], [Ended], [StatusId])
      select I.InstanceId, I.PInstanceId, PR.ProcessModelId, I.KeyValue, getdate(), null, 0
        from Inserted I
       inner join [cloudcore].Activity A with (nolock)
          on A.ActivityId = I.ActivityId
       inner join [cloudcoremodel].ProcessRevision PR with (nolock)
          on PR.ProcessRevisionId = A.ProcessRevisionId
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[PInstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[PInstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ProcessHistory]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ProcessHistory].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ProcessHistory].[PInstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ProcessHistory].[ProcessModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ProcessHistory].[KeyValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ProcessHistory].[Started]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ProcessHistory].[Ended]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ProcessHistory].[StatusId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ProcessRevisionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ProcessRevisionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ProcessModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[KeyValue]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parent">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Offset" Value="4829" />
				<Property Name="Length" Value="842" />
				<Property Name="StartLine" Value="108" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE TRIGGER [cloudcore].[CCWorkItemInsert] ON  [cloudcore].[Worklist]&#xD;&#xA; AFTER INSERT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlCheckConstraint" Name="[cloudcore].[CK_ScheduledTask_IntervalType]">
			<Property Name="CheckExpressionScript">
				<Value><![CDATA[[IntervalType]>=(0) AND [IntervalType]<=(6)]]></Value>
			</Property>
			<Relationship Name="CheckExpressionDependencies">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[IntervalType]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="64" />
		</Element>
		<Element Type="SqlCheckConstraint" Name="[cloudcore].[CK_ScheduledTask_IntervalValue]">
			<Property Name="CheckExpressionScript">
				<Value><![CDATA[IntervalValue > 0]]></Value>
			</Property>
			<Relationship Name="CheckExpressionDependencies">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[IntervalValue]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="65" />
		</Element>
		<Element Type="SqlCheckConstraint" Name="[cloudcore].[CK_SystemAction_ActionType]">
			<Property Name="CheckExpressionScript">
				<Value><![CDATA[[ActionType]='Folder' OR [ActionType]='Report' OR [ActionType]='Statistic' OR [ActionType]='Search' OR [ActionType]='Create' OR [ActionType]='Delete' OR [ActionType]='Modify' OR [ActionType]='Tools' OR [ActionType]='Details' OR [ActionType]='Secure']]></Value>
			</Property>
			<Relationship Name="CheckExpressionDependencies">
				<Entry>
					<References Name="[cloudcore].[SystemAction].[ActionType]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[SystemAction]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="66" />
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[CostLedger]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[CostLedger].[LedgerID]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[CostLedger].[InstanceId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[CostLedger].[ActivityModelId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[CostLedger].[Cost]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[CostLedger].[TransDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="67" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[CostLedger].[PeriodSeq]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="68" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[CostLedger].[Exported]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="69" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="70" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="71" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="72" />
		</Element>
		<Element Type="SqlDmlTrigger" Name="[cloudcore].[CostLedgerInsert]">
			<Property Name="IsInsertTrigger" Value="True" />
			<Property Name="SqlTriggerType" Value="2" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
BEGIN
	-- SET NOCOUNT ON added to prevent extra result sets from
	-- interfering with SELECT statements.
	SET NOCOUNT ON;
	
	declare @PeriodSeq int
	set @PeriodSeq = isnull((select top 1 PeriodSeq from [cloudcore].Period where GETDATE() between StartDate and EndDate),0)
	
	if @PeriodSeq > 0
	begin
		update c
		   set PeriodSeq = @PeriodSeq
		  from [cloudcore].CostLedger c
		 inner join Inserted i on c.LedgerID = i.LedgerID
	end
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Period]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Period].[PeriodSeq]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Period].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Period].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CostLedger]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CostLedger].[LedgerID]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CostLedger].[LedgerID]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CostLedger].[PeriodSeq]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parent">
				<Entry>
					<References Name="[cloudcore].[CostLedger]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Offset" Value="872" />
				<Property Name="Length" Value="550" />
				<Property Name="StartLine" Value="16" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE TRIGGER [cloudcore].[CostLedgerInsert] on [cloudcore].[CostLedger]&#xD;&#xA;&#xD;&#xA;   AFTER INSERT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlScalarFunction" Name="[cloudcore].[CreatePasswordHash]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[fn_strPadRight]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CreatePasswordHash].[@UserId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[fn_varbintohexstr]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CreatePasswordHash].[@Password]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
    declare @salt varchar(5) = cloudcore.fn_strPadRight(cast(@UserId as varchar), 5, '_') 
    declare @hash varchar(40) = cloudcore.fn_varbintohexstr(HashBytes('MD5', @Password + @salt))
    declare @PHash varchar(200) = SUBSTRING(@hash, 3, 32) + @salt

	return lower(@PHash)
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="405" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [cloudcore].[CreatePasswordHash](@UserId int, @Password varchar(100))&#xD;&#xA;RETURNS varchar(200)&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[CreatePasswordHash].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[CreatePasswordHash].[@Password]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Property Name="Length" Value="200" />
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[varchar]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[Dashboard]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Dashboard].[DashboardId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Dashboard].[DashboardGuid]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Dashboard].[SystemModuleId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Dashboard].[Title]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Dashboard].[Description]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Dashboard].[IntervalInMinutes]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Dashboard].[LastRun]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="73" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[Dashboard].[NextRun]">
						<Property Name="ExpressionScript">
							<Value><![CDATA[DATEADD(MINUTE, IntervalInMinutes, LastRun)]]></Value>
						</Property>
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Dashboard].[IntervalInMinutes]" />
							</Entry>
							<Entry>
								<References Name="[cloudcore].[Dashboard].[LastRun]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Dashboard].[StatusId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="74" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[Dashboard].[Status]">
						<Property Name="ExpressionScript">
							<Value><![CDATA[(case [StatusId] when (0) then 'Scheduled' when (1) then 'Running' when (101) then 'Failed' when (100) then 'Disabled' else 'Unknown' end)]]></Value>
						</Property>
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Dashboard].[StatusId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="75" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="76" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="77" />
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[DashboardAddToUser]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	insert into cloudcore.DashboardUserAllocation(DashboardId, UserId, TilePosition)
	values (@DashboardId, @UserId, @TilePosition)]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[DashboardUserAllocation]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardUserAllocation].[DashboardId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardUserAllocation].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardUserAllocation].[TilePosition]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardAddToUser].[@DashboardId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardAddToUser].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardAddToUser].[@TilePosition]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[DashboardAddToUser].[@DashboardId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[DashboardAddToUser].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[DashboardAddToUser].[@TilePosition]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="239" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[DashboardAddToUser]&#xD;&#xA;&#x9;@DashboardId int,&#xD;&#xA;&#x9;@UserId int,&#xD;&#xA;&#x9;@TilePosition int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[DashboardCreate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
  begin
	if not exists (select null from [cloudcore].Dashboard where DashboardGuid = @DashboardGuid)
	  begin
		insert into [cloudcore].Dashboard (SystemModuleId, Title, [Description], DashboardGuid, IntervalInMinutes) 
		     values (@SystemModuleId, @Title, @Description, @DashboardGuid, @IntervalInMinutes)

		set @DashboardID = scope_identity()
	  end
  end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[Dashboard]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[DashboardGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardCreate].[@DashboardGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[SystemModuleId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[Title]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[Description]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[DashboardGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[IntervalInMinutes]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardCreate].[@SystemModuleId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardCreate].[@Title]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardCreate].[@Description]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardCreate].[@IntervalInMinutes]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardCreate].[@DashboardID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[DashboardCreate].[@DashboardID]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[DashboardCreate].[@SystemModuleId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[DashboardCreate].[@Title]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[DashboardCreate].[@Description]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[DashboardCreate].[@IntervalInMinutes]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[DashboardCreate].[@DashboardGuid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="583" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure [cloudcore].[DashboardCreate]&#xD;&#xA;&#x9;@DashboardID int output,&#xD;&#xA;&#x9;@SystemModuleId int,&#xD;&#xA;&#x9;@Title varchar(100),&#xD;&#xA;&#x9;@Description varchar(MAX),&#xD;&#xA;&#x9;@IntervalInMinutes int,&#xD;&#xA;&#x9;@DashboardGuid uniqueidentifier&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[DashboardDelete]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
  delete from [cloudcore].DashboardRight where DashboardId = @DashboardID
  delete from [cloudcore].Dashboard where DashboardId = @DashboardID
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[DashboardRight]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardRight].[DashboardId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardDelete].[@DashboardID]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[DashboardId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[DashboardDelete].[@DashboardID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="226" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure [cloudcore].[DashboardDelete]&#xD;&#xA;&#x9;@DashboardID int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[DashboardFailed]">
			<Property Name="BodyScript">
				<Value><![CDATA[
  begin
	
	if (@StatusTypeId not in (42, 101))
	begin
		raiserror('Invalid status type specified for work list failure update. Allowed values are: 42 (Retry) and 101 (Failed).', 16 ,1)
		return
	end
	
	insert into cloudcore.DashboardFailure(DashboardId, Reason)
	values (@DashboardId, @Reason)

	update d
	set d.StatusId = @StatusTypeId
	from cloudcore.Dashboard as d 
	where d.DashboardId = @DashboardId
  end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[DashboardFailed].[@StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardFailure]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardFailure].[DashboardId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardFailure].[Reason]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardFailed].[@DashboardId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardFailed].[@Reason]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[StatusId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[DashboardId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[DashboardFailed].[@DashboardId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[DashboardFailed].[@Reason]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[DashboardFailed].[@StatusTypeId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="548" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[DashboardFailed]&#xD;&#xA;&#x9;@DashboardId bigint,&#xD;&#xA;&#x9;@Reason varchar(max),&#xD;&#xA;&#x9;@StatusTypeId tinyint&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[DashboardFailure]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[DashboardFailure].[DashboardFailedId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[DashboardFailure].[DashboardId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[DashboardFailure].[FailedAt]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="78" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[DashboardFailure].[Reason]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="79" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="80" />
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[DashboardModify]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
  update [cloudcore].Dashboard
	 set Title = @Title,
	     [Description] = @Description
   where DashboardId = @DashboardId
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[Dashboard]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[Title]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardModify].[@Title]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[Description]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardModify].[@Description]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[DashboardId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardModify].[@DashboardId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[DashboardModify].[@DashboardId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[DashboardModify].[@Title]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[DashboardModify].[@Description]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="261" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure [cloudcore].[DashboardModify]&#xD;&#xA;&#x9;@DashboardId int,&#xD;&#xA;&#x9;@Title varchar(100),&#xD;&#xA;&#x9;@Description varchar(MAX)&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[DashboardRight]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[DashboardRight].[DashboardId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[DashboardRight].[AccessPoolId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="81" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="82" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="83" />
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[DashboardRightCreate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
	if exists (select DashboardId
				 from [cloudcore].DashboardRight
				where DashboardId = @DashboardId and 
				      AccessPoolId = @AccessPoolId)
				      begin
							raiserror(N'The access right has already been configured for this item', 18,1)
							return
				      end
				      
  insert into [cloudcore].DashboardRight (DashboardId,AccessPoolId) values (@DashboardId, @AccessPoolId)
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[DashboardRight]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardRight].[DashboardId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardRightCreate].[@DashboardId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardRight].[AccessPoolId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardRightCreate].[@AccessPoolId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardRight].[DashboardId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardRight].[AccessPoolId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[DashboardRightCreate].[@DashboardId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[DashboardRightCreate].[@AccessPoolId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="513" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure [cloudcore].[DashboardRightCreate]&#xD;&#xA;&#x9;@DashboardId int,&#xD;&#xA;&#x9;@AccessPoolId int&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[DashboardRightDelete]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
	delete from [cloudcore].DashboardRight 
	 where DashboardId = @DashboardID 
	   and AccessPoolId = @AccessPoolId
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[DashboardRight]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardRight].[DashboardId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardRightDelete].[@DashboardID]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardRight].[AccessPoolId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardRightDelete].[@AccessPoolId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[DashboardRightDelete].[@DashboardID]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[DashboardRightDelete].[@AccessPoolId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="225" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure [cloudcore].[DashboardRightDelete]&#xD;&#xA;&#x9;@DashboardID int,&#xD;&#xA;&#x9;@AccessPoolId int &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[DashboardsAvailableToUser]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	select d.DashboardId,d.Title, d.[Description]
	from cloudcore.Dashboard d
	inner join cloudcore.DashboardRight dr on d.DashboardId = dr.DashboardId
	inner join cloudcore.AccessPoolUser apu on dr.AccessPoolId = apu.AccessPoolId
	where apu.UserId = @userId
	and d.DashboardId not in (select DashboardId from cloudcore.DashboardUserAllocation dua where UserId = @userId)]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[Dashboard]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardRight]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[DashboardId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardRight].[DashboardId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardRight].[AccessPoolId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser].[AccessPoolId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[Title]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[Description]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardsAvailableToUser].[@userId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardUserAllocation]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardUserAllocation].[DashboardId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardUserAllocation].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[DashboardsAvailableToUser].[@userId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="453" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[DashboardsAvailableToUser]&#xD;&#xA;&#x9;@userId int = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[DashboardTasksToRun]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    SET NOCOUNT ON;

    DECLARE @Now DATETIME = GETDATE()

    DECLARE @Data TABLE
    (
		DashboardId INT NOT NULL, 
		DashboardGuid UNIQUEIDENTIFIER NOT NULL, 
		SystemModuleId INT NOT NULL, 
		Title VARCHAR(100) NOT NULL, 
		[Description] VARCHAR(MAX) NOT NULL
    )

    UPDATE  d
    SET     d.StatusId = 1
    OUTPUT  INSERTED.DashboardId,
            INSERTED.DashboardGuid,
            INSERTED.SystemModuleId,
			INSERTED.Title,
			INSERTED.[Description]
    INTO    @Data (DashboardId, DashboardGuid, SystemModuleId, Title, [Description])
    FROM    cloudcore.Dashboard d WITH (ROWLOCK, READPAST, UPDLOCK) 
    WHERE   d.NextRun < @Now and d.StatusId = 0


    SELECT  DashboardId, 
			DashboardGuid, 
			SystemModuleId, 
			Title, 
			[Description]
    FROM @Data
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[StatusId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[NextRun]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[DashboardId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[DashboardGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[SystemModuleId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[Title]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[Description]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardTasksToRun].[@Data].[DashboardId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardTasksToRun].[@Data].[DashboardGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardTasksToRun].[@Data].[SystemModuleId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardTasksToRun].[@Data].[Title]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardTasksToRun].[@Data].[Description]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[cloudcore].[DashboardTasksToRun].[@Data]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[DashboardTasksToRun].[@Data].[DashboardId]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[DashboardTasksToRun].[@Data].[DashboardGuid]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[DashboardTasksToRun].[@Data].[SystemModuleId]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[DashboardTasksToRun].[@Data].[Title]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[DashboardTasksToRun].[@Data].[Description]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="IsMax" Value="True" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="874" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[DashboardTasksToRun]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[DashboardTaskUpdate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	UPDATE  d
	SET     d.StatusId = @StatusId,
            d.LastRun = GETDATE()		    
    FROM    cloudcore.Dashboard d
	WHERE   d.DashboardId = @DashboardId
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[Dashboard]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[StatusId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardTaskUpdate].[@StatusId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[LastRun]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[DashboardId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardTaskUpdate].[@DashboardId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[DashboardTaskUpdate].[@DashboardId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[DashboardTaskUpdate].[@StatusId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="267" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[DashboardTaskUpdate]&#xD;&#xA;&#x9;@DashboardId INT,&#xD;&#xA;&#x9;@StatusId TINYINT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[DashboardUserAllocation]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[DashboardUserAllocation].[DashboardUserAllocationId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="24" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[DashboardUserAllocation].[UserId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[DashboardUserAllocation].[DashboardId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[DashboardUserAllocation].[TilePosition]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="84" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="85" />
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[DashboardUserAllocationDelete]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	delete
	from cloudcore.DashboardUserAllocation
	where UserId = @UserId
	and TilePosition = @TilePosition]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[DashboardUserAllocation]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardUserAllocation].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardUserAllocationDelete].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardUserAllocation].[TilePosition]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardUserAllocationDelete].[@TilePosition]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[DashboardUserAllocationDelete].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[DashboardUserAllocationDelete].[@TilePosition]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="209" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[DashboardUserAllocationDelete]&#xD;&#xA;&#x9;@UserId int,&#xD;&#xA;&#x9;@TilePosition int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_Activity_OnlyVisibleAtLocation]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(0)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Activity]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[Activity].[OnlyVisibleAtLocation]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="32" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_ActivityFailed_FailedAt]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[WorklistFailure]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[WorklistFailure].[FailedAt]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="86" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_Campaign_StatusID]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Campaign]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[Campaign].[StatusID]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="47" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_CampaignArchive_Finished]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[CampaignArchive]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[CampaignArchive].[Finished]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="50" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_CampaignArchive_StatusID]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[CampaignArchive]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[CampaignArchive].[StatusID]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="51" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_CampaignItem_Opened]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[CampaignItem]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[CampaignItem].[Opened]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="55" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_CampaignUser_Active]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(0)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[CampaignUser]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[CampaignUser].[Active]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="60" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_CostLedger_Exported]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[CostLedger]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[CostLedger].[Exported]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="69" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_CostLedger_PeriodSeq]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[([cloudcore].[Period_Today]())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[CostLedger]" />
				</Entry>
			</Relationship>
			<Relationship Name="ExpressionDependencies">
				<Entry>
					<References Name="[cloudcore].[Period_Today]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[CostLedger].[PeriodSeq]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="68" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_CostLedger_TransDate]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[CostLedger]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[CostLedger].[TransDate]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="67" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_Dashboard_LastRun]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[GETDATE()]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Dashboard]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[Dashboard].[LastRun]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="73" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_Dashboard_StatusId]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[0]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Dashboard]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[Dashboard].[StatusId]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="74" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_DashboardFailed_FailedAt]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[DashboardFailure]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[DashboardFailure].[FailedAt]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="78" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_LoginHistory_Connected]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[LoginHistory]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[LoginHistory].[Connected]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="87" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_Notification_Created]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[getdate()]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Notification]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[Notification].[Created]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="88" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_Notify_Email]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[('')]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[NotifyEmail]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="89" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_ScheduledTask_KeepAliveDate]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(0)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[KeepAliveDate]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="90" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_ScheduledTask_MaxRetries]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(0)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[MaxRetries]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="91" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_ScheduledTask_Retries]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(0)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[Retries]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="92" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_ScheduledTask_RetryDelayInSeconds]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(0)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[RetryDelayInSeconds]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="93" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_ScheduledTaskFailed_FailedAt]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskFailed]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskFailed].[FailedAt]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="94" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_User_Created]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[User].[Created]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="95" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_User_Email]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[('')]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[User].[Email]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="96" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_User_IsAdministrator]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[0]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[User].[IsAdministrator]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="97" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_User_LastLogin]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[User].[LastLogin]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="98" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_User_PasswordChanged]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[User].[PasswordChanged]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="99" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_User_PasswordHash]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[('')]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[User].[PasswordHash]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="100" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_User_UserKey]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[newid()]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[User].[UserKey]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="101" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_Worklist_Activate]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[Worklist].[Activate]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="102" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_Worklist_Assigned]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[Worklist].[Assigned]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="103" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_Worklist_Created]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[Worklist].[Created]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="104" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_Worklist_DocWait]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[Worklist].[DocWait]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="105" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_Worklist_KeepAliveDate]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(0)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[Worklist].[KeepAliveDate]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="106" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_Worklist_Opened]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[Worklist].[Opened]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="107" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_Worklist_OpenedBy]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[Worklist].[OpenedBy]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="108" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_Worklist_PInstanceId]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[Worklist].[PInstanceId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="109" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_Worklist_Priority]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[Worklist].[Priority]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="110" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_Worklist_Retries]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[Worklist].[Retries]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="111" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_Worklist_StatusTypeId]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[Worklist].[StatusTypeId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="112" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcore].[DF_Worklist_UserId]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcore].[Worklist].[UserId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="113" />
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[Favourite]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Favourite].[UserId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Favourite].[FavouriteGuid]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Favourite].[FavouriteTypeId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[smallint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[Favourite].[FavouriteType]">
						<Property Name="ExpressionScript">
							<Value><![CDATA[(case [FavouriteTypeId] when (0) then 'Menu' when (1) then 'Dashboard' else 'Unknown' end)]]></Value>
						</Property>
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Favourite].[FavouriteTypeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="114" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="115" />
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[FavouriteAdd]">
			<Property Name="BodyScript">
				<Value><![CDATA[

	declare @favouriteCount smallint = 0

  if @FavouriteTypeId = 0
	begin	
		select @favouriteCount = count(UserId)
		from [cloudcore].Favourite
		where UserId = @UserId
		and FavouriteTypeId = @FavouriteTypeId

		if(@favouriteCount >= 7)
			begin
				RAISERROR ('You are only allowed 7 menu item favourites.  Please delete one to add another.', 16, 1)
				return
			end
	end


  insert into [cloudcore].Favourite (UserId, FavouriteGuid, FavouriteTypeId)
      values (@UserId, @FavouriteGuid, @FavouriteTypeId)]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[smallint]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[FavouriteAdd].[@FavouriteTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Favourite]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Favourite].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[FavouriteAdd].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Favourite].[FavouriteTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Favourite].[FavouriteGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[FavouriteAdd].[@FavouriteGuid]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[FavouriteAdd].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[FavouriteAdd].[@FavouriteGuid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[FavouriteAdd].[@FavouriteTypeId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[smallint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="657" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[FavouriteAdd]&#xD;&#xA;&#x9;@UserId int,&#xD;&#xA;&#x9;@FavouriteGuid uniqueidentifier, &#xD;&#xA;&#x9;@FavouriteTypeId smallint&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[FavouriteRemove]">
			<Property Name="BodyScript">
				<Value><![CDATA[
  delete from [cloudcore].Favourite 
         where UserId = @UserId 
		   and FavouriteGuid = @FavouriteGuid
		   and FavouriteTypeId = @FavouriteTypeId]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[Favourite]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Favourite].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[FavouriteRemove].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Favourite].[FavouriteGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[FavouriteRemove].[@FavouriteGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Favourite].[FavouriteTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[FavouriteRemove].[@FavouriteTypeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[FavouriteRemove].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[FavouriteRemove].[@FavouriteGuid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[FavouriteRemove].[@FavouriteTypeId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="283" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[FavouriteRemove]&#xD;&#xA;&#x9;@UserId int, &#xD;&#xA;&#x9;@FavouriteGuid uniqueidentifier, &#xD;&#xA;&#x9;@FavouriteTypeId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_AccessPoolUser_AccessPool]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser].[AccessPoolId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[AccessPool].[AccessPoolId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[AccessPool]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="30" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_AccessPoolUser_User]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="31" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_Activity_ActivityModel]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityModelId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Activity]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityModelId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="34" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_Activity_ActivityType]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityTypeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Activity]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityType].[ActivityTypeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityType]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="35" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_Activity_SystemModule]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[Activity].[SystemModuleId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Activity]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[SystemModule].[SystemModuleId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[SystemModule]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="36" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_ActivityAllocation_AccessPool]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[ActivityAllocation].[AccessPoolId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ActivityAllocation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[AccessPool].[AccessPoolId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[AccessPool]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="39" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_ActivityAllocation_Activity]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[ActivityAllocation].[ActivityId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ActivityAllocation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[Activity]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="40" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_ActivityFailed_Activity]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[WorklistFailure].[ActivityId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[WorklistFailure]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[Activity]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="116" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_ActivityFailed_User]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[WorklistFailure].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[WorklistFailure]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="117" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_ActivityFailureHistory_ActivityModel]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[ActivityFailureHistory].[ActivityModelId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ActivityFailureHistory]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityModelId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="41" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_ActivityFailureHistory_User]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[ActivityFailureHistory].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ActivityFailureHistory]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="42" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_ActivityHistory_ActivityModel]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[ActivityModelId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ActivityHistory]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityModelId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="44" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_ActivityHistory_StatusType]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[StatusTypeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ActivityHistory]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcoremodel].[StatusType].[StatusTypeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcoremodel].[StatusType]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="45" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_ActivityHistory_User]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ActivityHistory]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="46" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_Campaign_User]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[Campaign].[ManagerId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Campaign]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="49" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_CampaignArchive_Campaign]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[CampaignArchive].[CampaignID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[CampaignArchive]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[Campaign].[CampaignID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[Campaign]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="53" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_CampaignArchive_User]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[CampaignArchive].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[CampaignArchive]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="54" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_CampaignItem_Activity]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[CampaignItem].[ActivityId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[CampaignItem]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[Activity]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="57" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_CampaignItem_Campaign]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[CampaignItem].[CampaignID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[CampaignItem]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[Campaign].[CampaignID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[Campaign]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="58" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_CampaignItem_Worklist]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[CampaignItem].[InstanceId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[CampaignItem]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[Worklist].[InstanceId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="59" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_CampaignUser_Campaign]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[CampaignUser].[CampaignID]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[CampaignUser]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[Campaign].[CampaignID]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[Campaign]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="62" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_CampaignUser_User]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[CampaignUser].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[CampaignUser]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="63" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_CostLedger_ActivityModel]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[CostLedger].[ActivityModelId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[CostLedger]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityModelId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="71" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_CostLedger_Period]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[CostLedger].[PeriodSeq]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[CostLedger]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[Period].[PeriodSeq]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[Period]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="72" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_Dashboard_SystemModule]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[Dashboard].[SystemModuleId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Dashboard]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[SystemModule].[SystemModuleId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[SystemModule]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="76" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_DashboardFailed_Dashboard]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[DashboardFailure].[DashboardId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[DashboardFailure]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[Dashboard].[DashboardId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[Dashboard]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="80" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_DashboardRight_AccessRight]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[DashboardRight].[AccessPoolId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[DashboardRight]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[AccessPool].[AccessPoolId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[AccessPool]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="82" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_DashboardRight_Dashboard]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[DashboardRight].[DashboardId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[DashboardRight]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[Dashboard].[DashboardId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[Dashboard]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="83" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_DashboardUserAllocation_Dashboard]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[DashboardUserAllocation].[DashboardId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[DashboardUserAllocation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[Dashboard].[DashboardId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[Dashboard]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="85" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_DashboardUserAllocation_User]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[DashboardUserAllocation].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[DashboardUserAllocation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="84" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_Favourite_User]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[Favourite].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Favourite]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="115" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_LoginHistory_ApplicationId]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[LoginHistory].[ApplicationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[LoginHistory]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[SystemApplication].[ApplicationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[SystemApplication]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="118" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_LoginHistory_User]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[LoginHistory].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[LoginHistory]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="119" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_Notification_Creator]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[Notification].[Creator]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Notification]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="120" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_ProcessHistory_ProcessModel]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[ProcessHistory].[ProcessModelId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ProcessHistory]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModel].[ProcessModelId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModel]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="121" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_ScheduledTask_ScheduledTaskGroup]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[ScheduledTaskGroupId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskGroup].[ScheduledTaskGroupId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskGroup]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="122" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_ScheduledTask_SystemModule]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[SystemModuleId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[SystemModule].[SystemModuleId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[SystemModule]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="123" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_ScheduledTaskFailed_ScheduledTask]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskFailed].[ScheduledTaskId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskFailed]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[ScheduledTaskId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="124" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_ScheduledTaskGroup_SystemModule]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskGroup].[SystemModuleId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskGroup]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[SystemModule].[SystemModuleId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[SystemModule]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="125" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_ScheduledTaskGroup_User]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskGroup].[ManagerUserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskGroup]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="126" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_SystemAction_SystemModule]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[SystemAction].[SystemModuleId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[SystemAction]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[SystemModule].[SystemModuleId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[SystemModule]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="127" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_SystemActionAllocation_AccessRight]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[SystemActionAllocation].[AccessPoolId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[SystemActionAllocation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[AccessPool].[AccessPoolId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[AccessPool]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="128" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_SystemActionAllocation_SystemAction]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[SystemActionAllocation].[ActionId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[SystemActionAllocation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[SystemAction].[ActionId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[SystemAction]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="129" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_SystemApplicationAllocation_Activity]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[SystemApplicationAllocation].[ActivityId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[SystemApplicationAllocation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[Activity]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="130" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_SystemApplicationAllocation_Application]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[SystemApplicationAllocation].[ApplicationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[SystemApplicationAllocation]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[SystemApplication].[ApplicationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[SystemApplication]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="131" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_SystemValue_SystemValueCategory]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[SystemValue].[CategoryId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[SystemValue]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[SystemValueCategory].[CategoryId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[SystemValueCategory]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="132" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_UserAccessMapping_Provider]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[UserAccessMapping].[ProviderId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[UserAccessMapping]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[UserAccessProvider].[ProviderId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[UserAccessProvider]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="133" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_UserAccessMapping_User]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[UserAccessMapping].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[UserAccessMapping]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="134" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_Worklist_Activity]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[Worklist].[ActivityId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[Activity]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="135" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_Worklist_OpenedBy]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[Worklist].[OpenedBy]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="136" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_Worklist_StatusType]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[Worklist].[StatusTypeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcoremodel].[StatusType].[StatusTypeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcoremodel].[StatusType]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="137" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_Worklist_User_UserId]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[Worklist].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="138" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_WorklistFailure_Worklist]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[WorklistFailure].[InstanceId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[WorklistFailure]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[Worklist].[InstanceId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="139" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_WorklistReference_ReferenceType]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[WorklistReference].[ReferenceTypeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[WorklistReference]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[ReferenceType].[ReferenceTypeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[ReferenceType]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="140" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcore].[FK_WorklistReference_Worklist]">
			<Property Name="OnDeleteAction" Value="1" />
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcore].[WorklistReference].[InstanceId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[WorklistReference]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[Worklist].[InstanceId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="141" />
		</Element>
		<Element Type="SqlScalarFunction" Name="[cloudcore].[FlowHasTrigger]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[sysobjects]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[sysobjects].[type]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[sysobjects].[name]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[FlowHasTrigger].[@FlowGuid]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
begin
	return
	case when exists(select null
			    from sys.sysobjects
			   where type = 'P'
				 and name like 'CCTrigger_' + Replace(Cast(@FlowGuid as varchar(38)), '-', '_'))
	then
		1
	else
		0
	end
end]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="311" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [cloudcore].[FlowHasTrigger]&#xD;&#xA;(@FlowGuid uniqueidentifier)&#xD;&#xA;RETURNS bit&#xD;&#xA;as" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[FlowHasTrigger].[@FlowGuid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[bit]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlScalarFunction" Name="[cloudcore].[fn_strPadLeft]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[fn_strPadLeft].[@OrigString]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[fn_strPadLeft].[@PadLength]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[fn_strPadLeft].[@PadChar]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
    DECLARE @Result VARCHAR(MAX);
    DECLARE @OrigLength INT;
 
    SET @OrigLength = LEN(@OrigString);
    
    IF (@OrigLength >= @PadLength)
    BEGIN
        SET @Result = @OrigString
    END
    ELSE
    BEGIN
        SET @Result = REPLICATE(@PadChar, @PadLength - @OrigLength) + @OrigString;
    END
 
    RETURN @Result
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="521" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [cloudcore].[fn_strPadLeft]&#xD;&#xA;(&#xD;&#xA;    @OrigString VARCHAR(MAX) = NULL,&#xD;&#xA;    @PadLength INT = 0,&#xD;&#xA;    @PadChar CHAR(1) = ' '&#xD;&#xA;)&#xD;&#xA;RETURNS VARCHAR(MAX)&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[fn_strPadLeft].[@OrigString]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[fn_strPadLeft].[@PadLength]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[fn_strPadLeft].[@PadChar]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[' ']]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="1" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[char]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Property Name="IsMax" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[varchar]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlScalarFunction" Name="[cloudcore].[fn_strPadRight]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[fn_strPadRight].[@OrigString]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[fn_strPadRight].[@PadLength]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[fn_strPadRight].[@PadChar]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
    DECLARE @Result VARCHAR(MAX); 
    DECLARE @OrigLength INT;
 
    SET @OrigLength = LEN(@OrigString);
     
    IF (@OrigLength >= @PadLength)
    BEGIN
        SET @Result = @OrigString
    END
    ELSE
    BEGIN
        SET @Result = @OrigString + REPLICATE(@PadChar, @PadLength - @OrigLength);
    END
 
    RETURN @Result
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="524" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [cloudcore].[fn_strPadRight]&#xD;&#xA;(&#xD;&#xA;    @OrigString VARCHAR(MAX) = NULL,&#xD;&#xA;    @PadLength INT = 0,&#xD;&#xA;    @PadChar CHAR(1) = ' '&#xD;&#xA;)&#xD;&#xA;RETURNS VARCHAR(MAX)&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[fn_strPadRight].[@OrigString]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[fn_strPadRight].[@PadLength]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[fn_strPadRight].[@PadChar]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[' ']]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="1" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[char]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Property Name="IsMax" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[varchar]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlScalarFunction" Name="[cloudcore].[fn_varbintohexstr]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[fn_varbintohexstr].[@pbinin]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	declare @value nvarchar(max)

	select @value = lower(convert(nvarchar(max), @pbinin, 1))
	RETURN @value
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="44" />
							<Property Name="Length" Value="270" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="/* For SQL Azure backward compatibility */&#xD;&#xA;CREATE FUNCTION [cloudcore].[fn_varbintohexstr]&#xD;&#xA;(&#xD;&#xA;&#x9;@pbinin varbinary(max)&#xD;&#xA;)&#xD;&#xA;RETURNS nvarchar(max)&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[fn_varbintohexstr].[@pbinin]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varbinary]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Property Name="IsMax" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[nvarchar]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlScalarFunction" Name="[cloudcore].[GenerateUniqueKey]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[GenerateUniqueKey].[@Seed]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[char]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[char]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[GenerateUniqueKey].[@Length]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[GenerateUniqueKey].[@Prefix]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
    declare @LOFSTR integer
    declare @I integer
    declare @NOASSTRING varchar(16)
    declare @DIGSTRING varchar(16)
    declare @ASTR varchar(16)
    declare @BSTR varchar(2)
    declare @AINT integer
    declare @BINT integer
    declare @CHKNUMBER integer
    declare @UNIQUEKEY varchar(20)
  -- Get Check Digit
  set @NOASSTRING = cast(@Seed as varchar(16))
  set @DIGSTRING = ''
  set @LOFSTR = len(@NOASSTRING)
  set @ASTR = ''
  set @AINT = 0
  while len(@DIGSTRING) < @LOFSTR
    begin
      set @I = ((len(@DIGSTRING) + 1) % 3)
      if (@I = 1) 
        set @BINT = 7
      if (@I = 2) 
        set @BINT = 3
      if (@I = 0) 
        set @BINT = 1

      set @DIGSTRING = @DIGSTRING + cast(@BINT as char(1))
      set @AINT = @LOFSTR - len(@DIGSTRING) + 1
      set @AINT = cast(substring(@NOASSTRING, @AINT, 1) as integer)
      set @AINT = @AINT * @BINT
      set @BSTR = cast(@AINT as varchar(2))
      set @ASTR = substring(@BSTR, len(@BSTR), 1) + @ASTR
    end

  set @AINT = len(@ASTR)
  set @I = 1
  set @BINT = 0

  while (@I < @AINT + 1)
    begin
      set @BINT = @BINT + cast(substring(@ASTR, @I, 1) as integer)
      set @I = @I + 1
    end

  set @ASTR = cast(@BINT as varchar(16))
  set @AINT = cast(substring(@ASTR, len(@ASTR), 1) as integer)

  if (@AINT = 0) 
    set @CHKNUMBER = 0 
  else 
    Set @CHKNUMBER = 10 - @AINT

  -- Create Key using Unique No, Check Digit and Shop ID
  set @UNIQUEKEY = cast(@Seed as varchar(15)) + cast(@CHKNUMBER as char(1))
  while (len(@UNIQUEKEY) < @Length - 4) 
    set @UNIQUEKEY = '0' + @UNIQUEKEY
  
  return @Prefix + '-' + @UNIQUEKEY
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="1754" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [cloudcore].[GenerateUniqueKey]&#xD;&#xA;(&#xD;&#xA;  @Prefix varchar(3),&#xD;&#xA;  @Seed BIGINT,&#xD;&#xA;  @Length int&#xD;&#xA;)&#xD;&#xA;RETURNS VARCHAR(20)&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[GenerateUniqueKey].[@Prefix]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="3" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[GenerateUniqueKey].[@Seed]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[GenerateUniqueKey].[@Length]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Property Name="Length" Value="20" />
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[varchar]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[LoginDetailsGet]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
  set @PasswordHash = 'x0x'
  set @UserId = -1

  -- get the user details
  select @PasswordHash = isnull(U.PasswordHash, ''), 
         @UserId = U.UserId
    from [cloudcore].[User] U
   where U.[Login] = @Login and U.Active = 1 and isnull(U.PasswordHash,'')<>''
  
   if (@UserId = -1) and exists(select Active from [cloudcore].[User] where [Login] = @Login and Active = 0)
   begin
     raiserror ('User account is not active. Please contact your system administrator.', 16, 2)
     return
   end 

   if (@UserId > -1) and not exists(select null from [cloudcore].AccessPoolUser where UserId = @UserId and AccessPoolId > 0)
   begin
     raiserror ('This user has not been granted any access rights.', 16, 2)
     return
   end 
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[LoginDetailsGet].[@PasswordHash]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[LoginDetailsGet].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[PasswordHash]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[Login]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[LoginDetailsGet].[@Login]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[Active]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[Active]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[Login]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser].[AccessPoolId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[LoginDetailsGet].[@Login]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="320" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[LoginDetailsGet].[@UserId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[LoginDetailsGet].[@PasswordHash]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="64" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="892" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create Procedure [cloudcore].[LoginDetailsGet]&#xD;&#xA;@Login VARCHAR (320), @UserId INT OUTPUT, @PasswordHash VARCHAR (64) OUTPUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[LoginHistory]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[LoginHistory].[LoginHistoryId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="142" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[LoginHistory].[UserId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[LoginHistory].[ApplicationId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[LoginHistory].[Connected]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="87" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="119" />
			<AttachedAnnotation Disambiguator="118" />
		</Element>
		<Element Type="SqlIndex" Name="[cloudcore].[LoginHistory].[IX_LoginHistory_Connected]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Property Name="IsAscending" Value="False" />
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[LoginHistory].[Connected]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[cloudcore].[LoginHistory]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[LoginUpdate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
  if not exists(select 1 from cloudcore.[User] where UserId = @UserId and Active = 1)
  begin
    raiserror('Cannot create audit entry for login. Invalid user specified.', 16, 1)
  end

  SET @LastLogin = getdate()

  -- create history
  insert into [cloudcore].LoginHistory (UserId, ApplicationId) values (@UserId, @ApplicationId)
  update U set LastLogin = @LastLogin from [cloudcore].[User] U where U.UserId = @UserId 
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[LoginUpdate].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[Active]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[LoginUpdate].[@LastLogin]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[LoginHistory]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[LoginHistory].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[LoginHistory].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[LoginUpdate].[@ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[LastLogin]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[LoginUpdate].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[LoginUpdate].[@ApplicationId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[LoginUpdate].[@LastLogin]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="550" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[LoginUpdate]&#xD;&#xA;@UserId INT,&#xD;&#xA;@ApplicationId INT,&#xD;&#xA;@LastLogin datetime out&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[MaintainPeriods]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN

	SET NOCOUNT ON;

	IF EXISTS (SELECT TOP(1)NULL FROM [cloudcore].Period)
	BEGIN
		DECLARE @StartDate datetime
			SELECT @StartDate = DATEADD(dd,1,MAX(EndDate)) FROM [cloudcore].Period
		DECLARE @EndDate datetime
			SELECT @EndDate = DATEADD(s,-1,DATEADD(mm, DATEDIFF(m,0,@StartDate)+1,0))
		DECLARE @PeriodMonth tinyint
			SELECT @PeriodMonth = DATEPART(MONTH, @StartDate)
		DECLARE @PeriodYear int
			SELECT @PeriodYear = DATEPART(YEAR, @StartDate)

		WHILE (DATEDIFF(MONTH, GETDATE(), (SELECT MAX(EndDate) FROM [cloudcore].Period)) < 120) /* 120 Double check this value!!!*/
		BEGIN
			INSERT INTO [cloudcore].Period (StartDate, EndDate, PeriodMonth, PeriodYear) 
				VALUES (@StartDate, @EndDate, @PeriodMonth, @PeriodYear)
			
			SET @StartDate = DATEADD(MONTH,1,@StartDate)
			SELECT @EndDate = DATEADD(s,-1,DATEADD(mm, DATEDIFF(m,0,@StartDate)+1,0))
			SELECT @PeriodMonth = DATEPART(MONTH, @StartDate)
			SELECT @PeriodYear = DATEPART(YEAR, @StartDate)
		END
	END
	ELSE
	BEGIN
		
		INSERT INTO [cloudcore].Period (StartDate, EndDate, PeriodMonth, PeriodYear) 
				VALUES (@StartDate, @EndDate, @PeriodMonth, @PeriodYear)	
	END

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[tinyint]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Period]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Period].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Period].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Period].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Period].[PeriodMonth]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Period].[PeriodYear]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="261" />
				<Property Name="Length" Value="1494" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="-- =============================================&#xD;&#xA;-- Author:&#x9;&#x9;Mark Diamond&#xD;&#xA;-- Create date: 5/5/2010&#xD;&#xA;-- Description:&#x9;See Ticket #104&#xD;&#xA;--&#x9;&#x9;&#x9;&#x9;Will ensure that periods exist &#xD;&#xA;--&#x9;&#x9;&#x9;&#x9;for 10 years in to the future&#xD;&#xA;-- =============================================&#xD;&#xA;CREATE PROCEDURE [cloudcore].[MaintainPeriods] &#xD;&#xA;&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlScalarFunction" Name="[cloudcore].[ModuleAuthorizationCheck]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ModuleAuthorizationCheck].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[IntAccess]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ModuleAuthorizationCheck].[@IntAccess]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[ExtAccess]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ModuleAuthorizationCheck].[@ExtAccess]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
begin
  return case when exists(  select  NULL
                              from cloudcore.[User] U 
							 where UserId = @UserId 
							   and IntAccess = @IntAccess
							   and ExtAccess = @ExtAccess

            ) then 1 else 0 end

end]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="372" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [cloudcore].ModuleAuthorizationCheck (@IntAccess bit, @ExtAccess bit, @UserId int )&#xD;&#xA;RETURNS bit&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ModuleAuthorizationCheck].[@IntAccess]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ModuleAuthorizationCheck].[@ExtAccess]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ModuleAuthorizationCheck].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[bit]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[Notification]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Notification].[NotificationId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="23" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Notification].[Subject]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Notification].[Message]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="1000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Notification].[Created]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="88" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Notification].[Creator]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="120" />
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[NotificationCreateByAccessPool]">
			<Property Name="BodyScript">
				<Value><![CDATA[

begin
  insert into [cloudcore].[Notification] ([Subject], [Message], Creator)
                    values (@Subject, @Message, @Creator)
  
  set @NotificationId = SCOPE_IDENTITY()

    declare @UserId int

    declare UserNotificationCursor cursor FAST_FORWARD for
    select apu.UserId
	  from [cloudcore].AccessPoolUser apu
	  join cloudcore.[User] u on apu.UserId = u.UserId
	where AccessPoolId = @AccessPoolId
	  and u.IntAccess = 1 
      and not exists (select null from cloudcore.UserNotification where UserId = u.UserId and NotificationId = @NotificationId)

    open UserNotificationCursor

    fetch next from UserNotificationCursor
        into @UserId

    while @@FETCH_STATUS = 0
    begin
        
        insert into [cloudcore].UserNotification (UserId, NotificationId)
            select @UserId, @NotificationId
	        where not exists (select null from cloudcore.UserNotification where UserId = @UserId and NotificationId = @NotificationId)

        fetch next from UserNotificationCursor
            into @UserId
    end

    close UserNotificationCursor
    deallocate UserNotificationCursor

end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Notification]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Notification].[Subject]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Notification].[Message]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Notification].[Creator]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[NotificationCreateByAccessPool].[@Subject]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[NotificationCreateByAccessPool].[@Message]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[NotificationCreateByAccessPool].[@Creator]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[NotificationCreateByAccessPool].[@NotificationId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser].[AccessPoolId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[NotificationCreateByAccessPool].[@AccessPoolId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[IntAccess]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserNotification]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserNotification].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserNotification].[NotificationId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserNotification].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserNotification].[NotificationId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserNotification].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserNotification].[NotificationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[NotificationCreateByAccessPool].[@AccessPoolId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[NotificationCreateByAccessPool].[@Creator]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[NotificationCreateByAccessPool].[@Subject]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[NotificationCreateByAccessPool].[@Message]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="1000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[NotificationCreateByAccessPool].[@NotificationId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1304" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[NotificationCreateByAccessPool]&#xD;&#xA;&#x9;@AccessPoolId int,&#xD;&#xA;&#x9;@Creator int,&#xD;&#xA;&#x9;@Subject varchar(50),&#x9;&#xD;&#xA;&#x9;@Message varchar(1000),&#xD;&#xA;&#x9;@NotificationId int out&#xD;&#xA;&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[NotificationCreateByUser]">
			<Property Name="BodyScript">
				<Value><![CDATA[

begin
  insert into [cloudcore].[Notification] ([Subject], [Message], Creator)
                    values (@Subject, @Message, @Creator)
  
  set @NotificationId = SCOPE_IDENTITY()

  insert into [cloudcore].[UserNotification] (UserId, NotificationId)
                        values (@UserId, @NotificationId)

	return @NotificationId
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[Notification]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Notification].[Subject]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Notification].[Message]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Notification].[Creator]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[NotificationCreateByUser].[@Subject]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[NotificationCreateByUser].[@Message]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[NotificationCreateByUser].[@Creator]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[NotificationCreateByUser].[@NotificationId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserNotification]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserNotification].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserNotification].[NotificationId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[NotificationCreateByUser].[@UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[NotificationCreateByUser].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[NotificationCreateByUser].[@Creator]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[NotificationCreateByUser].[@Subject]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[NotificationCreateByUser].[@Message]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="1000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[NotificationCreateByUser].[@NotificationId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="521" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[NotificationCreateByUser]&#xD;&#xA;&#x9;@UserId int,&#xD;&#xA;&#x9;@Creator int,&#xD;&#xA;&#x9;@Subject varchar(50),&#x9;&#xD;&#xA;&#x9;@Message varchar(1000),&#xD;&#xA;&#x9;@NotificationId int out&#xD;&#xA;&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[NotificationDelete]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
  delete from [cloudcore].[UserNotification] where NotificationId  = @NotificationId
  delete from [cloudcore].[Notification] where NotificationId = @NotificationId
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[UserNotification]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserNotification].[NotificationId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[NotificationDelete].[@NotificationId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Notification]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Notification].[NotificationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[NotificationDelete].[@NotificationId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="254" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[NotificationDelete]&#xD;&#xA;&#x9;@NotificationId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[NotificationMarkAsRead]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
  update [cloudcore].[UserNotification] set HasRead = 1 where UserId = @UserId and NotificationId = @NotificationId
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[UserNotification]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserNotification].[HasRead]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserNotification].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[NotificationMarkAsRead].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserNotification].[NotificationId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[NotificationMarkAsRead].[@NotificationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[NotificationMarkAsRead].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[NotificationMarkAsRead].[@NotificationId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="227" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[NotificationMarkAsRead]&#xD;&#xA;   @UserId int,&#xD;&#xA;   @NotificationId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[NotificationRemove]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
  delete from [cloudcore].[UserNotification] where NotificationId = @NotificationId and UserId = @UserId
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[UserNotification]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserNotification].[NotificationId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[NotificationRemove].[@NotificationId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserNotification].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[NotificationRemove].[@UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[NotificationRemove].[@NotificationId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[NotificationRemove].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="208" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[NotificationRemove]&#xD;&#xA;&#x9;@NotificationId int,&#xD;&#xA;&#x9;@UserId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[NotificationRemoveAll]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
  delete from [cloudcore].[UserNotification] where UserId = @UserId
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[UserNotification]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserNotification].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[NotificationRemoveAll].[@UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[NotificationRemoveAll].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="151" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[NotificationRemoveAll]&#xD;&#xA;&#x9;@UserId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[NotificationToggleImportant]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin	

  update [cloudcore].[UserNotification] 
  set Important = 
				case
					when Important = 1 then 0
					else 1
                end				
  where UserId = @UserId and NotificationId = @NotificationId

  SET @Important = (select Important from [cloudcore].[UserNotification] where UserId = @UserId and NotificationId = @NotificationId)
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[UserNotification]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserNotification].[Important]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserNotification].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[NotificationToggleImportant].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserNotification].[NotificationId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[NotificationToggleImportant].[@NotificationId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[NotificationToggleImportant].[@Important]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserNotification].[Important]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserNotification].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserNotification].[NotificationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[NotificationToggleImportant].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[NotificationToggleImportant].[@NotificationId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[NotificationToggleImportant].[@Important]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="484" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[NotificationToggleImportant]&#xD;&#xA;   @UserId int,&#xD;&#xA;   @NotificationId int,&#xD;&#xA;   @Important int out&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlScalarFunction" Name="[cloudcore].[Ordinals]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Ordinals].[@Number]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
     
      DECLARE @Outcome VARCHAR(10)
 
      SET @Outcome = (SELECT CASE WHEN ((@Number % 100) > 10) AND ((@Number % 100) < 14)  THEN CAST(@Number AS varchar(5)) + 'th' END)
     
      IF @Outcome IS NULL
      BEGIN
            SET @Outcome = (SELECT CASE WHEN (@Number % 10) = 1 THEN CAST(@Number AS varchar(5)) + 'st'
                                    WHEN (@Number % 10) = 2 THEN CAST(@Number AS varchar(5)) + 'nd'
                                    WHEN (@Number % 10) = 3 THEN CAST(@Number AS varchar(5)) + 'rd' 
                                    ELSE CAST(@Number AS varchar(5)) + 'th' END)
      END
      RETURN @Outcome
 
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="756" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [cloudcore].[Ordinals]&#xD;&#xA;(&#xD;&#xA;      @Number INT&#xD;&#xA;)&#xD;&#xA;RETURNS varchar(10)&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[Ordinals].[@Number]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Property Name="Length" Value="10" />
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[varchar]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[Period]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Period].[PeriodSeq]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Period].[StartDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Period].[EndDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Period].[PeriodMonth]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Period].[PeriodYear]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[Period].[PeriodTitle]">
						<Property Name="ExpressionScript">
							<Value><![CDATA[((CONVERT([nvarchar](30),[StartDate],(106))+' - ')+CONVERT([nvarchar](30),[EndDate],(106)))]]></Value>
						</Property>
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[nvarchar]" />
							</Entry>
							<Entry>
								<References Name="[cloudcore].[Period].[StartDate]" />
							</Entry>
							<Entry>
								<References Name="[cloudcore].[Period].[EndDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="143" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="144" />
		</Element>
		<Element Type="SqlScalarFunction" Name="[cloudcore].[Period_Get]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Period]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Period].[PeriodSeq]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Period].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Period_Get].[@DATE]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Period].[EndDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
  Declare @SEQ int

  Select @SEQ = PeriodSeq 
    from [cloudcore].Period
   where StartDate <= @DATE
     and EndDate >= @DATE
     
  RETURN(@SEQ)
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="243" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE function [cloudcore].[Period_Get](@DATE datetime)&#xD;&#xA;RETURNS int&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[Period_Get].[@DATE]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[int]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlScalarFunction" Name="[cloudcore].[Period_Today]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[Period]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Period].[PeriodSeq]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Period].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Period].[EndDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
  RETURN (Select PeriodSeq 
            from [cloudcore].Period 
           where GetDate() between StartDate and EndDate)
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="201" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE function [cloudcore].[Period_Today]()&#xD;&#xA;&#xD;&#xA;RETURNS int&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[int]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[PeriodCreate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
	
	if exists (select null 
                from [cloudcore].Period 
               where @StartDate between StartDate and EndDate)
		begin
		      raiserror(N'The start date cannot be within another financial period', 18, 1)
		      return
		end 

	insert into [cloudcore].Period (StartDate, EndDate, PeriodMonth, PeriodYear)
				  values (@StartDate, @EndDate, @PeriodMonth, @PeriodYear)
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[Period]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[PeriodCreate].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Period].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Period].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Period].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Period].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Period].[PeriodMonth]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Period].[PeriodYear]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[PeriodCreate].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[PeriodCreate].[@PeriodMonth]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[PeriodCreate].[@PeriodYear]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[PeriodCreate].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[PeriodCreate].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[PeriodCreate].[@PeriodMonth]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[PeriodCreate].[@PeriodYear]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="541" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[PeriodCreate]&#xD;&#xA;&#x9;@StartDate DateTime,&#xD;&#xA;&#x9;@EndDate DateTime,&#xD;&#xA;&#x9;@PeriodMonth Int,&#xD;&#xA;&#x9;@PeriodYear Int&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[PeriodDelete]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
	
	if exists (select null 
                from [cloudcore].CostLedger 
               where PeriodSeq = @PeriodSeq)
		begin
    		  raiserror(N'Unable to delete, there are one or more Cost Ledger items using this financial period.',18, 1) 	

		      return
		end 
		
	delete from [cloudcore].Period 
	      where PeriodSeq = @PeriodSeq
	   
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[CostLedger]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CostLedger].[PeriodSeq]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[PeriodDelete].[@PeriodSeq]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Period]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Period].[PeriodSeq]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[PeriodDelete].[@PeriodSeq]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="434" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[PeriodDelete]&#xD;&#xA;    @PeriodSeq Int&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[PeriodModify]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
	
	if exists (select null 
                from [cloudcore].Period 
               where @StartDate between StartDate and EndDate
				 and PeriodSeq <> @PeriodSeq)
		begin
		      raiserror(N'The start date cannot be within another financial period', 18, 1)
		end 
	
	  update [cloudcore].Period 
		 set StartDate = @StartDate,
			 EndDate = @EndDate,
			 PeriodMonth = @PeriodMonth,
			 PeriodYear = @PeriodYear
	   where PeriodSeq = @PeriodSeq
		   
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[Period]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[PeriodModify].[@StartDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Period].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Period].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Period].[PeriodSeq]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[PeriodModify].[@PeriodSeq]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Period].[StartDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Period].[EndDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[PeriodModify].[@EndDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Period].[PeriodMonth]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[PeriodModify].[@PeriodMonth]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Period].[PeriodYear]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[PeriodModify].[@PeriodYear]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Period].[PeriodSeq]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[PeriodModify].[@PeriodSeq]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[PeriodModify].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[PeriodModify].[@EndDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[PeriodModify].[@PeriodMonth]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[PeriodModify].[@PeriodYear]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="630" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[PeriodModify]&#xD;&#xA;    @PeriodSeq Int,&#xD;&#xA;&#x9;@StartDate DateTime,&#xD;&#xA;&#x9;@EndDate DateTime,&#xD;&#xA;&#x9;@PeriodMonth Int,&#xD;&#xA;&#x9;@PeriodYear Int&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcore].[PK_AccessPool]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[AccessPool].[AccessPoolId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[AccessPool]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="28" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcore].[PK_AccessPoolUser]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[AccessPoolUser].[AccessPoolId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[AccessPoolUser].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="29" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcore].[PK_Activity]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[Activity].[ActivityId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Activity]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="33" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcore].[PK_ActivityAllocation]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[ActivityAllocation].[ActivityId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[ActivityAllocation].[AccessPoolId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ActivityAllocation]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="38" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcore].[PK_ActivityFailed]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[WorklistFailure].[WorklistFailureId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[WorklistFailure]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="145" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcore].[PK_ActivityHistory]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[ActivityHistory].[ActivityArchiveId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ActivityHistory]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="43" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcore].[PK_Campaign]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[Campaign].[CampaignID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Campaign]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="48" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcore].[PK_CampaignArchive]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[CampaignArchive].[CampaignID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[CampaignArchive].[InstanceId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[CampaignArchive]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="52" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcore].[PK_CampaignItem]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[CampaignItem].[CampaignID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[CampaignItem].[InstanceId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[CampaignItem]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="56" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcore].[PK_CampaignUser]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[CampaignUser].[CampaignID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[CampaignUser].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[CampaignUser]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="61" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcore].[PK_CostLedger]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[CostLedger].[LedgerID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[CostLedger]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="70" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcore].[PK_Dashboard]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[Dashboard].[DashboardId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Dashboard]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="75" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcore].[PK_DashboardFailed]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[DashboardFailure].[DashboardFailedId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[DashboardFailure]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="79" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcore].[PK_DashboardRight]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[DashboardRight].[DashboardId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[DashboardRight].[AccessPoolId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[DashboardRight]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="81" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcore].[PK_Favourite]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[Favourite].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[Favourite].[FavouriteGuid]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[Favourite].[FavouriteTypeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Favourite]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="114" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcore].[PK_LoginHistory]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[LoginHistory].[LoginHistoryId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[LoginHistory]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="142" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcore].[PK_Period]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[Period].[PeriodSeq]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Period]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="143" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcore].[PK_ProcessHistory]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[ProcessHistory].[ProcessArchiveId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ProcessHistory]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="146" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcore].[PK_ReferenceType]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[ReferenceType].[ReferenceTypeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ReferenceType]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="147" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcore].[PK_ScheduledTask]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[ScheduledTask].[ScheduledTaskId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="148" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcore].[PK_ScheduledTaskFailed]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[ScheduledTaskFailed].[ScheduledTaskFailedId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskFailed]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="149" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcore].[PK_ScheduledTaskGroup]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[ScheduledTaskGroup].[ScheduledTaskGroupId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskGroup]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="150" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcore].[PK_SystemAction]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[SystemAction].[ActionId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[SystemAction]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="151" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcore].[PK_SystemActionAllocation]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[SystemActionAllocation].[ActionId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[SystemActionAllocation].[AccessPoolId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[SystemActionAllocation]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="152" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcore].[PK_SystemApplicationAllocation]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[SystemApplicationAllocation].[ApplicationId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[SystemApplicationAllocation].[ActivityId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[SystemApplicationAllocation]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="153" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcore].[PK_SystemModule]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[SystemModule].[SystemModuleId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[SystemModule]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="154" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcore].[PK_SystemTally]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[SystemTally].[TallyId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[SystemTally]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="155" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcore].[PK_SystemValue]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[SystemValue].[ValueID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[SystemValue]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="156" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcore].[PK_SystemValueCategory]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[SystemValueCategory].[CategoryId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[SystemValueCategory]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="157" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcore].[PK_User]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[User].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="158" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcore].[PK_UserAccessMapping]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[UserAccessMapping].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[UserAccessMapping].[ProviderId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[UserAccessMapping].[UserKey]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[UserAccessMapping]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="159" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcore].[PK_UserNotification]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[UserNotification].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[UserNotification].[NotificationId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[UserNotification]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="160" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcore].[PK_Worklist]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[Worklist].[InstanceId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="161" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcore].[PK_WorklistReference]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[WorklistReference].[ReferenceTypeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[WorklistReference].[InstanceId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[WorklistReference]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="162" />
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[ProcessChangeOwner]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
	update [cloudcoremodel].ProcessRevision
	set ManagerId = @ManagerId
	where ProcessRevisionId = @ProcessRevisionId
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ManagerId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ProcessChangeOwner].[@ManagerId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ProcessRevisionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ProcessChangeOwner].[@ProcessRevisionId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ProcessChangeOwner].[@ProcessRevisionId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ProcessChangeOwner].[@ManagerId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="227" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure [cloudcore].[ProcessChangeOwner]&#xD;&#xA;&#x9;@ProcessRevisionId int, &#xD;&#xA;&#x9;@ManagerId int&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[ProcessHistory]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ProcessHistory].[ProcessArchiveId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ProcessHistory].[InstanceId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ProcessHistory].[PInstanceId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ProcessHistory].[ProcessModelId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ProcessHistory].[KeyValue]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ProcessHistory].[Started]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ProcessHistory].[Ended]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ProcessHistory].[StatusId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="146" />
			<AttachedAnnotation Disambiguator="121" />
		</Element>
		<Element Type="SqlIndex" Name="[cloudcore].[ProcessHistory].[IX_ProcessHistory_InstanceId]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[ProcessHistory].[InstanceId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[cloudcore].[ProcessHistory]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlScalarFunction" Name="[cloudcore].[PROPER]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[PROPER].[@STRING]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
begin
  declare @LENGTH int
  declare @POSITION int

  if @STRING is NULL or @STRING = '' return @STRING;

  if len(@STRING) = 1 return upper(@STRING);

  set @POSITION = 0;

  select @STRING = ltrim(@STRING) ;
  select  @LENGTH = len(@STRING);


  select @STRING = upper(substring(@STRING, 1, 1)) + 
                   lower(substring(@STRING, 2, @LENGTH -1));

  while @LENGTH > 0
  begin
    set @POSITION = charindex(' ', @STRING, @POSITION + 1);

    if @POSITION = 0 return @STRING;

    select @STRING = substring(@STRING, 1, @POSITION) + 
                     upper(substring(@STRING, @POSITION + 1, 1)) + 
                     substring(@STRING, @POSITION + 2, @LENGTH - @POSITION -1);
  end

  return @STRING
end]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="841" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [cloudcore].[PROPER]&#xD;&#xA;(@STRING VARCHAR (255))&#xD;&#xA;RETURNS VARCHAR (255)&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[PROPER].[@STRING]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Property Name="Length" Value="255" />
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[varchar]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[ReferenceType]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ReferenceType].[ReferenceTypeId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ReferenceType].[ReferenceType]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="147" />
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[ResetRunningOutdatedScheduledTasks]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN    
    DECLARE @Orphans TABLE
    (
        ScheduledTaskGuid UNIQUEIDENTIFIER PRIMARY KEY NOT NULL
    )

    DECLARE @TimeOutLimitDate DATETIME = DATEADD(SECOND, (@KeepAliveTimeOutInSeconds * -1), GETDATE())

    UPDATE  S
    SET     S.StatusId = @PendingStatusId
    OUTPUT  INSERTED.ScheduledTaskGuid
    INTO    @Orphans (ScheduledTaskGuid)
    FROM    cloudcore.ScheduledTask S WITH (READPAST)
    WHERE   (StatusId = @RunningStatusId OR StatusId = @RetryStatusId)
            AND KeepAliveDate <= @TimeOutLimitDate

    SELECT  ScheduledTaskGuid 
    FROM    @Orphans
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ResetRunningOutdatedScheduledTasks].[@KeepAliveTimeOutInSeconds]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[StatusId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ResetRunningOutdatedScheduledTasks].[@PendingStatusId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ResetRunningOutdatedScheduledTasks].[@RunningStatusId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ResetRunningOutdatedScheduledTasks].[@RetryStatusId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[KeepAliveDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[ScheduledTaskGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ResetRunningOutdatedScheduledTasks].[@Orphans].[ScheduledTaskGuid]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[cloudcore].[ResetRunningOutdatedScheduledTasks].[@Orphans]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[ResetRunningOutdatedScheduledTasks].[@Orphans].[ScheduledTaskGuid]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ResetRunningOutdatedScheduledTasks].[@KeepAliveTimeOutInSeconds]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ResetRunningOutdatedScheduledTasks].[@RunningStatusId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ResetRunningOutdatedScheduledTasks].[@RetryStatusId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ResetRunningOutdatedScheduledTasks].[@PendingStatusId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="802" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[ResetRunningOutdatedScheduledTasks]&#xD;&#xA;    @KeepAliveTimeOutInSeconds INT,&#xD;&#xA;    @RunningStatusId TINYINT,&#xD;&#xA;    @RetryStatusId TINYINT,&#xD;&#xA;    @PendingStatusId TINYINT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[ResetRunningOutdatedWorkflowItems]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN    
    DECLARE @Orphans TABLE (
        InstanceId BIGINT PRIMARY KEY NOT NULL,
        ActivityId INT NOT NULL
    )

    DECLARE @TimeOutLimitDate DATETIME = DATEADD(SECOND, (@KeepAliveTimeOutInSeconds * -1), GETDATE())

    UPDATE  W
    SET     W.StatusTypeId = @PendingStatusId
    OUTPUT  INSERTED.InstanceId, INSERTED.ActivityId
    INTO    @Orphans (InstanceId, ActivityId)
    FROM    cloudcore.Worklist W WITH (READPAST)
    INNER JOIN cloudcore.vwWorklistEx v WITH (NOLOCK)
        ON  v.InstanceId = w.InstanceId
    WHERE   w.[KeepAliveDate] <= @TimeOutLimitDate
            AND (w.[StatusTypeId] = @RunningStatusId OR w.StatusTypeId = @RetryStatusId)
            AND v.ActivityTypeName != 'Custom User Activity' 
            AND v.ActivityTypeName != 'CloudCore User Activity'

    SELECT  InstanceId, ActivityId
    FROM    @Orphans
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ResetRunningOutdatedWorkflowItems].[@KeepAliveTimeOutInSeconds]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwWorklistEx]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwWorklistEx].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ResetRunningOutdatedWorkflowItems].[@PendingStatusId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[KeepAliveDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ResetRunningOutdatedWorkflowItems].[@RunningStatusId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ResetRunningOutdatedWorkflowItems].[@RetryStatusId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwWorklistEx].[ActivityTypeName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ResetRunningOutdatedWorkflowItems].[@Orphans].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ResetRunningOutdatedWorkflowItems].[@Orphans].[ActivityId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[cloudcore].[ResetRunningOutdatedWorkflowItems].[@Orphans]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[ResetRunningOutdatedWorkflowItems].[@Orphans].[InstanceId]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bigint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[ResetRunningOutdatedWorkflowItems].[@Orphans].[ActivityId]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ResetRunningOutdatedWorkflowItems].[@KeepAliveTimeOutInSeconds]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ResetRunningOutdatedWorkflowItems].[@RunningStatusId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ResetRunningOutdatedWorkflowItems].[@RetryStatusId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ResetRunningOutdatedWorkflowItems].[@PendingStatusId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1077" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[ResetRunningOutdatedWorkflowItems]&#xD;&#xA;    @KeepAliveTimeOutInSeconds INT,&#xD;&#xA;    @RunningStatusId TINYINT,&#xD;&#xA;    @RetryStatusId TINYINT,&#xD;&#xA;    @PendingStatusId TINYINT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[RestartFailedWorklistItem]">
			<Property Name="BodyScript">
				<Value><![CDATA[

UPDATE [cloudcore].Worklist
	SET StatusTypeId = 0
WHERE InstanceId = @InstanceId
AND	  StatusTypeId = 101]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[RestartFailedWorklistItem].[@InstanceId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[RestartFailedWorklistItem].[@InstanceId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="190" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[RestartFailedWorklistItem]&#xD;&#xA;&#x9;@InstanceId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[RestartFailedWorklistItemByActivity]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
	update w
	   set StatusTypeId = 0
	  from cloudcore.Worklist w
	 inner join cloudcoremodel.StatusType st on w.StatusTypeId = st.StatusTypeId
	 where st.StatusTypeName = 'Failed'
	 and w.ActivityId = @ActivityId

	 select w.InstanceId
	   from cloudcore.Worklist w
	  where ActivityId = @ActivityId
	    and StatusTypeId = 0
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[StatusType]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[StatusType].[StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[StatusType].[StatusTypeName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[RestartFailedWorklistItemByActivity].[@ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[InstanceId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[RestartFailedWorklistItemByActivity].[@ActivityId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="437" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[RestartFailedWorklistItemByActivity]&#xD;&#xA;&#x9;@ActivityId int&#x9;&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[ScheduledTask]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTask].[ScheduledTaskId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTask].[ScheduledTaskGuid]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTask].[ScheduledTaskName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTask].[ScheduledTaskTypeId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[ScheduledTask].[ScheduledTaskType]">
						<Property Name="ExpressionScript">
							<Value><![CDATA[(case [ScheduledTaskTypeId] when (0) then 'Sql' when (1) then 'CSharp' else 'Unknown' end)]]></Value>
						</Property>
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[ScheduledTask].[ScheduledTaskTypeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTask].[Created]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="13" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTask].[Started]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTask].[StatusId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[ScheduledTask].[Status]">
						<Property Name="ExpressionScript">
							<Value><![CDATA[(case [StatusId] when (0) then 'Scheduled' when (1) then 'Running' when (101) then 'Failed' when (100) then 'Disabled' when (42) then 'Retry' else 'Unknown' end)]]></Value>
						</Property>
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[ScheduledTask].[StatusId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTask].[Active]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="14" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTask].[OnDemand]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="15" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTask].[IntervalType]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="16" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[ScheduledTask].[IntervalTypeName]">
						<Property Name="ExpressionScript">
							<Value><![CDATA[(case [IntervalType] when (0) then 'Years' when (1) then 'Months' when (2) then 'Weeks' when (3) then 'Days' when (4) then 'Hours' when (5) then 'Minutes' when (6) then 'Seconds' else 'Days' end)]]></Value>
						</Property>
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[ScheduledTask].[IntervalType]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTask].[IntervalValue]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTask].[InitDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="17" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTask].[NextRunDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="18" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTask].[ScheduledTaskGroupId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTask].[SystemModuleId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTask].[NotifyEmail]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="89" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTask].[Retries]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="92" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTask].[MaxRetries]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="91" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTask].[RetryDelayInSeconds]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="93" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTask].[KeepAliveDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="90" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTask].[DateCompleted]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[ScheduledTask].[TimeTakenInSeconds]">
						<Property Name="ExpressionScript">
							<Value><![CDATA[case when isnull([Started], 1) > isnull(DateCompleted, 0) then 'Not Completed Yet' else cast(datediff(second, [Started], DateCompleted) as varchar(20)) end]]></Value>
						</Property>
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[ScheduledTask].[Started]" />
							</Entry>
							<Entry>
								<References Name="[cloudcore].[ScheduledTask].[DateCompleted]" />
							</Entry>
							<Entry>
								<References ExternalSource="BuiltIns" Name="[varchar]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="148" />
			<AttachedAnnotation Disambiguator="64" />
			<AttachedAnnotation Disambiguator="65" />
			<AttachedAnnotation Disambiguator="122" />
			<AttachedAnnotation Disambiguator="123" />
		</Element>
		<Element Type="SqlIndex" Name="[cloudcore].[ScheduledTask].[UQ_ScheduledTask_ScheduledTaskGuid_Dates]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[ScheduledTask].[ScheduledTaskGuid]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IncludedColumns">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[InitDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[NextRunDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlDmlTrigger" Name="[cloudcore].[ScheduledTaskDeleteTrigger]">
			<Property Name="IsDeleteTrigger" Value="True" />
			<Property Name="SqlTriggerType" Value="1" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
begin
    delete  F
    from    cloudcore.ScheduledTaskFailed F
    inner join deleted d
        on d.ScheduledTaskId = F.ScheduledTaskId
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskFailed]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[ScheduledTaskId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskFailed].[ScheduledTaskId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parent">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Offset" Value="4090" />
				<Property Name="CreateOffset" Value="2" />
				<Property Name="Length" Value="266" />
				<Property Name="StartLine" Value="74" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;create TRIGGER [cloudcore].[ScheduledTaskDeleteTrigger]&#xD;&#xA;    ON [cloudcore].[ScheduledTask]&#xD;&#xA;    FOR DELETE&#xD;&#xA;    AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[ScheduledTaskDeploy]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN	
    set @ScheduledTaskId = (select  ScheduledTaskId
                            from    cloudcore.ScheduledTask
                            where   ScheduledTaskGuid = @ScheduledTaskGuid)

    declare @ScheduledTaskGroupId int

    select  @ScheduledTaskGroupId = G.ScheduledTaskGroupId
    from    cloudcore.ScheduledTaskGroup G
    where   G.ScheduledTaskGroupGuid = @ScheduledTaskGroupGuid

    if @ScheduledTaskId is not NULL
    begin
        update  S
        set     S.ScheduledTaskGroupId = @ScheduledTaskGroupId,
                S.ScheduledTaskName = @ScheduledTaskName,
                S.ScheduledTaskTypeId = @ScheduledTaskTypeId
        from    cloudcore.ScheduledTask S
        where   S.ScheduledTaskGuid = @ScheduledTaskGuid
    end
    else
    begin
        
        if @ScheduledTaskTypeId = 1
        begin
            -- TODO: Should we raise an error if the ActionLibrary does not exist in SystemModule ???
            select  @SystemModuleId = isnull(ActionMod.SystemModuleId, @SystemModuleId)
            from    cloudcore.SystemModule WebMod
            left join cloudcore.SystemModule ActionMod
                on  WebMod.AssemblyName = WebMod.AssemblyName + '.ActionLibrary'
            where   WebMod.SystemModuleId = @SystemModuleId
        end

        insert into cloudcore.ScheduledTask (ScheduledTaskGroupId, ScheduledTaskGuid, ScheduledTaskName, ScheduledTaskTypeId, SystemModuleId, IntervalType, IntervalValue, Active, NextRunDate, InitDate, StatusId)
            values (@ScheduledTaskGroupId, @ScheduledTaskGuid, @ScheduledTaskName, @ScheduledTaskTypeId, @SystemModuleId, @IntervalType, @IntervalValue, 0, @StartDate, @StartDate, 0)

        set @ScheduledTaskGroupId = SCOPE_IDENTITY()
    end
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskDeploy].[@ScheduledTaskId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[ScheduledTaskId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[ScheduledTaskGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskDeploy].[@ScheduledTaskGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskGroup]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskGroup].[ScheduledTaskGroupId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskGroup].[ScheduledTaskGroupGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskDeploy].[@ScheduledTaskGroupGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[ScheduledTaskGroupId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[ScheduledTaskName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskDeploy].[@ScheduledTaskName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[ScheduledTaskTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskDeploy].[@ScheduledTaskTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[ScheduledTaskGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemModule]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemModule].[AssemblyName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskDeploy].[@SystemModuleId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemModule].[SystemModuleId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[SystemModuleId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[IntervalType]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[IntervalValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[Active]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[NextRunDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[InitDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[StatusId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskDeploy].[@IntervalType]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskDeploy].[@IntervalValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskDeploy].[@StartDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ScheduledTaskDeploy].[@ScheduledTaskGroupGuid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ScheduledTaskDeploy].[@ScheduledTaskGuid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ScheduledTaskDeploy].[@ScheduledTaskName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ScheduledTaskDeploy].[@ScheduledTaskTypeId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ScheduledTaskDeploy].[@SystemModuleId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ScheduledTaskDeploy].[@IntervalType]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ScheduledTaskDeploy].[@IntervalValue]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ScheduledTaskDeploy].[@StartDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ScheduledTaskDeploy].[@ScheduledTaskId]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2140" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[ScheduledTaskDeploy]&#xD;&#xA;    @ScheduledTaskGroupGuid uniqueidentifier, &#xD;&#xA;    @ScheduledTaskGuid uniqueidentifier,&#xD;&#xA;    @ScheduledTaskName varchar(50),&#xD;&#xA;    @ScheduledTaskTypeId tinyint,&#xD;&#xA;    @SystemModuleId int,&#xD;&#xA;    @IntervalType tinyint,&#xD;&#xA;    @IntervalValue int,&#xD;&#xA;    @StartDate datetime,&#xD;&#xA;    @ScheduledTaskId int = NULL out&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[ScheduledTaskFailed]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTaskFailed].[ScheduledTaskFailedId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTaskFailed].[ScheduledTaskId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTaskFailed].[FailedAt]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="94" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTaskFailed].[Reason]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="149" />
			<AttachedAnnotation Disambiguator="124" />
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[ScheduledTaskGroup]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTaskGroup].[ScheduledTaskGroupId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTaskGroup].[ScheduledTaskGroupGuid]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTaskGroup].[SystemModuleId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTaskGroup].[ScheduledTaskGroupName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTaskGroup].[ManagerUserId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="12" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="150" />
			<AttachedAnnotation Disambiguator="125" />
			<AttachedAnnotation Disambiguator="126" />
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[ScheduledTaskGroupDeploy]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    set @ScheduledTaskGroupId = (select  ScheduledTaskGroupId
                                 from    cloudcore.ScheduledTaskGroup
                                 where   ScheduledTaskGroupGuid = @Guid)

    if @ScheduledTaskGroupId is not NULL
    begin
        update  G
        set     G.ScheduledTaskGroupName = @GroupName
        from    cloudcore.ScheduledTaskGroup G
        where   G.ScheduledTaskGroupGuid = @Guid
    end
    else
    begin
        insert into cloudcore.ScheduledTaskGroup (ScheduledTaskGroupGuid, ScheduledTaskGroupName, SystemModuleId)
            values (@Guid, @GroupName, @SystemModuleId)

        set @ScheduledTaskGroupId = SCOPE_IDENTITY()
    end
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskGroupDeploy].[@ScheduledTaskGroupId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskGroup]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskGroup].[ScheduledTaskGroupId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskGroup].[ScheduledTaskGroupGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskGroupDeploy].[@Guid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskGroup].[ScheduledTaskGroupName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskGroupDeploy].[@GroupName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskGroup].[ScheduledTaskGroupGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskGroup].[SystemModuleId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskGroupDeploy].[@SystemModuleId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ScheduledTaskGroupDeploy].[@Guid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ScheduledTaskGroupDeploy].[@GroupName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ScheduledTaskGroupDeploy].[@SystemModuleId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ScheduledTaskGroupDeploy].[@ScheduledTaskGroupId]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="896" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[ScheduledTaskGroupDeploy]&#xD;&#xA;    @Guid uniqueidentifier,&#xD;&#xA;    @GroupName varchar(50),&#xD;&#xA;&#x9;@SystemModuleId int,&#xD;&#xA;    @ScheduledTaskGroupId int = NULL out&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[ScheduledTaskGroupUpdate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
  begin
  	if exists (select null from cloudcore.ScheduledTask where ScheduledTaskName = @ScheduledTaskGroupName and ScheduledTaskId <> @ScheduledTaskGroupId)
	  begin
		raiserror('A Scheduled Task Group with the selected name already exists!',16,1)
		return
      end

	update cloudcore.ScheduledTaskGroup 
	set ScheduledTaskGroupName = @ScheduledTaskGroupName,
	    ManagerUserId = @ManagerUserId
    where ScheduledTaskGroupId = @ScheduledTaskGroupId
  end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[ScheduledTaskName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskGroupUpdate].[@ScheduledTaskGroupName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[ScheduledTaskId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskGroupUpdate].[@ScheduledTaskGroupId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskGroup]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskGroup].[ScheduledTaskGroupName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskGroup].[ManagerUserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskGroupUpdate].[@ManagerUserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskGroup].[ScheduledTaskGroupId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ScheduledTaskGroupUpdate].[@ScheduledTaskGroupId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ScheduledTaskGroupUpdate].[@ScheduledTaskGroupName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ScheduledTaskGroupUpdate].[@ManagerUserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="624" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[ScheduledTaskGroupUpdate]&#xD;&#xA;&#x9;@ScheduledTaskGroupId int = 0,&#xD;&#xA;&#x9;@ScheduledTaskGroupName varchar(50),&#xD;&#xA;&#x9;@ManagerUserId int&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[ScheduledTaskKeepAlive]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    update  S
    set     S.KeepAliveDate = getdate()
    from    cloudcore.ScheduledTask S
    where   S.ScheduledTaskId = @ScheduledTaskId
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[KeepAliveDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[ScheduledTaskId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskKeepAlive].[@ScheduledTaskId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ScheduledTaskKeepAlive].[@ScheduledTaskId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="240" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[ScheduledTaskKeepAlive]&#xD;&#xA;    @ScheduledTaskId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[ScheduledTasksPerGroupId]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT OFF;

	SELECT
		st.ScheduledTaskId,
		st.ScheduledTaskGuid,
		st.ScheduledTaskName,
		st.ScheduledTaskTypeId,
		st.StatusId,
		st.[Status],
		st.Active,
		st.ScheduledTaskGroupId
	FROM 
		ScheduledTask st
	WHERE 
		st.ScheduledTaskGroupId = @scheduledTaskGroupId
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[ScheduledTaskId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[ScheduledTaskGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[ScheduledTaskName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[ScheduledTaskTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[StatusId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[Status]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[Active]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[ScheduledTaskGroupId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTasksPerGroupId].[@scheduledTaskGroupId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ScheduledTasksPerGroupId].[@scheduledTaskGroupId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="394" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[ScheduledTasksPerGroupId]&#xD;&#xA;&#x9;@scheduledTaskGroupId int = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[ScheduledTasksToRun]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    SET NOCOUNT ON;

    declare @Now DATETIME = getdate()

    declare @Data table
    (
        ScheduledTaskId int not null,
        ScheduledTaskGuid uniqueidentifier not null,
		ScheduledTaskTypeId tinyint not null,
		ScheduledTaskName varchar(50) not null,
		Retries int not null,
		MaxRetries int not null,
		RetryDelayInSeconds int not null
    )

    UPDATE  st
    SET     st.Started = GETDATE(),
	        st.StatusId = 1,
			st.Retries = CASE WHEN st.StatusId = 42
						          THEN st.Retries + 1
						      ELSE st.Retries
						 END,
            st.KeepAliveDate = dateadd(second, @KeepAliveTimeOutInSeconds, getdate())
    OUTPUT  INSERTED.ScheduledTaskId,
            INSERTED.ScheduledTaskGuid,
            INSERTED.ScheduledTaskTypeId,
			inserted.ScheduledTaskName,
			INSERTED.Retries,
			INSERTED.MaxRetries,
			inserted.RetryDelayInSeconds
    INTO    @Data (ScheduledTaskId, ScheduledTaskGuid, ScheduledTaskTypeId, ScheduledTaskName, Retries, MaxRetries, RetryDelayInSeconds)
    FROM    cloudcore.ScheduledTask st WITH (ROWLOCK, READPAST, UPDLOCK) 
    WHERE   (st.NextRunDate < @Now and st.StatusId = @StatusId)
              or 
            (st.OnDemand = 1 and StatusId = 0) -- TODO: Make these hard values parameters for the stored proc (more maintainable)

    SELECT  ScheduledTaskId, 
			ScheduledTaskGuid, 
	        ScheduledTaskTypeId, 
			ScheduledTaskName,
			Retries,
			MaxRetries,
			RetryDelayInSeconds
    FROM    @Data st
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[Started]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[StatusId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[Retries]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[KeepAliveDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTasksToRun].[@KeepAliveTimeOutInSeconds]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[NextRunDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTasksToRun].[@StatusId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[OnDemand]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[ScheduledTaskId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[ScheduledTaskGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[ScheduledTaskTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[ScheduledTaskName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[MaxRetries]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[RetryDelayInSeconds]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTasksToRun].[@Data].[ScheduledTaskId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTasksToRun].[@Data].[ScheduledTaskGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTasksToRun].[@Data].[ScheduledTaskTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTasksToRun].[@Data].[ScheduledTaskName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTasksToRun].[@Data].[Retries]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTasksToRun].[@Data].[MaxRetries]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTasksToRun].[@Data].[RetryDelayInSeconds]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[cloudcore].[ScheduledTasksToRun].[@Data]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTasksToRun].[@Data].[ScheduledTaskId]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTasksToRun].[@Data].[ScheduledTaskGuid]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTasksToRun].[@Data].[ScheduledTaskTypeId]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[tinyint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTasksToRun].[@Data].[ScheduledTaskName]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTasksToRun].[@Data].[Retries]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTasksToRun].[@Data].[MaxRetries]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[ScheduledTasksToRun].[@Data].[RetryDelayInSeconds]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ScheduledTasksToRun].[@StatusId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ScheduledTasksToRun].[@KeepAliveTimeOutInSeconds]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[900]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1636" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[ScheduledTasksToRun]&#xD;&#xA;&#x9;@StatusId INT,&#xD;&#xA;    @KeepAliveTimeOutInSeconds int = 900&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[ScheduledTaskToggleActiveStatus]">
			<Property Name="BodyScript">
				<Value><![CDATA[
  begin
    update  cloudcore.ScheduledTask
       set  StatusId = case when Active = 0 then 
                                case when StatusId = 101 then 0 else StatusId end
                            else 
                                100
                       end,
            Active = case when Active = 1 then 0 else 1 end
     where  ScheduledTaskId = @ScheduledTaskId
  end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[StatusId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[Active]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[ScheduledTaskId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskToggleActiveStatus].[@ScheduledTaskId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ScheduledTaskToggleActiveStatus].[@ScheduledTaskId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="489" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[ScheduledTaskToggleActiveStatus]&#xD;&#xA;    @ScheduledTaskId int&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[ScheduledTaskUpdateConfig]">
			<Property Name="BodyScript">
				<Value><![CDATA[
  begin
	
	if exists (select null from cloudcore.ScheduledTask where ScheduledTaskName = @ScheduledTaskName and ScheduledTaskId <> @ScheduledTaskId)
	  begin
		raiserror('A Scheduled Task with the selected name already exists!',16,1)
		return
	  end

	update cloudcore.ScheduledTask
	set ScheduledTaskName = @ScheduledTaskName,
	    IntervalValue = @IntervalValue,
		IntervalType = @IntervalType,
		NextRunDate = isnull(@NextRunDate,NextRunDate),
		Active = @IsActive,
        StatusId = case when @IsActive = 1 then 
                            case when StatusId = 101 then 0 else StatusId end
                        else 
                            100
                   end,
        NotifyEmail = @NotifyEmail
	where ScheduledTaskId = @ScheduledTaskId

  end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[ScheduledTaskName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskUpdateConfig].[@ScheduledTaskName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[ScheduledTaskId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskUpdateConfig].[@ScheduledTaskId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[ScheduledTaskName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[IntervalValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskUpdateConfig].[@IntervalValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[IntervalType]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskUpdateConfig].[@IntervalType]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[NextRunDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskUpdateConfig].[@NextRunDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[Active]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskUpdateConfig].[@IsActive]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[StatusId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[NotifyEmail]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskUpdateConfig].[@NotifyEmail]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[ScheduledTaskId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ScheduledTaskUpdateConfig].[@ScheduledTaskId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ScheduledTaskUpdateConfig].[@ScheduledTaskName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ScheduledTaskUpdateConfig].[@IntervalValue]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ScheduledTaskUpdateConfig].[@IntervalType]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ScheduledTaskUpdateConfig].[@NextRunDate]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ScheduledTaskUpdateConfig].[@NotifyEmail]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ScheduledTaskUpdateConfig].[@IsActive]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1035" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[ScheduledTaskUpdateConfig]&#xD;&#xA;&#x9;@ScheduledTaskId int, &#xD;&#xA;&#x9;@ScheduledTaskName varchar(50),&#xD;&#xA;&#x9;@IntervalValue int,&#xD;&#xA;&#x9;@IntervalType tinyint,&#xD;&#xA;&#x9;@NextRunDate datetime = null,&#xD;&#xA;    @NotifyEmail varchar(255),&#xD;&#xA;&#x9;@IsActive bit&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[ScheduledTaskUpdateOutcome]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
	if @StatusId not in (0, 42, 101)
    begin
        raiserror('Invalid status ID specified for "ScheduledTaskUpdateOutcome". Allowed values are: 0 (Pending), 42 (Retry) and 101 (Failed).', 16, 1)
        return
    end

    if @StatusId in (42,101)
	BEGIN
        if len(isnull(rtrim(@Reason), '')) = 0
        begin
            raiserror('The @Reason parameter is required when using "ScheduledTaskUpdateOutcome" to indicate @StatusId of Retry (42) or Failure (101).', 16, 1)
            return
        end

	    insert into cloudcore.ScheduledTaskFailed (ScheduledTaskId, Reason)
             values (@ScheduledTaskId, @Reason)
	END

	update  ST
	set     ST.StatusId = @StatusId,
            ST.OnDemand = 0,
	        ST.NextRunDate = case when @StatusId = 0 then [cloudcore].CalculateNextRunDate(ST.InitDate, ST.IntervalType, ST.IntervalValue) else ST.NextRunDate end,
		    ST.InitDate = case when @StatusId = 0 then [cloudcore].CalculateNextInitDate(ST.InitDate, ST.IntervalType, ST.IntervalValue) else ST.InitDate end -- shifting along
    from    cloudcore.ScheduledTask ST
	where   ST.ScheduledTaskId = @ScheduledTaskId
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskUpdateOutcome].[@StatusId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskUpdateOutcome].[@Reason]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskFailed]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskFailed].[ScheduledTaskId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskFailed].[Reason]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskUpdateOutcome].[@ScheduledTaskId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[StatusId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[OnDemand]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[NextRunDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CalculateNextRunDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[InitDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[IntervalType]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[IntervalValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CalculateNextInitDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[ScheduledTaskId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ScheduledTaskUpdateOutcome].[@ScheduledTaskId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ScheduledTaskUpdateOutcome].[@StatusId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ScheduledTaskUpdateOutcome].[@Reason]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1302" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[ScheduledTaskUpdateOutcome]&#xD;&#xA;&#x9;@ScheduledTaskId int,&#xD;&#xA;&#x9;@StatusId tinyint, &#xD;&#xA;&#x9;@Reason varchar(max) = null&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[ScheduledTaskUpdateStatus]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	UPDATE 
		[cloudcore].ScheduledTask
	SET
		[StatusId] = @statusId
	WHERE
		ScheduledTaskId = @scheduledTaskId
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[StatusId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskUpdateStatus].[@statusId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[ScheduledTaskId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskUpdateStatus].[@scheduledTaskId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ScheduledTaskUpdateStatus].[@scheduledTaskId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ScheduledTaskUpdateStatus].[@statusId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="229" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[ScheduledTaskUpdateStatus]&#xD;&#xA;&#x9;@scheduledTaskId int,&#xD;&#xA;&#x9;@statusId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlDmlTrigger" Name="[cloudcore].[ScheduledTaskUpdateTrigger]">
			<Property Name="IsUpdateTrigger" Value="True" />
			<Property Name="SqlTriggerType" Value="1" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
begin
    if update(StatusId) and exists (select null from DELETED)
    begin
        update  S
        set     S.Retries = 0,
                S.DateCompleted = case when (d.StatusId = 1 OR d.StatusId = 42) then getdate() else NULL end
        from    cloudcore.ScheduledTask S
        inner join inserted i
        on i.ScheduledTaskId = s.ScheduledTaskId
        inner join deleted d
        on d.ScheduledTaskId = i.ScheduledTaskId
        where d.StatusId != i.StatusId
            and i.StatusId = 0

        delete  F
        from    cloudcore.ScheduledTaskFailed F
        inner join inserted i
         on i.ScheduledTaskId = F.ScheduledTaskId
        inner join deleted d
         on d.ScheduledTaskId = F.ScheduledTaskId
         where i.StatusId = 0 -- magic numbers... hmmm, we should move this to the front-end...
         and (d.StatusId = 42 OR d.StatusId = 101) -- magic numbers... hmmm, we should move this to the front-end...
    end
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[StatusId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[ScheduledTaskId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[ScheduledTaskId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[Retries]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTask].[DateCompleted]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskFailed]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ScheduledTaskFailed].[ScheduledTaskId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parent">
				<Entry>
					<References Name="[cloudcore].[ScheduledTask]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Offset" Value="2986" />
				<Property Name="CreateOffset" Value="2" />
				<Property Name="Length" Value="1098" />
				<Property Name="StartLine" Value="44" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;create TRIGGER [cloudcore].[ScheduledTaskUpdateTrigger]&#xD;&#xA;    ON [cloudcore].[ScheduledTask]&#xD;&#xA;    FOR UPDATE&#xD;&#xA;    AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[ServerInfo]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
	select top 1 SERVERPROPERTY('ComputerNamePhysicalNetBIOS') servername, @@VERSION version,
		   SERVERPROPERTY('ProductVersion') ProductVersion,
		   SERVERPROPERTY('ProductLevel') ProductLevel,
		   SERVERPROPERTY('Edition') Edition
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[ServerInfo].[@DBName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="315" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure [cloudcore].ServerInfo&#xD;&#xA;@DBName varchar(256)&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlMultiStatementTableValuedFunction" Name="[cloudcore].[Split]">
			<Property Name="ReturnTableVariable" Value="@temptable" />
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Split].[@String]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Split].[@Delimiter]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Split].[id]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Split].[item]" />
				</Entry>
			</Relationship>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Split].[id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Split].[item]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="8000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[       
begin       
    declare @idx int
    declare @id int
    
    set @id = 0
    
    declare @slice varchar(8000)       
      
    select @idx = 1       
        if len(@String)<1 or @String is null  return       
      
    while @idx!= 0       
    begin       
        set @idx = charindex(@Delimiter,@String)       
        if @idx!=0       
            set @slice = left(@String,@idx - 1)       
        else       
            set @slice = @String       
          
        if(len(@slice)>0)  
        begin
            set @id = @id + 1
            insert into @temptable(id, item) values(@id, @slice)       
        end
  
        set @String = right(@String,len(@String) - @idx)       
        if len(@String) = 0 break       
    end   
return 
end]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="943" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION cloudcore.Split(@String varchar(8000), @Delimiter char(1))       &#xD;&#xA;returns @temptable TABLE (id int, item varchar(8000))       &#xD;&#xA;as" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[Split].[@String]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="8000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[Split].[@Delimiter]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="1" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[char]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[SProcessDailyStats]">
			<Property Name="BodyScript">
				<Value><![CDATA[

declare @tTable table
(
	dte datetime,
	wd int,
	wk int
)

declare @wk int = datepart(week, getdate())
declare @dte datetime = dateadd(weekday, 7 - datepart(weekday, getdate()), getdate())

declare @i int = 0
while @i >= - 13
begin
	declare @tdte datetime = dateadd(day, @i, @dte)
	insert into @tTable (dte, wd, wk) values (@tdte, datepart(weekday, @tdte), datepart(week, @tdte))
	set @i = @i - 1
end

select p.ProcessModelId, datename(weekday, t.dte) [Weekday], t.wk % 2 [Week], t.dte Finished, count(distinct th.InstanceId) Completed
  from [cloudcore].vwWorklist p
 cross join @tTable t
  left outer join [cloudcore].ActivityHistory th on p.ActivityModelId = th.ActivityModelId and convert(date, th.Completed) = t.dte
 where isnull(th.StatusTypeId,100) = 100
   and (Completed is null or cast(convert(varchar(10), Completed, 120) as datetime) >= dateadd(day, -14, getdate()))
   and isnull(p.ProcessModelId,@ProcessModelId) = @ProcessModelId
 group by  datename(weekday, t.dte), t.wk, t.dte, p.ProcessModelId
 order by t.dte]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SProcessDailyStats].[@tTable].[dte]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SProcessDailyStats].[@tTable].[wd]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SProcessDailyStats].[@tTable].[wk]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwWorklist]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwWorklist].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[Completed]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwWorklist].[ProcessModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[Completed]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SProcessDailyStats].[@ProcessModelId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[cloudcore].[SProcessDailyStats].[@tTable]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[SProcessDailyStats].[@tTable].[dte]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[SProcessDailyStats].[@tTable].[wd]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[SProcessDailyStats].[@tTable].[wk]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SProcessDailyStats].[@ProcessModelId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1132" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[SProcessDailyStats]&#xD;&#xA;&#x9;@ProcessModelId int&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[SProcessTop10TaskAge]">
			<Property Name="BodyScript">
				<Value><![CDATA[

select top 5 LP.ActivityModelId, LP.ActivityName, AVG(DATEDIFF(minute, Assigned, Completed)) Age
  from [cloudcore].ActivityHistory th
 inner join [cloudcoremodel].vwLiveProcess LP on LP.ActivityModelId = TH.ActivityModelId
 where DATEPART(week, getdate()) = DATEPART(week, Completed)
   and LP.ProcessModelId = @ProcessModelId
 group by LP.ActivityModelId, LP.ActivityName
 order by AVG(DATEDIFF(minute, Assigned, Completed)) desc]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[ActivityHistory]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[Assigned]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[Completed]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[ProcessModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SProcessTop10TaskAge].[@ProcessModelId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SProcessTop10TaskAge].[@ProcessModelId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="518" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[SProcessTop10TaskAge]&#xD;&#xA;&#x9;@ProcessModelId int&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[StartDashboard]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	UPDATE d
	SET d.LastRun = DATEADD(MINUTE, (d.IntervalInMinutes * -1), GETDATE())
	FROM cloudcore.Dashboard d
	WHERE d.DashboardGuid = @DashboardGuid
	  and d.StatusId = 0
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[Dashboard]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[LastRun]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[IntervalInMinutes]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[DashboardGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[StartDashboard].[@DashboardGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[StatusId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[StartDashboard].[@DashboardGuid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="272" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[StartDashboard]&#xD;&#xA;&#x9;@DashboardGuid UniqueIdentifier&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[STaskSummary]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
declare @subset table (InstanceId bigint, ActivityModelId int, Archived DateTime, [Days] int not null, UserId int not null)
	declare @period table (InstanceId bigint, ActivityModelId int, Period varchar(8))
	declare @pivot table (ActivityModelId int, PToday int,PWeek int,PMonth int,TToday int,TWeek int,TMonth int)
	declare @t datetime
	declare @d datetime
	set @t = GETDATE()
	set @d = DATEADD(day, -30, getdate())
	
	insert into @subset (InstanceId, ActivityModelId, Archived, [Days], UserId)
    select InstanceId, ActivityModelId, Completed, datediff(day, Completed, GETDATE()) as [Days], UserId
      from [cloudcore].ActivityHistory 
     where Completed between @d and @t
		   
    insert into @period (InstanceId, ActivityModelId, Period)
	select InstanceId, ActivityModelId, 'PToday' Period
		  from @subset
		 where [Days] = 0 and
				UserId = @UserId
		 
	insert into @period (InstanceId, ActivityModelId, Period)
	select InstanceId, ActivityModelId, 'PWeek' Period
		  from @subset
		 where [Days] < 7 and
				UserId = @UserId
		 
	insert into @period (InstanceId, ActivityModelId, Period)
	select InstanceId, ActivityModelId, 'PMonth' Period
		  from @subset
		  where  UserId = @UserId
		  
	insert into @period (InstanceId, ActivityModelId, Period)
	select InstanceId, ActivityModelId, 'TToday' Period
		  from @subset
		 where [Days] = 0 and
				UserId <> @UserId
		 
	insert into @period (InstanceId, ActivityModelId, Period)
	select InstanceId, ActivityModelId, 'TWeek' Period
		  from @subset
		 where [Days] < 7 and
				UserId <> @UserId
		 
	insert into @period (InstanceId, ActivityModelId, Period)
	select InstanceId, ActivityModelId, 'TMonth' Period
		  from @subset 
		  where UserId <> @UserId
 
	insert into @pivot		   
	select ActivityModelId,PToday,PWeek,PMonth,TToday,TWeek,TMonth
		from @period
	pivot(count(InstanceId) for Period in (PToday,PWeek,PMonth,TToday,TWeek,TMonth)) as P
	

	set @TotalCnt = isnull((select sum(PMonth) + sum(TMonth) from @pivot),0)

	select t.ActivityModelId, t.ActivityName, 
			PToday, PToday+TToday TToday, PWeek, PWeek+TWeek TWeek, PMonth, PMonth+TMonth TMonth,
			((100 * PToday) / @TotalCnt) PTodayPerc,
			((100 * (TToday+PToday)) / @TotalCnt) TTodayPerc,
			((100 * TToday) / @TotalCnt) RTodayPerc,
			((100 * PWeek) / @TotalCnt) PWeekPerc,
			((100 * (TWeek+PWeek)) / @TotalCnt) TWeekPerc,
			((100 * TWeek) / @TotalCnt) RWeekPerc,
			((100 * PMonth) / @TotalCnt) PMonthPerc,
			((100 * (PMonth+TMonth)) / @TotalCnt) TMonthPerc,
			((100 * TMonth) / @TotalCnt) RMonthPerc
	from @pivot p
		inner join [cloudcoremodel].ActivityModel t on p.ActivityModelId = t.ActivityModelId
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[STaskSummary].[@subset].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[STaskSummary].[@subset].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[STaskSummary].[@subset].[Archived]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[STaskSummary].[@subset].[Days]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[STaskSummary].[@subset].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[Completed]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[STaskSummary].[@period].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[STaskSummary].[@period].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[STaskSummary].[@period].[Period]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[STaskSummary].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[STaskSummary].[PV1].[P].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[STaskSummary].[PV1].[P].[PToday]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[STaskSummary].[PV1].[P].[PWeek]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[STaskSummary].[PV1].[P].[PMonth]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[STaskSummary].[PV1].[P].[TToday]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[STaskSummary].[PV1].[P].[TWeek]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[STaskSummary].[PV1].[P].[TMonth]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[STaskSummary].[@TotalCnt]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[STaskSummary].[@pivot].[PMonth]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[STaskSummary].[@pivot].[TMonth]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[STaskSummary].[@pivot].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[STaskSummary].[@pivot].[PToday]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[STaskSummary].[@pivot].[TToday]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[STaskSummary].[@pivot].[PWeek]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[STaskSummary].[@pivot].[TWeek]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[STaskSummary].[@pivot].[PMonth]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[STaskSummary].[@pivot].[TMonth]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[cloudcore].[STaskSummary].[@subset]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[STaskSummary].[@subset].[InstanceId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bigint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[STaskSummary].[@subset].[ActivityModelId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[STaskSummary].[@subset].[Archived]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[STaskSummary].[@subset].[Days]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[STaskSummary].[@subset].[UserId]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[cloudcore].[STaskSummary].[@period]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[STaskSummary].[@period].[InstanceId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bigint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[STaskSummary].[@period].[ActivityModelId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[STaskSummary].[@period].[Period]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="8" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[cloudcore].[STaskSummary].[@pivot]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[STaskSummary].[@pivot].[ActivityModelId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[STaskSummary].[@pivot].[PToday]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[STaskSummary].[@pivot].[PWeek]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[STaskSummary].[@pivot].[PMonth]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[STaskSummary].[@pivot].[TToday]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[STaskSummary].[@pivot].[TWeek]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[STaskSummary].[@pivot].[TMonth]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[cloudcore].[STaskSummary].[PV1].[P]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[cloudcore].[STaskSummary].[PV1].[P].[ActivityModelId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[cloudcore].[STaskSummary].[@period].[ActivityModelId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[cloudcore].[STaskSummary].[PV1].[P].[PToday]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[cloudcore].[STaskSummary].[PV1].[P].[PWeek]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[cloudcore].[STaskSummary].[PV1].[P].[PMonth]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[cloudcore].[STaskSummary].[PV1].[P].[TToday]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[cloudcore].[STaskSummary].[PV1].[P].[TWeek]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[cloudcore].[STaskSummary].[PV1].[P].[TMonth]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[STaskSummary].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[STaskSummary].[@TotalCnt]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2813" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[STaskSummary]&#xD;&#xA;    @UserId INT,&#xD;&#xA;    @TotalCnt INT OUTPUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[SystemAction]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[SystemAction].[ActionId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[SystemAction].[ActionGuid]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[SystemAction].[SystemModuleId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[SystemAction].[ActionType]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="10" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[SystemAction].[ActionTitle]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[SystemAction].[Area]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[SystemAction].[Controller]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[SystemAction].[Action]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="151" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="66" />
			<AttachedAnnotation Disambiguator="127" />
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[SystemActionAllocation]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[SystemActionAllocation].[ActionId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[SystemActionAllocation].[AccessPoolId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="152" />
			<AttachedAnnotation Disambiguator="128" />
			<AttachedAnnotation Disambiguator="129" />
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[SystemActionAllocationCreate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin				      
    insert into [cloudcore].SystemActionAllocation (ActionId,AccessPoolId)
        select  @ActionId, @AccessPoolId
        where   not exists (select  null
                            from    cloudcore.SystemActionAllocation 
                            where   ActionId = @ActionId 
                                    and AccessPoolId = @AccessPoolId)

end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[SystemActionAllocation]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionAllocation].[ActionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionAllocation].[AccessPoolId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionAllocationCreate].[@ActionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionAllocationCreate].[@AccessPoolId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionAllocation].[ActionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionAllocation].[AccessPoolId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemActionAllocationCreate].[@ActionId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemActionAllocationCreate].[@AccessPoolId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="485" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure [cloudcore].[SystemActionAllocationCreate]&#xD;&#xA;&#x9;@ActionId int,&#xD;&#xA;&#x9;@AccessPoolId int&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[SystemActionAllocationDelete]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
	delete from [cloudcore].SystemActionAllocation 
	 where ActionId = @ActionId 
	   and AccessPoolId = @AccessPoolId
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[SystemActionAllocation]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionAllocation].[ActionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionAllocationDelete].[@ActionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionAllocation].[AccessPoolId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionAllocationDelete].[@AccessPoolId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemActionAllocationDelete].[@ActionId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemActionAllocationDelete].[@AccessPoolId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="232" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure [cloudcore].[SystemActionAllocationDelete]&#xD;&#xA;&#x9;@ActionId int,&#xD;&#xA;&#x9;@AccessPoolId int &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[SystemActionCreate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
  insert into [cloudcore].SystemAction (ActionGuid, ActionType, Area, Controller, [Action], ActionTitle,SystemModuleId)
       values (@ActionGuid, @ActionType, isnull(@Area,''), isnull(@Controller,''), isnull(@Action, ''), @ActionTitle, @SystemModuleId)
  
  set @ActionId = scope_identity()
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[SystemAction]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemAction].[ActionGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemAction].[ActionType]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemAction].[Area]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemAction].[Controller]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemAction].[Action]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemAction].[ActionTitle]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemAction].[SystemModuleId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionCreate].[@ActionGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionCreate].[@ActionType]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionCreate].[@Area]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionCreate].[@Controller]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionCreate].[@Action]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionCreate].[@ActionTitle]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionCreate].[@SystemModuleId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionCreate].[@ActionId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemActionCreate].[@ActionGuid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemActionCreate].[@ActionTitle]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemActionCreate].[@Area]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemActionCreate].[@Controller]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemActionCreate].[@Action]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemActionCreate].[@ActionType]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="10" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemActionCreate].[@SystemModuleId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemActionCreate].[@ActionId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="590" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure [cloudcore].[SystemActionCreate]&#xD;&#xA;    @ActionGuid UniqueIdentifier,&#xD;&#xA;    @ActionTitle varchar(50),&#xD;&#xA;    @Area varchar(100),&#xD;&#xA;    @Controller varchar(100),&#xD;&#xA;    @Action varchar(100),&#xD;&#xA;    @ActionType varchar(10),&#xD;&#xA;    @SystemModuleId int,&#xD;&#xA;&#x9;@ActionId int output&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[SystemActionDelete]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
    begin transaction
	begin try		
		delete from [cloudcore].SystemActionAllocation where ActionId = @ActionId
		delete from [cloudcore].SystemAction where ActionId = @ActionId
	end try
	
	begin catch
		rollback transaction
		
		declare @errstr nvarchar(4000) 
		set @errstr = ERROR_MESSAGE()
		
		raiserror(N'Unable to delete, unexpected error: %s',18,1, @errstr)
		return
	end catch	
	
	commit transaction		
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionAllocation]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionAllocation].[ActionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionDelete].[@ActionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemAction]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemAction].[ActionId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemActionDelete].[@ActionId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="508" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure [cloudcore].[SystemActionDelete]&#xD;&#xA;&#x9;@ActionId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[SystemActionModify]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
		update [cloudcore].SystemAction 
		   set ActionTitle = @ActionTitle,
			   Area = isnull(@Area, ''),
			   Controller = isnull(@Controller, ''),
			   [Action] = isnull(@Action, ''),
			   ActionType = @ActionType,
			   SystemModuleId = @SystemModuleId
		 where ActionId = @ActionId
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[SystemAction]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemAction].[ActionTitle]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionModify].[@ActionTitle]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemAction].[Area]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionModify].[@Area]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemAction].[Controller]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionModify].[@Controller]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemAction].[Action]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionModify].[@Action]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemAction].[ActionType]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionModify].[@ActionType]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemAction].[SystemModuleId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionModify].[@SystemModuleId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemAction].[ActionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionModify].[@ActionId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemActionModify].[@ActionId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemActionModify].[@ActionTitle]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemActionModify].[@Area]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemActionModify].[@Controller]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemActionModify].[@Action]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemActionModify].[@ActionType]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="10" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemActionModify].[@SystemModuleId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="528" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure [cloudcore].[SystemActionModify]&#xD;&#xA;&#x9;@ActionId int,&#xD;&#xA;&#x9;@ActionTitle varchar(50),&#xD;&#xA;&#x9;@Area varchar(100),&#xD;&#xA;&#x9;@Controller varchar(100),&#xD;&#xA;&#x9;@Action varchar(100),&#xD;&#xA;&#x9;@ActionType varchar(10),&#xD;&#xA;&#x9;@SystemModuleId int&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[SystemApplication]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[SystemApplication].[ApplicationId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="27" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[SystemApplication].[ApplicationGuid]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="21" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[SystemApplication].[ApplicationName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[SystemApplication].[Enabled]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="22" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[SystemApplication].[CompanyName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[SystemApplication].[ContactPerson]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[SystemApplication].[ContactNumber]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[SystemApplicationAllocation]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[SystemApplicationAllocation].[ApplicationId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[SystemApplicationAllocation].[ActivityId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="153" />
			<AttachedAnnotation Disambiguator="131" />
			<AttachedAnnotation Disambiguator="130" />
		</Element>
		<Element Type="SqlIndex" Name="[cloudcore].[SystemApplicationAllocation].[IX_SystemApplicationAllocation_Application]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[SystemApplicationAllocation].[ApplicationId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[cloudcore].[SystemApplicationAllocation]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[SystemApplicationCreate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	if not exists (Select null from SystemApplication where ApplicationName = @ApplicationName)
	BEGIN
	    insert into [cloudcore].SystemApplication(ApplicationName, CompanyName, ContactNumber, ContactPerson)
	        values (@ApplicationName, @CompanyName, @ContactNumber, @ContactPerson)

	    set @ApplicationId = (select ApplicationId from [cloudcore].SystemApplication where ApplicationName = @ApplicationName)
	END 
    ELSE
	BEGIN
        set @ApplicationId = null
		raiserror(N'The specified system application name already exists, please enter a unique name.',18, 1) 
		return
	END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[SystemApplication]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplication].[ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplicationCreate].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplication]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplication].[ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplication].[CompanyName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplication].[ContactNumber]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplication].[ContactPerson]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplicationCreate].[@CompanyName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplicationCreate].[@ContactNumber]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplicationCreate].[@ContactPerson]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplicationCreate].[@ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplication].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplication].[ApplicationName]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemApplicationCreate].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemApplicationCreate].[@CompanyName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemApplicationCreate].[@ContactPerson]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemApplicationCreate].[@ContactNumber]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemApplicationCreate].[@ApplicationId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="808" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[SystemApplicationCreate]&#xD;&#xA;&#x9;@ApplicationName Varchar(100),&#xD;&#xA;&#x9;@CompanyName Varchar(100),&#xD;&#xA;&#x9;@ContactPerson Varchar(100),&#xD;&#xA;&#x9;@ContactNumber Varchar(50),&#xD;&#xA;&#x9;@ApplicationId Int out&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[SystemApplicationDelete]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	Delete from [cloudcore].SystemApplicationAllocation
	where ApplicationId = @ApplicationId


	Delete from [cloudcore].SystemApplication
	where ApplicationId = @ApplicationId]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[SystemApplicationAllocation]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplicationAllocation].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplicationDelete].[@ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplication]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplication].[ApplicationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemApplicationDelete].[@ApplicationId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="259" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[SystemApplicationDelete]&#xD;&#xA;&#x9;@ApplicationId Int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[SystemApplicationUpdate]">
			<Property Name="BodyScript">
				<Value><![CDATA[

	if not exists (Select null from SystemApplication where ApplicationName = @ApplicationName and ApplicationId <> @ApplicationId)
	BEGIN

		Update [cloudcore].SystemApplication set 
		ApplicationName = @ApplicationName,
		CompanyName = @CompanyName,
		ContactPerson = @ContactPerson,
		ContactNumber = @ContactNumber,
		[Enabled] = @Enabled
		From [cloudcore].SystemApplication
		where ApplicationId = @ApplicationId

	END ELSE
	BEGIN
		raiserror(N'The specified system application name already exists, please enter a unique name.',18, 1) 
		return
	END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[SystemApplication]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplication].[ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplicationUpdate].[@ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplication].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplicationUpdate].[@ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplication]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplication].[ApplicationName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplication].[CompanyName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplicationUpdate].[@CompanyName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplication].[ContactPerson]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplicationUpdate].[@ContactPerson]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplication].[ContactNumber]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplicationUpdate].[@ContactNumber]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplication].[Enabled]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplicationUpdate].[@Enabled]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplication].[ApplicationId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemApplicationUpdate].[@ApplicationId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemApplicationUpdate].[@ApplicationName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemApplicationUpdate].[@CompanyName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemApplicationUpdate].[@ContactPerson]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemApplicationUpdate].[@ContactNumber]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemApplicationUpdate].[@Enabled]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="790" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[SystemApplicationUpdate]&#xD;&#xA;&#x9;@ApplicationId Int,&#xD;&#xA;&#x9;@ApplicationName Varchar(100),&#xD;&#xA;&#x9;@CompanyName varchar(100),&#xD;&#xA;&#x9;@ContactPerson varchar(100),&#xD;&#xA;&#x9;@ContactNumber varchar(50),&#xD;&#xA;&#x9;@Enabled bit&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[SystemModule]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[SystemModule].[SystemModuleId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[SystemModule].[SystemModuleGuid]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[SystemModule].[AssemblyName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="400" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="154" />
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[SystemModuleRemove]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin


	if exists ( select null
			      from [cloudcore].Worklist W
				 inner join [cloudcore].Activity A
				    on A.ActivityId = W.ActivityId
				 where A.SystemModuleId = @SystemModuleId)
				 begin
				   raiserror(N'Unable to delete, there are active worklist items for this system module.',18, 1) 
				   return
				 end

	if exists ( select null
			      from [cloudcore].Activity
				 where SystemModuleId = @SystemModuleId)
				 begin
				   raiserror(N'Unable to delete, there are live process activities that depend on this system module.',18, 1) 
				   return
				 end

	begin transaction
	begin try
		delete from [cloudcore].SystemActionAllocation
		 where ActionId in (
						  select ur.ActionId from [cloudcore].SystemActionAllocation ur
						   inner join [cloudcore].SystemAction u on u.ActionId = ur.ActionId
						   where u.SystemModuleId = @SystemModuleId
						 )

		delete from [cloudcore].SystemAction
		 where SystemModuleId = @SystemModuleId

		 delete from [cloudcore].DashboardRight 
		 where DashboardId in (select DashboardId 
		                         from [cloudcore].Dashboard 
								where SystemModuleId = @SystemModuleId)
		delete from [cloudcore].Dashboard  
		 where DashboardId in (select DashboardId 
		                         from [cloudcore].Dashboard 
								where SystemModuleId = @SystemModuleId)

		delete from [cloudcore].SystemModule 
		 where SystemModuleId = @SystemModuleId

		
	end try
	
	begin catch
		rollback transaction
		
		declare @errstr nvarchar(4000) 
		set @errstr = ERROR_MESSAGE()
		
		raiserror(N'Unable to delete, unexpected error: %s',18,1, @errstr)
		return
	end catch	
	
	commit transaction		
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[SystemModuleId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemModuleRemove].[@SystemModuleId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionAllocation]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionAllocation].[ActionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemAction]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemAction].[ActionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionAllocation].[ActionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemAction].[SystemModuleId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemAction].[SystemModuleId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardRight]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardRight].[DashboardId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[DashboardId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[SystemModuleId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[DashboardId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[DashboardId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[SystemModuleId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemModule]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemModule].[SystemModuleId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemModuleRemove].[@SystemModuleId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1812" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure [cloudcore].[SystemModuleRemove]&#xD;&#xA;&#x9;@SystemModuleId int&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[SystemModuleUpload]">
			<Property Name="BodyScript">
				<Value><![CDATA[
  begin
    if exists(select null from [cloudcore].SystemModule where SystemModuleGuid = @SystemModuleGuid)
      begin
        select @SystemModuleId = SystemModuleId
        from    cloudcore.SystemModule
        where SystemModuleGuid = @SystemModuleGuid

        update cloudcore.SystemModule
        set AssemblyName = @AssemblyName
        where SystemModuleGuid = @SystemModuleGuid
        
      end
    else
      begin
        insert into [cloudcore].SystemModule(SystemModuleGuid, AssemblyName)
             values (@SystemModuleGuid, @AssemblyName)

        set @SystemModuleId = scope_identity()
     end
  end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[SystemModule]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemModule].[SystemModuleGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemModuleUpload].[@SystemModuleGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemModuleUpload].[@SystemModuleId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemModule].[SystemModuleId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemModule].[SystemModuleGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemModule].[AssemblyName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemModuleUpload].[@AssemblyName]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemModuleUpload].[@AssemblyName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="400" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemModuleUpload].[@SystemModuleGuid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemModuleUpload].[@SystemModuleId]">
						<Property Name="IsOutput" Value="True" />
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="804" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[SystemModuleUpload]&#xD;&#xA;    @AssemblyName varchar(400),&#xD;&#xA;&#x9;@SystemModuleGuid uniqueidentifier,&#xD;&#xA;    @SystemModuleId int = NULL out&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[SystemTally]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[SystemTally].[TallyId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[SystemTally].[ZeroBased]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="155" />
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[SystemValue]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[SystemValue].[ValueID]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[SystemValue].[CategoryId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[SystemValue].[ValueName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[SystemValue].[ValueData]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[SystemValue].[ValueDescription]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="8000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="156" />
			<AttachedAnnotation Disambiguator="132" />
		</Element>
		<Element Type="SqlScalarFunction" Name="[cloudcore].[SystemValue_GetValueData]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValueCategory]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValue].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValueCategory].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValue].[ValueData]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValue].[ValueName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValue_GetValueData].[@ValueName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValueCategory].[CategoryName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValue_GetValueData].[@CategoryName]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
    declare @ValueData varchar(max)

       set @ValueData = (   
                            select  ValueData
                            from    [cloudcore].SystemValue sv
                            inner join [cloudcore].SystemValueCategory svc 
                                on  sv.CategoryId = svc.CategoryId
                            where   sv.ValueName = @ValueName
                                    and svc.CategoryName = @CategoryName
                        )

    return @ValueData
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="672" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [cloudcore].[SystemValue_GetValueData]&#xD;&#xA;(&#xD;&#xA;    @CategoryName varchar(50),&#xD;&#xA;    @ValueName varchar(50)&#xD;&#xA;)&#xD;&#xA;returns varchar(max)&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemValue_GetValueData].[@CategoryName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemValue_GetValueData].[@ValueName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Property Name="IsMax" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[varchar]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[SystemValueCategory]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[SystemValueCategory].[CategoryId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[SystemValueCategory].[CategoryName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="157" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="163" />
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[SystemValueCategoryCreate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	if not exists (Select null from [cloudcore].SystemValueCategory where CategoryName = @CategoryName)
	BEGIN
		Insert into [cloudcore].SystemValueCategory(CategoryName) values(@CategoryName)
		set @CategoryId = SCOPE_IDENTITY()
	END
    ELSE
	BEGIN
        set @CategoryId = null
		raiserror(N'The specified System Value Category already exists, please enter a unique name.',18, 1) 
		return
	END
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[SystemValueCategory]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValueCategory].[CategoryName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValueCategoryCreate].[@CategoryName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValueCategory].[CategoryName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValueCategoryCreate].[@CategoryId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemValueCategoryCreate].[@CategoryName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemValueCategoryCreate].[@CategoryId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="531" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[SystemValueCategoryCreate]&#xD;&#xA;&#x9;@CategoryName varchar(100),&#xD;&#xA;&#x9;@CategoryId int out&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[SystemValueCategoryDelete]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	delete
	  from cloudcore.SystemValueCategory
	 where CategoryId = @SystemValueCategoryId]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[SystemValueCategory]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValueCategory].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValueCategoryDelete].[@SystemValueCategoryId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemValueCategoryDelete].[@SystemValueCategoryId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="182" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[SystemValueCategoryDelete]&#xD;&#xA;&#x9;@SystemValueCategoryId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[SystemValueCategoryUpdate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	update cloudcore.SystemValueCategory
	   set CategoryName = @SystemValueCategoryName
	 where CategoryId = @SystemValueCategoryId]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[SystemValueCategory]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValueCategory].[CategoryName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValueCategoryUpdate].[@SystemValueCategoryName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValueCategory].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValueCategoryUpdate].[@SystemValueCategoryId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemValueCategoryUpdate].[@SystemValueCategoryId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemValueCategoryUpdate].[@SystemValueCategoryName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="262" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[SystemValueCategoryUpdate]&#xD;&#xA;&#x9;@SystemValueCategoryId int,&#xD;&#xA;&#x9;@SystemValueCategoryName varchar(50)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[SystemValueCreate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
	if not exists (Select null from [cloudcore].SystemValue where CategoryId = @CategoryId and ValueName = @ValueName)
	BEGIN
		insert into [cloudcore].SystemValue(CategoryId,  ValueName,  ValueData, ValueDescription)
		values                   (@CategoryId, @ValueName, @ValueData, @ValueDescription) 

		set @SystemValueId = SCOPE_IDENTITY()
	END ELSE
	BEGIN
        set @SystemValueId = null
		raiserror(N'The specified system value already exists, please enter a unique name.',18, 1) 
		return
	END
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[SystemValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValue].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValueCreate].[@CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValue].[ValueName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValueCreate].[@ValueName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValue].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValue].[ValueName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValue].[ValueData]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValue].[ValueDescription]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValueCreate].[@ValueData]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValueCreate].[@ValueDescription]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValueCreate].[@SystemValueId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemValueCreate].[@CategoryId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemValueCreate].[@ValueName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemValueCreate].[@ValueData]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemValueCreate].[@ValueDescription]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="1000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemValueCreate].[@SystemValueId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="713" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[SystemValueCreate]&#xD;&#xA;&#x9;@CategoryId int = 0, &#xD;&#xA;&#x9;@ValueName varchar(50),&#xD;&#xA;&#x9;@ValueData varchar(max),&#xD;&#xA;&#x9;@ValueDescription varchar(1000),&#xD;&#xA;&#x9;@SystemValueId int out&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[SystemValueDelete]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
	delete
	  from cloudcore.SystemValue
	 where ValueID = @SystemValueId
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[SystemValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValue].[ValueID]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValueDelete].[@SystemValueId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemValueDelete].[@SystemValueId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="158" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure [cloudcore].SystemValueDelete &#xD;&#xA;&#x9;@SystemValueId int&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[SystemValueUpdate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
	if exists(select null 
				from [cloudcore].SystemValue 
			   where CategoryId = @CategoryId 
			     and ValueName = @ValueName)
	begin
		update [cloudcore].SystemValue 
		   set ValueData = @ValueData,
			   ValueDescription = @ValueDescription
		 where CategoryId = @CategoryId 
		   and ValueName = @ValueName 
	end
	else
	begin
		insert into [cloudcore].SystemValue(CategoryId,  ValueName,  ValueData, ValueDescription)
		values                   (@CategoryId, @ValueName, @ValueData, @ValueDescription) 
	end
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[SystemValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValue].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValueUpdate].[@CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValue].[ValueName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValueUpdate].[@ValueName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValue].[ValueData]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValueUpdate].[@ValueData]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValue].[ValueDescription]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValueUpdate].[@ValueDescription]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValue].[CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemValue].[ValueName]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemValueUpdate].[@CategoryId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemValueUpdate].[@ValueName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemValueUpdate].[@ValueData]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[SystemValueUpdate].[@ValueDescription]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="1000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="707" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure [cloudcore].SystemValueUpdate &#xD;&#xA;&#x9;@CategoryId int = 0, &#xD;&#xA;&#x9;@ValueName varchar(50),&#xD;&#xA;&#x9;@ValueData varchar(max),&#xD;&#xA;&#x9;@ValueDescription varchar(1000)&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlUniqueConstraint" Name="[cloudcore].[UK_Dashboard_DashboardGuid]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[Dashboard].[DashboardGuid]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Dashboard]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="77" />
		</Element>
		<Element Type="SqlUniqueConstraint" Name="[cloudcore].[UNQ_Activity_ActivityModelId]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[Activity].[ActivityModelId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Activity]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="37" />
		</Element>
		<Element Type="SqlUniqueConstraint" Name="[cloudcore].[UNQ_Period_Period]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[Period].[PeriodMonth]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[Period].[PeriodYear]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[Period]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="144" />
		</Element>
		<Element Type="SqlUniqueConstraint" Name="[cloudcore].[UNQ_SystemValueCategory_CategoryName]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[SystemValueCategory].[CategoryName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[SystemValueCategory]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="163" />
		</Element>
		<Element Type="SqlUniqueConstraint" Name="[cloudcore].[UNQ_User_Login]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[User].[Login]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="164" />
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[UpdateUserImage]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN

	update [cloudcore].[User]
	set MainImage = @mainImage, ThumbImage = @thumbImage
	where UserId = @UserId

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[MainImage]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UpdateUserImage].[@mainImage]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[ThumbImage]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UpdateUserImage].[@thumbImage]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UpdateUserImage].[@UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[UpdateUserImage].[@mainImage]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[image]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[UpdateUserImage].[@thumbImage]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[image]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[UpdateUserImage].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="230" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[UpdateUserImage] &#xD;&#xA;&#x9;@mainImage Image,&#xD;&#xA;&#x9;@thumbImage Image,&#xD;&#xA;&#x9;@UserId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[User]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[User].[UserId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Property Name="IdentityIncrement" Value="5" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[User].[UserKey]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="101" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[User].[Login]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="320" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[User].[Initials]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="15" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[User].[Firstnames]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[User].[Surname]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="30" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[User].[PasswordHash]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="100" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[User].[PasswordChanged]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="99" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[User].[ReferenceGuid]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[User].[Email]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="96" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[User].[CellNo]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="15" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[User].[Active]">
						<Property Name="ExpressionScript">
							<Value><![CDATA[cast (CASE WHEN [IntAccess] = 1 or [ExtAccess] = 1 then 1 else 0 end as bit)]]></Value>
						</Property>
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[bit]" />
							</Entry>
							<Entry>
								<References Name="[cloudcore].[User].[IntAccess]" />
							</Entry>
							<Entry>
								<References Name="[cloudcore].[User].[ExtAccess]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[User].[IntAccess]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="9" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[User].[ExtAccess]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="10" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[User].[IsAdministrator]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="97" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[User].[IsNamedUser]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="11" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[User].[Created]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="95" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[User].[LastLogin]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="98" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[User].[ThumbImage]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[image]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[User].[MainImage]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[image]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[User].[Fullname]">
						<Property Name="ExpressionScript">
							<Value><![CDATA[RTRIM(([Firstnames]+' ')+[Surname])]]></Value>
						</Property>
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[User].[Firstnames]" />
							</Entry>
							<Entry>
								<References Name="[cloudcore].[User].[Surname]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[User].[NFullname]">
						<Property Name="ExpressionScript">
							<Value><![CDATA[RTRIM(([Initials]+' ')+[Surname])]]></Value>
						</Property>
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[User].[Initials]" />
							</Entry>
							<Entry>
								<References Name="[cloudcore].[User].[Surname]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="158" />
			<AttachedAnnotation Disambiguator="164" />
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[UserAccessMapping]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[UserAccessMapping].[UserId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[UserAccessMapping].[ProviderId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[UserAccessMapping].[UserKey]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="134" />
			<AttachedAnnotation Disambiguator="133" />
			<AttachedAnnotation Disambiguator="159" />
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[UserAccessProvider]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[UserAccessProvider].[ProviderId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="25" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[UserAccessProvider].[ProviderName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[UserCampaignSelect]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    update CU
    set     CU.Active = (case when CampaignID = @CampaignId then 1 else 0 end)
    from    cloudcore.CampaignUser CU
    where   CU.UserId = @UserId
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[CampaignUser]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignUser].[Active]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignUser].[CampaignID]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserCampaignSelect].[@CampaignId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignUser].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserCampaignSelect].[@UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[UserCampaignSelect].[@UserId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[UserCampaignSelect].[@CampaignId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="270" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[UserCampaignSelect]&#xD;&#xA;&#x9;@UserId int = 0, &#xD;&#xA;&#x9;@CampaignId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[UserClearReferenceGuid]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    UPDATE  cloudcore.[User]
    SET     ReferenceGuid = NULL
    WHERE   UserId = @UserId
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[ReferenceGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserClearReferenceGuid].[@UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[UserClearReferenceGuid].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="180" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[UserClearReferenceGuid]&#xD;&#xA;    @UserId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[UserCreate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin

    if exists (select null 
                 from [cloudcore].[User]
                where Login = @Login)
    begin
        raiserror(N'The specified login already exists in the database, please enter a unique login.',18, 1) 
        return
    end 

    if exists (select null 
                 from [cloudcore].[User]
                where Email = @Email)
    begin
        raiserror(N'The specified email already exists in the database, please enter a unique email.',18, 1) 
        return
    end

    begin
        Insert into [cloudcore].[User]([Login], Email, Initials, Firstnames, Surname, CellNo, IntAccess, ExtAccess)
        values (@Login, @Email, @Initials, @Firstnames, @Surname, @CellNo, @IntAccess, @ExtAccess)

        set @UserId = SCOPE_IDENTITY()

		Insert into [cloudcore].UserAccessMapping(ProviderId,UserId,UserKey)
		    select 1, @UserId, u.UserKey from cloudcore.[User] u where u.UserId = @UserId

		-- make this user part of "CloudCore System User"
        insert into cloudcore.AccessPoolUser(AccessPoolId, UserId) values (0, @UserId)
    end
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[Login]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserCreate].[@Login]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[Email]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserCreate].[@Email]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[Login]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[Email]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[Initials]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[Firstnames]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[Surname]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[CellNo]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[IntAccess]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[ExtAccess]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserCreate].[@Initials]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserCreate].[@Firstnames]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserCreate].[@Surname]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserCreate].[@CellNo]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserCreate].[@IntAccess]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserCreate].[@ExtAccess]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserCreate].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserAccessMapping]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserAccessMapping].[ProviderId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserAccessMapping].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserAccessMapping].[UserKey]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[UserKey]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser].[AccessPoolId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[UserCreate].[@Login]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="320" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[UserCreate].[@Email]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[UserCreate].[@Initials]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="15" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[UserCreate].[@Firstnames]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[UserCreate].[@Surname]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="30" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[UserCreate].[@CellNo]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="15" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[UserCreate].[@IntAccess]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[UserCreate].[@ExtAccess]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[UserCreate].[@UserId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1351" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure [cloudcore].UserCreate&#xD;&#xA;@Login varchar(320),&#xD;&#xA;@Email varchar(255),&#xD;&#xA;@Initials varchar(15),&#xD;&#xA;@Firstnames varchar(100),&#xD;&#xA;@Surname varchar(30),&#xD;&#xA;@CellNo varchar(15),&#xD;&#xA;@IntAccess bit,&#xD;&#xA;@ExtAccess bit,&#xD;&#xA;@UserId int output&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[UserModify]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin

    if exists (select null 
                 from [cloudcore].[User]
                where Email = @Email
                  and UserId <> @UserId)
    begin
        raiserror(N'The specified email already exists in the database, please enter a unique email.',18, 1) 
        return
    end

    update [cloudcore].[User] 
       set Initials = @Initials,
           Firstnames = @Firstnames,
           Surname = @Surname,
           CellNo = @Cellno,
           Email = @Email
     where UserId = @UserId
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[Email]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserModify].[@Email]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserModify].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[Initials]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserModify].[@Initials]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[Firstnames]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserModify].[@Firstnames]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[Surname]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserModify].[@Surname]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[CellNo]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserModify].[@Cellno]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[Email]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[UserModify].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[UserModify].[@Initials]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="15" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[UserModify].[@Firstnames]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[UserModify].[@Surname]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="30" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[UserModify].[@Cellno]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="15" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[UserModify].[@Email]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="736" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure [cloudcore].[UserModify]&#xD;&#xA;    @UserId int,&#xD;&#xA;    @Initials varchar(15),&#xD;&#xA;    @Firstnames varchar(100),&#xD;&#xA;    @Surname varchar(30),&#xD;&#xA;    @Cellno varchar(15),&#xD;&#xA;    @Email varchar(255)&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[UserNotification]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[UserNotification].[UserId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[UserNotification].[NotificationId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[UserNotification].[HasRead]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="19" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[UserNotification].[Important]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="20" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="160" />
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[UserPasswordUpdate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
    update [cloudcore].[User]
    set PasswordHash = @PasswordHash,
        PasswordChanged = GETDATE(),
        ReferenceGuid = null 
    where UserId = @UserId
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[PasswordHash]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserPasswordUpdate].[@PasswordHash]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[PasswordChanged]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[ReferenceGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserPasswordUpdate].[@UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[UserPasswordUpdate].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[UserPasswordUpdate].[@PasswordHash]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="282" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[UserPasswordUpdate]&#xD;&#xA;    @UserId int,&#xD;&#xA;    @PasswordHash varchar(200)&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[UserResetPasswordRequest]">
			<Property Name="BodyScript">
				<Value><![CDATA[
declare @UserId int
begin
  set @UserId = (select UserId 
                 from   [cloudcore].[User] 
                 where  ([Login] = @UserIdentifier or Email = @UserIdentifier) 
                        and (Active = 1 or not exists(select null 
                                                      from cloudcore.[LoginHistory] 
                                                      where UserId = @UserId)))

  -- create a unique reference id for this request
  update [cloudcore].[User]
    set ReferenceGuid = NEWID() 
    where UserId = @UserId

  select @ReferenceGuid = ReferenceGuid 
    from [cloudcore].[User] 
   where [UserId] = @UserId
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[Login]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserResetPasswordRequest].[@UserIdentifier]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[Email]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[Active]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[LoginHistory]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[LoginHistory].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[ReferenceGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserResetPasswordRequest].[@ReferenceGuid]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[UserResetPasswordRequest].[@UserIdentifier]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[UserResetPasswordRequest].[@ReferenceGuid]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="807" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[UserResetPasswordRequest]&#xD;&#xA;    @UserIdentifier varchar(200),&#xD;&#xA;&#x9;@ReferenceGuid uniqueidentifier out&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[UserUpdateAccess]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
    update [cloudcore].[User] 
    set IsAdministrator = isnull(@IsAdministrator, IsAdministrator),
        IntAccess = @InternalAccess,
        ExtAccess = @ExternalAccess
    where UserId = @UserId
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[IsAdministrator]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserUpdateAccess].[@IsAdministrator]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[IntAccess]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserUpdateAccess].[@InternalAccess]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[ExtAccess]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserUpdateAccess].[@ExternalAccess]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserUpdateAccess].[@UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[UserUpdateAccess].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[UserUpdateAccess].[@InternalAccess]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[UserUpdateAccess].[@ExternalAccess]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[UserUpdateAccess].[@IsAdministrator]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="353" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure [cloudcore].UserUpdateAccess&#xD;&#xA;@UserId int,&#xD;&#xA;@InternalAccess bit,&#xD;&#xA;@ExternalAccess bit,&#xD;&#xA;@IsAdministrator bit = null&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[UserUpdateExternalAccess]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
	update [cloudcore].[User] set ExtAccess = @Access where UserId = @UserId
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[ExtAccess]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserUpdateExternalAccess].[@Access]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserUpdateExternalAccess].[@UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[UserUpdateExternalAccess].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[UserUpdateExternalAccess].[@Access]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="177" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[UserUpdateExternalAccess]&#xD;&#xA;  @UserId int,&#xD;&#xA;  @Access bit&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[cloudcore].[vwAccessPool]">
			<Property Name="QueryScript">
				<Value><![CDATA[ 
	SELECT
	apu.UserId,
	ap.AccessPoolId,
	ap.AccessPoolName,
	u.Fullname
FROM 
	[cloudcore].AccessPoolUser apu
	JOIN [cloudcore].AccessPool ap ON apu.AccessPoolId = ap.AccessPoolId
	JOIN [cloudcore].[User] u ON ap.ManagerId = u.UserId]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwAccessPool].[UserId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[AccessPoolUser].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwAccessPool].[AccessPoolId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[AccessPool].[AccessPoolId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwAccessPool].[AccessPoolName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[AccessPool].[AccessPoolName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwAccessPool].[Fullname]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[User].[Fullname]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPool]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser].[AccessPoolId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPool].[AccessPoolId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPool].[ManagerId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPool].[AccessPoolName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[Fullname]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="286" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW [cloudcore].[vwAccessPool]&#xD;&#xA;&#x9;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[cloudcore].[vwActivityAllocationPriority]">
			<Property Name="QueryScript">
				<Value><![CDATA[
        select distinct 
		CCU.UserId, 
		saa.ApplicationId,
		tao.ActivityId, 
		pm.ProcessGuid,
		ba.ActivityGuid, 
		ba.SubProcessGuid, ba.ActivityTypeId,
		pm.ProcessName,
		SubPM.SubProcessName,
		AM.ActivityName
      from [cloudcore].AccessPoolUser CCU with (nolock)
      inner join [cloudcore].ActivityAllocation tao with (nolock) on tao.AccessPoolId = CCU.AccessPoolId
	  inner join [cloudcore].SystemApplicationAllocation saa with (nolock) on saa.ActivityId =tao.ActivityId
	  inner join [cloudcore].Activity BA with (nolock) on BA.ActivityId = tao.ActivityId and BA.ActivityTypeId = 0  -- only for Pages
	  inner join [cloudcoremodel].ProcessModel PM WITH (NOLOCK) ON BA.ProcessGuid = PM.ProcessGuid
	  inner join [cloudcoremodel].SubProcess SubPM WITH (NOLOCK) ON BA.SubProcessGuid = SubPM.SubProcessGuid
	  inner join [cloudcoremodel].ActivityModel AM WITH (NOLOCK) ON BA.ActivityModelId = AM.ActivityModelId]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwActivityAllocationPriority].[UserId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[AccessPoolUser].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwActivityAllocationPriority].[ApplicationId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[SystemApplicationAllocation].[ApplicationId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwActivityAllocationPriority].[ActivityId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[ActivityAllocation].[ActivityId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwActivityAllocationPriority].[ProcessGuid]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ProcessModel].[ProcessGuid]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwActivityAllocationPriority].[ActivityGuid]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Activity].[ActivityGuid]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwActivityAllocationPriority].[SubProcessGuid]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Activity].[SubProcessGuid]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwActivityAllocationPriority].[ActivityTypeId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Activity].[ActivityTypeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwActivityAllocationPriority].[ProcessName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ProcessModel].[ProcessName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwActivityAllocationPriority].[SubProcessName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[SubProcess].[SubProcessName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwActivityAllocationPriority].[ActivityName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityModel].[ActivityName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityAllocation]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityAllocation].[AccessPoolId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser].[AccessPoolId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplicationAllocation]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplicationAllocation].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityAllocation].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModel]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ProcessGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModel].[ProcessGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[SubProcess]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[SubProcessGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[SubProcess].[SubProcessGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemApplicationAllocation].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModel].[ProcessName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[SubProcess].[SubProcessName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityName]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="999" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW [cloudcore].[vwActivityAllocationPriority]&#xD;&#xA;&#x9;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[cloudcore].[vwCampaign]">
			<Property Name="QueryScript">
				<Value><![CDATA[
select	tl.InstanceId, tl.SubProcessId, tl.ProcessModelId, tl.StatusTypeId, tl.Delayed,
		tl.UserId, tl.Activate, tl.Priority, tl.KeyValue, tl.Created, tl.SubProcessName, tl.ActivityName,
		tl.ActivityId, case when StatusTypeId = 1 then 'Started' when StatusTypeId = 3 then 'Allocated' else 'Offered' end ListType,
		tl.DocWait, ci.CampaignID
   from [cloudcore].vwTasklist tl
  inner join [cloudcore].CampaignItem ci
	 on tl.InstanceId = ci.InstanceId 
  inner join [cloudcore].CampaignUser cu
	 on ci.CampaignID = cu.CampaignID 
	and tl.UserId = cu.UserId]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCampaign].[InstanceId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[vwTasklist].[InstanceId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCampaign].[SubProcessId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[vwTasklist].[SubProcessId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCampaign].[ProcessModelId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[vwTasklist].[ProcessModelId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCampaign].[StatusTypeId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[vwTasklist].[StatusTypeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCampaign].[Delayed]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[vwTasklist].[Delayed]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCampaign].[UserId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[vwTasklist].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCampaign].[Activate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[vwTasklist].[Activate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCampaign].[Priority]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[vwTasklist].[Priority]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCampaign].[KeyValue]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[vwTasklist].[KeyValue]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCampaign].[Created]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[vwTasklist].[Created]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCampaign].[SubProcessName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[vwTasklist].[SubProcessName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCampaign].[ActivityName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[vwTasklist].[ActivityName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCampaign].[ActivityId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[vwTasklist].[ActivityId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCampaign].[ListType]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCampaign].[DocWait]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[vwTasklist].[DocWait]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCampaign].[CampaignID]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[CampaignItem].[CampaignID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[cloudcore].[vwTasklist]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignItem]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwTasklist].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignItem].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignUser]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignItem].[CampaignID]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignUser].[CampaignID]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwTasklist].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignUser].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwTasklist].[SubProcessId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwTasklist].[ProcessModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwTasklist].[StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwTasklist].[Delayed]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwTasklist].[Activate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwTasklist].[Priority]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwTasklist].[KeyValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwTasklist].[Created]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwTasklist].[SubProcessName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwTasklist].[ActivityName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwTasklist].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwTasklist].[StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwTasklist].[DocWait]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="607" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create VIEW [cloudcore].[vwCampaign]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[cloudcore].[vwCampaignDailyStats]">
			<Property Name="QueryScript">
				<Value><![CDATA[ 
select COUNT(InstanceId) Completed, CONVERT(date, Finished) Finished, CampaignID 
from [cloudcore].CampaignArchive
where Status = 'Completed'
group by CONVERT(date,Finished), CampaignID]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCampaignDailyStats].[Completed]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCampaignDailyStats].[Finished]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCampaignDailyStats].[CampaignID]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[CampaignArchive].[CampaignID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[cloudcore].[CampaignArchive]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignArchive].[InstanceId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignArchive].[Finished]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignArchive].[CampaignID]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignArchive].[Status]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="241" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create view [cloudcore].[vwCampaignDailyStats]&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[cloudcore].[vwCampaignManager]">
			<Property Name="QueryScript">
				<Value><![CDATA[ 

select c.CampaignID, c.CampaignName, c.CampaignDesc, c.StatusID, c.ManagerId
  from [cloudcore].Campaign c]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCampaignManager].[CampaignID]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Campaign].[CampaignID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCampaignManager].[CampaignName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Campaign].[CampaignName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCampaignManager].[CampaignDesc]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Campaign].[CampaignDesc]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCampaignManager].[StatusID]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Campaign].[StatusID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCampaignManager].[ManagerId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Campaign].[ManagerId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[cloudcore].[Campaign]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Campaign].[CampaignID]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Campaign].[CampaignName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Campaign].[CampaignDesc]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Campaign].[StatusID]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Campaign].[ManagerId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="160" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW [cloudcore].[vwCampaignManager]&#xD;&#xA;&#x9;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[cloudcore].[vwCampaignStats]">
			<Property Name="QueryScript">
				<Value><![CDATA[
select c.CampaignID, 'Outstanding' Status, COUNT(InstanceId) Cnt
  from [cloudcore].Campaign c
 inner join [cloudcore].CampaignItem ci
    on c.CampaignID = ci.CampaignID 
 group by c.CampaignID
 union
select c.CampaignID, 'Completed', COUNT(InstanceId)
  from [cloudcore].Campaign c
 inner join [cloudcore].CampaignArchive ca
    on c.CampaignID = ca.CampaignID 
 where ca.Status = 'Completed'
 group by c.CampaignID
 union
select c.CampaignID, 'Cancelled', COUNT(InstanceId)
  from [cloudcore].Campaign c
 inner join [cloudcore].CampaignArchive ca
    on c.CampaignID = ca.CampaignID 
 where ca.Status = 'Cancelled'
 group by c.CampaignID]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCampaignStats].[CampaignID]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Campaign].[CampaignID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCampaignStats].[Status]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCampaignStats].[Cnt]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[cloudcore].[Campaign]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignItem]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Campaign].[CampaignID]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignItem].[CampaignID]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignItem].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignArchive]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignArchive].[CampaignID]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignArchive].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignArchive].[Status]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="703" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create view [cloudcore].vwCampaignStats&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[cloudcore].[vwCampaignUserStats]">
			<Property Name="QueryScript">
				<Value><![CDATA[ 
select COUNT(InstanceId) Completed, CONVERT(date, Finished) Finished, UserId,  CampaignID 
from [cloudcore].CampaignArchive
where Status = 'Completed'
group by CONVERT(date,Finished), CampaignID, UserId]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCampaignUserStats].[Completed]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCampaignUserStats].[Finished]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCampaignUserStats].[UserId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[CampaignArchive].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCampaignUserStats].[CampaignID]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[CampaignArchive].[CampaignID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[cloudcore].[CampaignArchive]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignArchive].[InstanceId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignArchive].[Finished]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignArchive].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignArchive].[CampaignID]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignArchive].[Status]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="258" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create VIEW [cloudcore].[vwCampaignUserStats]&#xD;&#xA;&#x9;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[cloudcore].[vwCostLedger]">
			<Property Name="QueryScript">
				<Value><![CDATA[

select cl.LedgerID, cl.TransDate, cl.Cost, pm.ProcessModelId, pm.ProcessName,
	   tm.SubProcessId, tm.SubProcessName
  from [cloudcore].CostLedger cl
 inner join [cloudcoremodel].ActivityModel am on am.ActivityModelId = cl.ActivityModelId
 inner join [cloudcoremodel].SubProcess tm on am.SubProcessId = tm.SubProcessId
 inner join [cloudcoremodel].ProcessRevision pr on tm.ProcessRevisionId = pr.ProcessRevisionId
 inner join [cloudcoremodel].ProcessModel pm on pr.ProcessModelId = pm.ProcessModelId]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCostLedger].[LedgerID]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[CostLedger].[LedgerID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCostLedger].[TransDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[CostLedger].[TransDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCostLedger].[Cost]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[CostLedger].[Cost]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCostLedger].[ProcessModelId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ProcessModel].[ProcessModelId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCostLedger].[ProcessName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ProcessModel].[ProcessName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCostLedger].[SubProcessId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[SubProcess].[SubProcessId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwCostLedger].[SubProcessName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[SubProcess].[SubProcessName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[cloudcore].[CostLedger]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CostLedger].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[SubProcess]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[SubProcessId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[SubProcess].[SubProcessId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[SubProcess].[ProcessRevisionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ProcessRevisionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModel]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ProcessModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModel].[ProcessModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CostLedger].[LedgerID]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CostLedger].[TransDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CostLedger].[Cost]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModel].[ProcessName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[SubProcess].[SubProcessName]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="552" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW [cloudcore].[vwCostLedger]&#xD;&#xA;&#x9;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[cloudcore].[vwLedgerInfo]">
			<Property Name="QueryScript">
				<Value><![CDATA[
	select  [LedgerID],
            [InstanceId],
            [ActivityModelId],
            [Cost],
            [TransDate],
            [PeriodSeq],
            [Exported]
    from    [cloudcore].CostLedger]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwLedgerInfo].[LedgerID]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[CostLedger].[LedgerID]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwLedgerInfo].[InstanceId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[CostLedger].[InstanceId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwLedgerInfo].[ActivityModelId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[CostLedger].[ActivityModelId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwLedgerInfo].[Cost]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[CostLedger].[Cost]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwLedgerInfo].[TransDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[CostLedger].[TransDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwLedgerInfo].[PeriodSeq]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[CostLedger].[PeriodSeq]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwLedgerInfo].[Exported]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[CostLedger].[Exported]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[cloudcore].[CostLedger]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CostLedger].[LedgerID]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CostLedger].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CostLedger].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CostLedger].[Cost]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CostLedger].[TransDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CostLedger].[PeriodSeq]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CostLedger].[Exported]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="256" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create view [cloudcore].[vwLedgerInfo]&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[cloudcore].[vwNotificationHistory]">
			<Property Name="QueryScript">
				<Value><![CDATA[
      select n.NotificationId, n.Created, n.Creator, u.NFullname, n.[Subject], n.[Message],
              (select count(UserId) from [cloudcore].UserNotification un where un.NotificationId = n.NotificationId and HasRead = 0) as TotalUnread
         from [cloudcore].[Notification] n
       inner join [cloudcore].[User] u on n.Creator = u.UserId]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwNotificationHistory].[NotificationId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Notification].[NotificationId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwNotificationHistory].[Created]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Notification].[Created]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwNotificationHistory].[Creator]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Notification].[Creator]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwNotificationHistory].[NFullname]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[User].[NFullname]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwNotificationHistory].[Subject]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Notification].[Subject]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwNotificationHistory].[Message]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Notification].[Message]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwNotificationHistory].[TotalUnread]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[cloudcore].[Notification]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Notification].[Creator]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Notification].[NotificationId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Notification].[Created]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[NFullname]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Notification].[Subject]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Notification].[Message]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserNotification]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserNotification].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserNotification].[NotificationId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserNotification].[HasRead]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="1" />
				<Property Name="Length" Value="399" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value=" create view [cloudcore].vwNotificationHistory as" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[cloudcore].[vwOpenTasks]">
			<Property Name="QueryScript">
				<Value><![CDATA[ 
	select InstanceId, UserId from [cloudcore].vwTasklist where StatusTypeId = 1]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwOpenTasks].[InstanceId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[vwTasklist].[InstanceId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwOpenTasks].[UserId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[vwTasklist].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[cloudcore].[vwTasklist]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwTasklist].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwTasklist].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwTasklist].[StatusTypeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="122" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW [cloudcore].[vwOpenTasks]&#xD;&#xA;&#x9;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[cloudcore].[vwPermittedSystemActions]">
			<Property Name="QueryScript">
				<Value><![CDATA[
  select distinct SU.ActionGuid, U.UserId -- into AllowPaths
    from [cloudcore].[User] U with (nolock) -- for a specific user
   inner join [cloudcore].[AccessPoolUser] UP with (nolock) -- and his/her permissions for the current location].
      on UP.UserId = U.UserId
   inner join [cloudcore].SystemActionAllocation SUR with (nolock) -- and the urls these rights are allowed to access
      on SUR.AccessPoolId = UP.AccessPoolId
   inner join [cloudcore].SystemAction SU with (nolock) -- and the urls in those modules
      on SU.ActionId = SUR.ActionId]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwPermittedSystemActions].[ActionGuid]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[SystemAction].[ActionGuid]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwPermittedSystemActions].[UserId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[User].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionAllocation]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionAllocation].[AccessPoolId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser].[AccessPoolId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemAction]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemAction].[ActionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionAllocation].[ActionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemAction].[ActionGuid]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="620" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create view [cloudcore].[vwPermittedSystemActions] as" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[cloudcore].[vwProcessDailyStats]">
			<Property Name="QueryScript">
				<Value><![CDATA[
  select null snoo
/*
select  ProcessID, CONVERT(date, Archived) Finished, count(distinct awf.InstanceId) Completed, awf.UserId
from [cloudcore].ArcWorkFlow awf
inner join [cloudcore].Activity fromAct on awf.FromActivity = fromAct.ActivityId
inner join [cloudcore].Activity toAct on awf.ToActivity = toAct.ActivityId
inner join [cloudcore].ArcWorkItem awi on awf.InstanceId = awi.InstanceId
inner join [cloudcore].Task t on fromAct.TaskID = t.TaskID
where fromAct.TaskID <> toAct.TaskID
  and awi.StatusID = 100
group by CONVERT(date, awf.Archived), t.ProcessID, awf.UserId
*/]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwProcessDailyStats].[snoo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="638" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create view [cloudcore].[vwProcessDailyStats]&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[cloudcore].[vwProcessStats]">
			<Property Name="QueryScript">
				<Value><![CDATA[
 select a.ProcessRevisionId, st.StatusTypeName [Status], COUNT(InstanceId) as cnt
  from [cloudcore].Worklist w
 inner join [cloudcore].Activity a on w.ActivityId = a.ActivityId
 inner join [cloudcoremodel].StatusType st on st.StatusTypeId = w.StatusTypeId
 group by a.ProcessRevisionId, st.StatusTypeName]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwProcessStats].[ProcessRevisionId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Activity].[ProcessRevisionId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwProcessStats].[Status]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[StatusType].[StatusTypeName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwProcessStats].[cnt]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[StatusType]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[StatusType].[StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ProcessRevisionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[StatusType].[StatusTypeName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[InstanceId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="355" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create view [cloudcore].[vwProcessStats]&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[cloudcore].[vwTasklist]">
			<Property Name="QueryScript">
				<Value><![CDATA[
-- this retrieves the active worklist for the user that is currently logged in
	      select TAP.ActivityId, AL.ActivityTypeId, AL.ActivityTypeName, WL.Assigned, AL.SubProcessName, AL.ProcessRevisionId, WL.Delayed,
				 OpenedBy, WL.UserId AllocatedTo, TAP.UserId, WL.StatusTypeId,TAP.ApplicationId, AL.SubProcessGuid, TAP.ActivityGuid,
				 WL.InstanceId, AL.SubProcessId, AL.ProcessModelId, AL.ProcessName, WL.Activate, WL.Priority, AL.ActivityName, WL.KeyValue, WL.Created, 
				 WL.DocWait
		   from  [cloudcore].vwActivityAllocationPriority AS TAP
			     inner join [cloudcoremodel].vwLiveProcess AL on AL.ActivityId = TAP.ActivityId
				 inner hash join [cloudcore].Worklist WL -- a hash join is used because the work list is usually the larger data set, where the other smaller tables are used as input for the join. In such scenarios this type of join usually works better than the nested loop join.
				    on  WL.ActivityId = TAP.ActivityId 
				        and ((StatusTypeId = 1 and WL.OpenedBy = TAP.UserId) -- Started
			             or (StatusTypeId = 3 and WL.UserId = TAP.UserId) -- Assigned
			             or (StatusTypeId = 0))]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwTasklist].[ActivityId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[vwActivityAllocationPriority].[ActivityId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwTasklist].[ActivityTypeId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityTypeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwTasklist].[ActivityTypeName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityTypeName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwTasklist].[Assigned]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[Assigned]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwTasklist].[SubProcessName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveProcess].[SubProcessName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwTasklist].[ProcessRevisionId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveProcess].[ProcessRevisionId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwTasklist].[Delayed]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[Delayed]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwTasklist].[OpenedBy]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[OpenedBy]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwTasklist].[AllocatedTo]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwTasklist].[UserId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[vwActivityAllocationPriority].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwTasklist].[StatusTypeId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[StatusTypeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwTasklist].[ApplicationId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[vwActivityAllocationPriority].[ApplicationId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwTasklist].[SubProcessGuid]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveProcess].[SubProcessGuid]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwTasklist].[ActivityGuid]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[vwActivityAllocationPriority].[ActivityGuid]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwTasklist].[InstanceId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[InstanceId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwTasklist].[SubProcessId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveProcess].[SubProcessId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwTasklist].[ProcessModelId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveProcess].[ProcessModelId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwTasklist].[ProcessName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveProcess].[ProcessName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwTasklist].[Activate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[Activate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwTasklist].[Priority]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[Priority]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwTasklist].[ActivityName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwTasklist].[KeyValue]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[KeyValue]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwTasklist].[Created]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[Created]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwTasklist].[DocWait]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[DocWait]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[cloudcore].[vwActivityAllocationPriority]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwActivityAllocationPriority].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[OpenedBy]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwActivityAllocationPriority].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityTypeName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Assigned]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[SubProcessName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[ProcessRevisionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Delayed]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[OpenedBy]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwActivityAllocationPriority].[ApplicationId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[SubProcessGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwActivityAllocationPriority].[ActivityGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[SubProcessId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[ProcessModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[ProcessName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Activate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Priority]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[KeyValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Created]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[DocWait]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1194" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create view [cloudcore].vwTasklist as" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[cloudcore].[vwTaskListFilter]">
			<Property Name="QueryScript">
				<Value><![CDATA[
select TAP.UserId, BA.ProcessRevisionId,
	   TAP.ActivityId, BA.ActivityName, BA.SubProcessId, BA.SubProcessName
  from [cloudcore].vwActivityAllocationPriority TAP
inner join [cloudcoremodel].[vwLiveActivity] BA
   on BA.ActivityId = TAP.ActivityId]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwTaskListFilter].[UserId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[vwActivityAllocationPriority].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwTaskListFilter].[ProcessRevisionId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveActivity].[ProcessRevisionId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwTaskListFilter].[ActivityId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[vwActivityAllocationPriority].[ActivityId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwTaskListFilter].[ActivityName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveActivity].[ActivityName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwTaskListFilter].[SubProcessId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveActivity].[SubProcessId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwTaskListFilter].[SubProcessName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveActivity].[SubProcessName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[cloudcore].[vwActivityAllocationPriority]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveActivity]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveActivity].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwActivityAllocationPriority].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwActivityAllocationPriority].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveActivity].[ProcessRevisionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveActivity].[ActivityName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveActivity].[SubProcessId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveActivity].[SubProcessName]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="301" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create view [cloudcore].[vwTaskListFilter]&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[cloudcore].[vwTasklistHistory]">
			<Property Name="QueryScript">
				<Value><![CDATA[
select fh.PInstanceId InstanceId, fh.Completed, case when fh.UserId = 0 then 'The System' else U.NFullname end + ' ' + fm.Storyline Storyline
  from [cloudcore].[ActivityHistory] fh
  inner join [cloudcoremodel].FlowModel fm 
     on fm.FlowModelId = fh.FlowModelId
  inner join [cloudcore].[User] U on U.UserId = fh.UserId]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwTasklistHistory].[InstanceId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[ActivityHistory].[PInstanceId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwTasklistHistory].[Completed]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[ActivityHistory].[Completed]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwTasklistHistory].[Storyline]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[cloudcore].[ActivityHistory]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel].[FlowModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[FlowModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[PInstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[Completed]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[NFullname]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel].[Storyline]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="376" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW [cloudcore].[vwTasklistHistory]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[cloudcore].[vwUserAccess]">
			<Property Name="QueryScript">
				<Value><![CDATA[ 
    
    SELECT  u.UserId, u.Email, u.[Login], u.Active, u.IntAccess, u.ExtAccess, u.IsAdministrator,
            u.Firstnames, u.Surname,
            isnull((select  MAX(Connected)
                                from    cloudcore.LoginHistory
                                where   UserId = u.UserId), getdate()) as LastLoginDateTime
    FROM    cloudcore.[User] u]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserAccess].[UserId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[User].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserAccess].[Email]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[User].[Email]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserAccess].[Login]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[User].[Login]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserAccess].[Active]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[User].[Active]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserAccess].[IntAccess]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[User].[IntAccess]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserAccess].[ExtAccess]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[User].[ExtAccess]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserAccess].[IsAdministrator]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[User].[IsAdministrator]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserAccess].[Firstnames]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[User].[Firstnames]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserAccess].[Surname]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[User].[Surname]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserAccess].[LastLoginDateTime]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[Email]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[Login]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[Active]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[IntAccess]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[ExtAccess]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[IsAdministrator]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[Firstnames]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[Surname]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[LoginHistory]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[LoginHistory].[Connected]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[LoginHistory].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="422" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW [cloudcore].[vwUserAccess]&#xD;&#xA;    AS" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[cloudcore].[vwUserDashboard]">
			<Property Name="QueryScript">
				<Value><![CDATA[ 	
	SELECT 
		sm.AssemblyName,
		dua.DashboardUserAllocationId,
		dua.UserId,
		dua.DashboardId,
		dua.TilePosition,
		d.SystemModuleId,
		d.[Description],
		d.Title,
		d.DashboardGuid,
		u.NFullname
	FROM cloudcore.DashboardUserAllocation dua
	INNER JOIN cloudcore.Dashboard d ON dua.DashboardId = d.DashboardId
	inner join [cloudcore].SystemModule sm on sm.SystemModuleId = d.SystemModuleId
	inner join cloudcore.[User] u on dua.UserId = u.UserId]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserDashboard].[AssemblyName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[SystemModule].[AssemblyName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserDashboard].[DashboardUserAllocationId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[DashboardUserAllocation].[DashboardUserAllocationId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserDashboard].[UserId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[DashboardUserAllocation].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserDashboard].[DashboardId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[DashboardUserAllocation].[DashboardId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserDashboard].[TilePosition]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[DashboardUserAllocation].[TilePosition]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserDashboard].[SystemModuleId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Dashboard].[SystemModuleId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserDashboard].[Description]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Dashboard].[Description]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserDashboard].[Title]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Dashboard].[Title]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserDashboard].[DashboardGuid]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Dashboard].[DashboardGuid]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserDashboard].[NFullname]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[User].[NFullname]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[cloudcore].[DashboardUserAllocation]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardUserAllocation].[DashboardId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[DashboardId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemModule]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemModule].[SystemModuleId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[SystemModuleId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardUserAllocation].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemModule].[AssemblyName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardUserAllocation].[DashboardUserAllocationId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[DashboardUserAllocation].[TilePosition]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[Description]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[Title]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Dashboard].[DashboardGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[NFullname]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="509" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW [cloudcore].[vwUserDashboard]&#xD;&#xA;&#x9;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[cloudcore].[vwUserModule]">
			<Property Name="QueryScript">
				<Value><![CDATA[
	select distinct u.UserId, su.SystemModuleId, sm.AssemblyName
      from [cloudcore].[User] u
     inner join [cloudcore].AccessPoolUser up
        on u.UserId = up.UserId
     inner join [cloudcore].SystemActionAllocation sul
        on up.AccessPoolId = sul.AccessPoolId
     inner join [cloudcore].SystemAction su
        on sul.ActionId = su.ActionId
     inner join [cloudcore].SystemModule sm
       on su.SystemModuleId = sm.SystemModuleId]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserModule].[UserId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[User].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserModule].[SystemModuleId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[SystemAction].[SystemModuleId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserModule].[AssemblyName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[SystemModule].[AssemblyName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionAllocation]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[AccessPoolUser].[AccessPoolId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionAllocation].[AccessPoolId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemAction]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemActionAllocation].[ActionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemAction].[ActionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemModule]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemAction].[SystemModuleId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemModule].[SystemModuleId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemModule].[AssemblyName]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="499" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create view [cloudcore].[vwUserModule]&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[cloudcore].[vwUserMonthlyTaskAgeAverage]">
			<Property Name="QueryScript">
				<Value><![CDATA[
SELECT  SQ.AverageAge, SQ.UserId, SQ.ActivityName, SQ.AMonth, SQ.AYear, SQ.Ranking
FROM    (	      	       
	        SELECT  AVG(DATEDIFF(SS, th.Opened, th.Completed)) AverageAge, 
                    th.UserId, 
                    tm.ActivityName, 
                    MONTH(th.Assigned) AMonth, 
                    YEAR(th.Assigned) AYear, 
                    ROW_NUMBER() OVER (PARTITION BY  MONTH(th.Assigned) ORDER BY AVG(DATEDIFF(SS, th.Opened, th.Completed)) ASC) AS Ranking
            FROM    [cloudcore].ActivityHistory AS th 
            INNER JOIN [cloudcoremodel].ActivityModel AS tm
                ON  th.ActivityModelId = tm.ActivityModelId
            WHERE   th.Completed between CAST(CAST(YEAR(GETDATE()) AS VARCHAR(5)) + '-01-01' AS DATETIME) AND GETDATE()
           GROUP BY tm.ActivityName, 
                    MONTH(th.Assigned), 
                    YEAR(th.Assigned),
                    th.UserId
        ) AS SQ
WHERE   SQ.Ranking <= 5]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserMonthlyTaskAgeAverage].[AverageAge]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserMonthlyTaskAgeAverage].[UserId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[ActivityHistory].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserMonthlyTaskAgeAverage].[ActivityName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityModel].[ActivityName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserMonthlyTaskAgeAverage].[AMonth]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserMonthlyTaskAgeAverage].[AYear]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserMonthlyTaskAgeAverage].[Ranking]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[cloudcore].[ActivityHistory]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[Opened]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[Completed]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[Assigned]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityName]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1044" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW [cloudcore].[vwUserMonthlyTaskAgeAverage]&#xD;&#xA;&#x9;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[cloudcore].[vwUserMonthlyTaskCompletedCount]">
			<Property Name="QueryScript">
				<Value><![CDATA[ 

SELECT  SQ.UserId, SQ.AMonth, SQ.ActivityName, SQ.TaskGUIDCount, SQ.Ranking
FROM    (
            SELECT  CCth.UserId, 
                    MONTH(Completed) AMonth, 
                    CCtm.ActivityName, 
                    COUNT(cctm.ActivityGuid) [TaskGUIDCount], 
                    ROW_NUMBER() OVER (PARTITION BY Month(Completed) ORDER BY COUNT(cctm.ActivityName) DESC) AS Ranking
            FROM    [cloudcore].ActivityHistory AS CCth
            INNER JOIN [cloudcoremodel].ActivityModel AS CCtm 
                ON  CCtm.ActivityModelId = CCth.ActivityModelId
            WHERE   CCth.Completed BETWEEN cast((CAST(YEAR(GETDATE()) AS VARCHAR(5)) + '-01-01') as datetime) AND GETDATE()
           GROUP BY CCth.UserId, 
                    Month(Completed), 
                    CCtm.ActivityName
        ) AS SQ
WHERE Ranking <=5]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserMonthlyTaskCompletedCount].[UserId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[ActivityHistory].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserMonthlyTaskCompletedCount].[AMonth]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserMonthlyTaskCompletedCount].[ActivityName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityModel].[ActivityName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserMonthlyTaskCompletedCount].[TaskGUIDCount]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserMonthlyTaskCompletedCount].[Ranking]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[cloudcore].[ActivityHistory]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[Completed]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[Completed]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityName]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="922" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW [cloudcore].[vwUserMonthlyTaskCompletedCount]&#xD;&#xA;&#x9;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[cloudcore].[vwUserNotification]">
			<Property Name="QueryScript">
				<Value><![CDATA[ 
	select UN.UserId, N.Creator CreatorId, U.Fullname CreatorName, UN.NotificationId, UN.Important, HasRead, N.[Subject], N.[Message], N.Created   
	  from [cloudcore].UserNotification UN
	 inner join [cloudcore].[Notification] N
	    on N.NotificationId = UN.NotificationId
     inner join [cloudcore].[User] U
	    on U.UserId = N.Creator]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserNotification].[UserId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[UserNotification].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserNotification].[CreatorId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Notification].[Creator]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserNotification].[CreatorName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[User].[Fullname]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserNotification].[NotificationId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[UserNotification].[NotificationId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserNotification].[Important]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[UserNotification].[Important]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserNotification].[HasRead]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[UserNotification].[HasRead]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserNotification].[Subject]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Notification].[Subject]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserNotification].[Message]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Notification].[Message]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserNotification].[Created]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Notification].[Created]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[cloudcore].[UserNotification]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Notification]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Notification].[NotificationId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserNotification].[NotificationId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Notification].[Creator]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserNotification].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[Fullname]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserNotification].[Important]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[UserNotification].[HasRead]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Notification].[Subject]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Notification].[Message]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Notification].[Created]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="394" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW [cloudcore].[vwUserNotification]&#xD;&#xA;&#x9;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[cloudcore].[vwUserWeeklyTaskCompletedCount]">
			<Property Name="QueryScript">
				<Value><![CDATA[ 

SELECT  UserId, ADate, ActivityName, TaskGUIDCount, Ranking
FROM    (
			SELECT  CCth.UserId, 
                    CAST(Completed AS DATE) ADate, 
                    CCtm.ActivityName, 
                    COUNT(cctm.ActivityName) TaskGUIDCount, 
                    ROW_NUMBER() OVER (PARTITION BY CAST(Completed AS DATE) ORDER BY COUNT(CCtm.ActivityName)DESC) AS Ranking
			FROM    [cloudcore].ActivityHistory CCth
			INNER JOIN [cloudcoremodel].ActivityModel CCtm 
                ON  CCtm.ActivityModelId = CCth.ActivityModelId      
			WHERE   CCth.Completed BETWEEN
									DATEADD(DD, 1 - DATEPART(DW, GETDATE()), GETDATE())
								   AND
                                    GETDATE()
   
		   GROUP BY CCth.UserId, 
                    CAST(Completed AS DATE), 
                    CCtm.ActivityName
		) AS SQ
WHERE Ranking <= 5]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserWeeklyTaskCompletedCount].[UserId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[ActivityHistory].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserWeeklyTaskCompletedCount].[ADate]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserWeeklyTaskCompletedCount].[ActivityName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityModel].[ActivityName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserWeeklyTaskCompletedCount].[TaskGUIDCount]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwUserWeeklyTaskCompletedCount].[Ranking]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[cloudcore].[ActivityHistory]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[UserId]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[Completed]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[Completed]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityName]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="924" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW [cloudcore].[vwUserWeeklyTaskCompletedCount]&#xD;&#xA;&#x9;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[cloudcore].[vwWorklist]">
			<Property Name="QueryScript">
				<Value><![CDATA[
select WL.InstanceId,
       WL.PInstanceId,
	   WL.StatusTypeId,
	   WL.DocWait,
	   WL.UserId,
	   WL.Priority, 
	   WL.KeyValue, 
	   WL.Activate, 
	   WL.Opened, 
	   WL.Created, 
       AL.ActivityId, 
	   AL.ActivityModelId, 
	   AL.ActivityName, 
	   AL.ActivityStartable, 
	   AL.ActivityTypeId, 
	   AL.ActivityTypeName, 
	   AL.ProcessName, 
	   AL.ProcessModelId, 
	   WL.Assigned, 
	   AL.ProcessGuid, 
	   WL.Delayed,
	   AL.ActivityGuid,
	   AL.SubProcessId,
	   AL.SubProcessName
   from [cloudcore].Worklist WL with (nolock)
 inner join [cloudcoremodel].vwLiveProcess AL with (nolock)
    on AL.ActivityId = WL.ActivityId]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklist].[InstanceId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[InstanceId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklist].[PInstanceId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[PInstanceId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklist].[StatusTypeId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[StatusTypeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklist].[DocWait]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[DocWait]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklist].[UserId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklist].[Priority]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[Priority]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklist].[KeyValue]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[KeyValue]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklist].[Activate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[Activate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklist].[Opened]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[Opened]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklist].[Created]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[Created]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklist].[ActivityId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklist].[ActivityModelId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityModelId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklist].[ActivityName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklist].[ActivityStartable]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityStartable]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklist].[ActivityTypeId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityTypeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklist].[ActivityTypeName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityTypeName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklist].[ProcessName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveProcess].[ProcessName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklist].[ProcessModelId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveProcess].[ProcessModelId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklist].[Assigned]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[Assigned]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklist].[ProcessGuid]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveProcess].[ProcessGuid]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklist].[Delayed]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[Delayed]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklist].[ActivityGuid]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityGuid]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklist].[SubProcessId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveProcess].[SubProcessId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklist].[SubProcessName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveProcess].[SubProcessName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[PInstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[DocWait]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Priority]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[KeyValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Activate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Opened]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Created]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityStartable]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityTypeName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[ProcessName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[ProcessModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Assigned]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[ProcessGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Delayed]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[SubProcessId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[SubProcessName]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="704" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create view [cloudcore].[vwWorklist] as" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[cloudcore].[vwWorklistEx]">
			<Property Name="QueryScript">
				<Value><![CDATA[
	select WL.InstanceId, WL.PInstanceId, WL.StatusTypeId, ST.StatusTypeName,WL.DocWait, WL.UserId, WL.OpenedBy,
           WL.Priority, WL.KeyValue, WL.Activate,  WL.Assigned,
           WL.Opened, WL.Created, WL.ActivityId, AL.ActivityModelId, AL.ActivityName, AL.ActivityStartable,
           AL.ActivityTypeId, AL.ProcessRevisionId, AL.ActivityTypeName, AL.ProcessName, 
           AL.ProcessModelId, AL.SubProcessId,  WU.Fullname AS UserName, 
           AL.SubProcessName, AL.ActivityGuid, AL.ProcessGuid, AL.SubProcessGuid
      from cloudcore.Worklist WL with (nolock)
     inner join cloudcoremodel.vwLiveProcess AL 
        on AL.ActivityId = WL.ActivityId 
     inner join cloudcore.[User] WU with (nolock)
        on WU.UserId = WL.UserId
     INNER JOIN cloudcoremodel.StatusType ST with (nolock)
        on WL.StatusTypeId = ST.StatusTypeId]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklistEx].[InstanceId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[InstanceId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklistEx].[PInstanceId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[PInstanceId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklistEx].[StatusTypeId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[StatusTypeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklistEx].[StatusTypeName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[StatusType].[StatusTypeName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklistEx].[DocWait]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[DocWait]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklistEx].[UserId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklistEx].[OpenedBy]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[OpenedBy]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklistEx].[Priority]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[Priority]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklistEx].[KeyValue]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[KeyValue]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklistEx].[Activate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[Activate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklistEx].[Assigned]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[Assigned]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklistEx].[Opened]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[Opened]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklistEx].[Created]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[Created]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklistEx].[ActivityId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[ActivityId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklistEx].[ActivityModelId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityModelId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklistEx].[ActivityName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklistEx].[ActivityStartable]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityStartable]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklistEx].[ActivityTypeId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityTypeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklistEx].[ProcessRevisionId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveProcess].[ProcessRevisionId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklistEx].[ActivityTypeName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityTypeName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklistEx].[ProcessName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveProcess].[ProcessName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklistEx].[ProcessModelId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveProcess].[ProcessModelId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklistEx].[SubProcessId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveProcess].[SubProcessId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklistEx].[UserName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[User].[Fullname]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklistEx].[SubProcessName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveProcess].[SubProcessName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklistEx].[ActivityGuid]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityGuid]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklistEx].[ProcessGuid]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveProcess].[ProcessGuid]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[vwWorklistEx].[SubProcessGuid]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveProcess].[SubProcessGuid]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[StatusType]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[StatusType].[StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[PInstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[StatusType].[StatusTypeName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[DocWait]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[OpenedBy]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Priority]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[KeyValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Activate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Assigned]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Opened]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Created]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityStartable]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[ProcessRevisionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityTypeName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[ProcessName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[ProcessModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[SubProcessId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[Fullname]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[SubProcessName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[ProcessGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[SubProcessGuid]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="908" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create view [cloudcore].[vwWorklistEx] &#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[WorkflowKeepAlive]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    update  W
    set     W.KeepAliveDate = getdate()
    from    cloudcore.Worklist W
    where   W.InstanceId = @InstanceId
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[KeepAliveDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkflowKeepAlive].[@InstanceId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkflowKeepAlive].[@InstanceId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="218" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[WorkflowKeepAlive]&#xD;&#xA;    @InstanceId bigint&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[WorkItemCancel]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
   -- cancel the workitem
   update [cloudcore].Worklist set UserId = @UserId, StatusTypeId = 99 where InstanceId = @InstanceId
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemCancel].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemCancel].[@InstanceId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemCancel].[@InstanceId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemCancel].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="225" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[WorkItemCancel]&#xD;&#xA;&#x9;@InstanceId bigint, @UserId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[WorkItemChangePriority]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
	update [cloudcore].Worklist
	   set Priority = @Priority
	 where InstanceId = @InstanceId
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Priority]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemChangePriority].[@Priority]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemChangePriority].[@InstanceId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemChangePriority].[@InstanceId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemChangePriority].[@Priority]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="202" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[WorkItemChangePriority]&#xD;&#xA;&#x9;@InstanceId int,&#xD;&#xA;&#x9;@Priority tinyint&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[WorkItemChangeUser]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
   -- Change the user this item is assigned to
   update [cloudcore].Worklist set UserId = @UserId where InstanceId = @InstanceId
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemChangeUser].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemChangeUser].[@InstanceId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemChangeUser].[@InstanceId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemChangeUser].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="231" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[WorkItemChangeUser]&#xD;&#xA;&#x9;@InstanceId bigint, @UserId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[WorkItemDelay]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
   -- delay the workitem
   update [cloudcore].Worklist 
      set Activate = @ReactivateAt,
          StatusTypeId = 0
    where InstanceId = @InstanceId
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Activate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemDelay].[@ReactivateAt]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemDelay].[@InstanceId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemDelay].[@InstanceId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemDelay].[@ReactivateAt]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="265" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create PROCEDURE [cloudcore].[WorkItemDelay]&#xD;&#xA;@InstanceId BigInt,&#xD;&#xA;@ReactivateAt DateTime&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[WorkItemFail]">
			<Property Name="BodyScript">
				<Value><![CDATA[
  begin
	
	if (@StatusTypeId not in (42, 101))
	begin
		raiserror('Invalid status type specified for work list failure update. Allowed values are: 42 (Retry) and 101 (Failed).', 16 ,1)
		return
	end
	
	insert into cloudcore.WorklistFailure(InstanceId, KeyValue, UserId, ActivityId, Reason)
	    select @InstanceId, WL.KeyValue, WL.UserId, WL.ActivityId, @Reason
	      from cloudcore.Worklist WL
	     where WL.InstanceId = @InstanceId

	if (@@ROWCOUNT > 0)
	  begin
		update W
		   set StatusTypeId = @StatusTypeId,
			   Activate = CASE WHEN @StatusTypeId = 42
						  THEN dateadd(second,AV.RetryDelayInSeconds, Getdate())
						  ELSE Activate						  
						  END
		   from cloudcore.Worklist as W 
		   inner join cloudcoremodel.vwLiveActivity as AV 
			  on AV.ActivityId = W.ActivityId  
		 where InstanceId = @InstanceId
	  end
  end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[WorkItemFail].[@StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorklistFailure]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorklistFailure].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorklistFailure].[KeyValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorklistFailure].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorklistFailure].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorklistFailure].[Reason]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemFail].[@InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[KeyValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemFail].[@Reason]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveActivity]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveActivity].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Activate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveActivity].[RetryDelayInSeconds]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Activate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[InstanceId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemFail].[@InstanceId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemFail].[@Reason]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemFail].[@StatusTypeId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="986" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[WorkItemFail]&#xD;&#xA;&#x9;@InstanceId bigint,&#xD;&#xA;&#x9;@Reason varchar(max),&#xD;&#xA;&#x9;@StatusTypeId tinyint&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[WorkItemFlow]">
			<Property Name="BodyScript">
				<Value><![CDATA[
declare @ActivityTypeId int
declare @FromActivityId int
declare @ToActivityId int
declare @PInstanceId bigint
declare @ToDocWait bit
declare @KeyValue bigint
declare @FlowModelId int
begin
  begin transaction
  begin try
         
        -- get the additional data needed throughout the move
        declare @InstanceAndOutcomes table
            (
                ActivityId int,
                ToActivityId int,
                PInstanceId bigint,
                DocWait bit,
                KeyValue bigint,
                FlowModelId int,
                ActivityTypeId tinyint,
                Outcome varchar(50) not null default('-')
            )

        insert into @InstanceAndOutcomes (ActivityId, ToActivityId, PInstanceId, DocWait, KeyValue, FlowModelId, ActivityTypeId, Outcome)
            select  WL.ActivityId, 
                    FM.ToActivityId, 
                    WL.PInstanceId, 
                    AMT.DocWait,
                    WL.KeyValue,
                    FM.FlowModelId, 
                    AMT.ActivityTypeId,
                    isnull(FM.Outcome, '-') as Outcome
              from  [cloudcore].Worklist WL with (nolock)
             inner join [cloudcore].Activity A with (nolock)
                on  A.ActivityId = WL.ActivityId
             inner join [cloudcoremodel].vwLiveFlow FM
                on  FM.FromActivityId = A.ActivityId
             inner join [cloudcoremodel].ActivityModel AMT with (nolock)
                on  AMT.ActivityModelId = FM.ToActivityModelId
             where  WL.InstanceId = @InstanceId
             
        if (@@ROWCOUNT <= 0)
        begin
            raiserror ('There was an error selecting the data for the flow of workitem %I64d', 16, 1, @InstanceId)  
            return
        end

        select  @FromActivityId = ActivityId, 
                @PInstanceId = PInstanceId, 
                @ToDocWait = DocWait,
                @KeyValue = KeyValue,
                @ActivityTypeId = ActivityTypeId
        from    @InstanceAndOutcomes

        select  @ToActivityId = ToActivityId, 
                @FlowModelId = FlowModelId
        from    @InstanceAndOutcomes
        where   ((Outcome = isnull(@Outcome, '-')) or ((isnull(Outcome, '-') = '-') and (isnull(@Outcome, '-') = '-')))

        -- check the outcome
        if @ToActivityId is null
        begin
            raiserror ('The activity %d does not have an outcome of %s.', 16, 1, @FromActivityId, @Outcome) 
            return
        end
        
        -- update the history  
        insert into [cloudcore].[ActivityHistory](InstanceId, PInstanceId, ActivityModelId, FlowModelId, Assigned, Activate, Opened, [Priority], StatusTypeId, UserId)
                                          select  InstanceId, PInstanceId, ActivityModelId, @FlowModelId, Assigned, Activate, Opened,  [Priority], 100, @UserId from vwWorklist WL where WL.InstanceId = @InstanceId
    
    -- move the activity
    if (@ToActivityId <> 0)
    begin
      -- move task & activity
      update WL 
         set ActivityId = @ToActivityId,
             DocWait = @ToDocWait,
             StatusTypeId = case when WL.UserId <> 0 then 3 else 0 end, -- keep it allocated if it is
             OpenedBy = 0,
             Assigned = GETDATE()
        from [cloudcore].Worklist WL
      where WL.InstanceId = @InstanceId

      -- Release if to Activity is Page
      update WL 
         set UserId = case when @ActivityTypeId = 0 then 0 else UserId end,
             StatusTypeId = case when @ActivityTypeId = 0 then 0 else StatusTypeId end
        from [cloudcore].Worklist WL
       where WL.InstanceId = @InstanceId
    end
    
    exec [cloudcore].CampaignItemFinish @InstanceId, @UserId	
    if (@ToActivityId = 0)
    begin

      -- if this is the end then remove the item from the worklist  
      update Worklist set StatusTypeId = 100 where InstanceId = @InstanceId
      delete from [cloudcore].Worklist where InstanceId = @InstanceId 
    end
        

    commit transaction    
  end try
  begin catch
    if (XACT_STATE()<>0)
    begin
      print 'Transaction rollback occured'
      rollback transaction
    end
    
   --Throw exception to calling SP
    declare @MSG varchar(1000)
    set @MSG = error_message()
    raiserror ('Error in Flow Navigation for this item - %s', 16, 1, @MSG) 
  end catch

end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bigint]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bigint]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemFlow].[@InstanceAndOutcomes].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemFlow].[@InstanceAndOutcomes].[ToActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemFlow].[@InstanceAndOutcomes].[PInstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemFlow].[@InstanceAndOutcomes].[DocWait]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemFlow].[@InstanceAndOutcomes].[KeyValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemFlow].[@InstanceAndOutcomes].[FlowModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemFlow].[@InstanceAndOutcomes].[ActivityTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemFlow].[@InstanceAndOutcomes].[Outcome]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveFlow]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveFlow].[FromActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveFlow].[ToActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveFlow].[ToActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[PInstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[DocWait]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[KeyValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveFlow].[FlowModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveFlow].[Outcome]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemFlow].[@InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemFlow].[@Outcome]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[PInstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[FlowModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[Assigned]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[Activate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[Opened]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[Priority]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwWorklist]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwWorklist].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwWorklist].[PInstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwWorklist].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwWorklist].[Assigned]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwWorklist].[Activate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwWorklist].[Opened]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwWorklist].[Priority]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemFlow].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[DocWait]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[OpenedBy]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Assigned]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CampaignItemFinish]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[InstanceId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[cloudcore].[WorkItemFlow].[@InstanceAndOutcomes]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[WorkItemFlow].[@InstanceAndOutcomes].[ActivityId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[WorkItemFlow].[@InstanceAndOutcomes].[ToActivityId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[WorkItemFlow].[@InstanceAndOutcomes].[PInstanceId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bigint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[WorkItemFlow].[@InstanceAndOutcomes].[DocWait]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bit]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[WorkItemFlow].[@InstanceAndOutcomes].[KeyValue]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bigint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[WorkItemFlow].[@InstanceAndOutcomes].[FlowModelId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[WorkItemFlow].[@InstanceAndOutcomes].[ActivityTypeId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[tinyint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[WorkItemFlow].[@InstanceAndOutcomes].[Outcome]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemFlow].[@InstanceId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemFlow].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemFlow].[@Outcome]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="4705" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure [cloudcore].[WorkItemFlow]&#xD;&#xA;-- ===================================================================&#xD;&#xA;-- Author:&#x9;&#x9;AHM for CloudCore&#xD;&#xA;-- Description:&#x9;Engine that will shift the Activity based on Outcome&#xD;&#xA;-- ===================================================================&#xD;&#xA;@InstanceId bigint,&#xD;&#xA;@UserId int,&#xD;&#xA;@Outcome varchar(50) = null&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[WorkItemFlowCosting]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
  -- add the calculated cost to the database
  insert into [cloudcore].CostLedger (InstanceId, ActivityModelId, Cost, PeriodSeq)
       values (@InstanceId, @ActivityModelId, @Cost, [cloudcore].[Period_Get](GETDATE()))					
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[CostLedger]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CostLedger].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CostLedger].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CostLedger].[Cost]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[CostLedger].[PeriodSeq]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemFlowCosting].[@InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemFlowCosting].[@ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemFlowCosting].[@Cost]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Period_Get]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemFlowCosting].[@ActivityModelId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemFlowCosting].[@InstanceId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemFlowCosting].[@Cost]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[money]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="350" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[WorkItemFlowCosting]&#xD;&#xA;@ActivityModelId int,&#xD;&#xA;@InstanceId bigint,&#xD;&#xA;@Cost money&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[WorkItemRelease]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
   -- cancel the workitem
   update [cloudcore].Worklist set UserId = 0, StatusTypeId = 0, OpenedBy = 0 where InstanceId = @InstanceId
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[OpenedBy]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemRelease].[@InstanceId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemRelease].[@InstanceId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="220" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure [cloudcore].[WorkItemRelease]&#xD;&#xA;&#x9;@InstanceId bigint&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[WorkItemStartByActivity]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    SET NOCOUNT ON;

    declare @Now DATETIME

    SET @Now = GETDATE()

    declare @Data table
    (
        InstanceId      bigint,
        KeyValue        bigint,
        ActivityId      int
    )

    UPDATE  Top (1) wl
    SET     wl.StatusTypeId = 1,
            wl.OpenedBy = @UserId,
            wl.Opened = @Now
    OUTPUT  INSERTED.InstanceId,
            INSERTED.KeyValue,
            INSERTED.ActivityId
    INTO    @Data (InstanceId, KeyValue, ActivityId)
    FROM    cloudcore.Worklist wl WITH (ROWLOCK, READPAST, UPDLOCK, INDEX(IX_Worklist_Priority_Activate)) 
	inner join vwActivityAllocationPriority AAP
	     on AAP.ActivityId = wl.ActivityId
		and AAP.UserId = @UserId
    WHERE  wl.Activate < @Now 
      AND AAP.ActivityTypeId = 0
	  AND AAP.ActivityId = @ActivityId
      AND ((wl.StatusTypeId = 3 AND (wl.UserId = @UserId)) OR (wl.StatusTypeId = 0))


    SELECT  @InstanceId = wl.InstanceId, 
            @KeyValue = wl.KeyValue, 
            @ActivityId = p.ActivityId,
            @ActivityGuid = p.ActivityGuid,
            @SubProcessGuid = p.SubProcessGuid
    FROM    @Data wl
    INNER JOIN cloudcoremodel.vwLiveProcess p WITH (NOLOCK)
        ON  wl.ActivityId = p.ActivityId
    inner join cloudcoremodel.vwLiveActivity a
        on p.ActivityId = p.ActivityId
	inner join cloudcore.SystemModule SM with (nolock)
	    on a.SystemModuleId = SM.SystemModuleId	   
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[IX_Worklist_Priority_Activate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwActivityAllocationPriority]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwActivityAllocationPriority].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwActivityAllocationPriority].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartByActivity].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[OpenedBy]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Opened]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Activate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwActivityAllocationPriority].[ActivityTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartByActivity].[@ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[KeyValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartByActivity].[@Data].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveActivity]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemModule]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveActivity].[SystemModuleId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemModule].[SystemModuleId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartByActivity].[@InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartByActivity].[@Data].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartByActivity].[@KeyValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartByActivity].[@Data].[KeyValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartByActivity].[@ActivityGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[ActivityGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartByActivity].[@SubProcessGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveProcess].[SubProcessGuid]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[cloudcore].[WorkItemStartByActivity].[@Data]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[WorkItemStartByActivity].[@Data].[InstanceId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bigint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[WorkItemStartByActivity].[@Data].[KeyValue]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bigint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[WorkItemStartByActivity].[@Data].[ActivityId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemStartByActivity].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemStartByActivity].[@ActivityId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemStartByActivity].[@InstanceId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemStartByActivity].[@KeyValue]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemStartByActivity].[@ActivityGuid]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemStartByActivity].[@SubProcessGuid]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1696" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create PROCEDURE [cloudcore].[WorkItemStartByActivity]&#xD;&#xA;    @UserId INT, &#xD;&#xA;&#x9;@ActivityId int,&#xD;&#xA;&#x9;@InstanceId bigint OUTPUT,&#xD;&#xA;&#x9;@KeyValue bigint OUTPUT, &#xD;&#xA;    @ActivityGuid uniqueidentifier OUTPUT, &#xD;&#xA;    @SubProcessGuid uniqueidentifier OUTPUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[WorkItemStartByInstance]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    SET NOCOUNT ON;

    declare @Now DATETIME

    SET @Now = GETDATE()

    declare @Data table
    (
        InstanceId      bigint,
        KeyValue        bigint,
        ActivityId      int
    )

    UPDATE  Top (1) wl
    SET     wl.StatusTypeId = 1,
            wl.OpenedBy = @UserId,
            wl.Opened = @Now
    OUTPUT  INSERTED.InstanceId,
            INSERTED.KeyValue,
            INSERTED.ActivityId
    INTO    @Data (InstanceId, KeyValue, ActivityId)
    FROM    cloudcore.Worklist wl WITH (ROWLOCK, READPAST, UPDLOCK, INDEX(IX_Worklist_Priority_Activate)) 
	inner join cloudcore.Activity AAP with (nolock)
	     on AAP.ActivityId = wl.ActivityId
    WHERE wl.InstanceId = @InstanceId
	  and  wl.Activate <= @Now 
      AND AAP.ActivityTypeId = 0
      AND ((wl.StatusTypeId = 3 AND (wl.UserId = @UserId)) OR (wl.StatusTypeId = 0) OR (wl.StatusTypeId = 1 AND (wl.OpenedBy = @UserId)))


    SELECT  @KeyValue = wl.KeyValue, @SubProcessGuid = p.SubProcessGuid,
            @ActivityGuid = p.ActivityGuid
    FROM    @Data wl
    INNER JOIN cloudcore.Activity p WITH (NOLOCK)
        ON  wl.ActivityId = p.ActivityId
	inner join cloudcore.SystemModule SM with (nolock)
	    on p.SystemModuleId = SM.SystemModuleId
	   
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[IX_Worklist_Priority_Activate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[OpenedBy]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartByInstance].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Opened]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartByInstance].[@InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Activate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[KeyValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartByInstance].[@Data].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemModule]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[SystemModuleId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemModule].[SystemModuleId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartByInstance].[@KeyValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartByInstance].[@Data].[KeyValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartByInstance].[@SubProcessGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[SubProcessGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartByInstance].[@ActivityGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityGuid]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[cloudcore].[WorkItemStartByInstance].[@Data]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[WorkItemStartByInstance].[@Data].[InstanceId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bigint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[WorkItemStartByInstance].[@Data].[KeyValue]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bigint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[WorkItemStartByInstance].[@Data].[ActivityId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemStartByInstance].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemStartByInstance].[@InstanceId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemStartByInstance].[@KeyValue]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemStartByInstance].[@ActivityGuid]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemStartByInstance].[@SubProcessGuid]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1505" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create PROCEDURE [cloudcore].[WorkItemStartByInstance]&#xD;&#xA;    @UserId INT, &#xD;&#xA;&#x9;@InstanceId bigint,&#xD;&#xA;&#x9;@KeyValue bigint OUTPUT, &#xD;&#xA;    @ActivityGuid uniqueidentifier OUTPUT, &#xD;&#xA;    @SubProcessGuid uniqueidentifier OUTPUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[WorkItemStartFromVirtualWorker]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    SET NOCOUNT ON;

    declare @Now DATETIME
    declare @UserId INT = -99 -- Virtual Worker

    SET @Now = GETDATE()

    declare @Data table
    (
        InstanceId      bigint,
        KeyValue        bigint,
        ActivityId      int,
		Retries			int	
    )

    UPDATE  Top (1) wl
    SET     wl.StatusTypeId = 1,
            wl.OpenedBy = @UserId,
            wl.Opened = @Now,
			wl.Retries = CASE WHEN @StatusTypeId = 42
						 THEN wl.Retries + 1
						 ELSE wl.Retries END,
            wl.KeepAliveDate = dateadd(second, @KeepAliveTimeOutInSeconds, getdate())
    OUTPUT  INSERTED.InstanceId,
            INSERTED.KeyValue,
            INSERTED.ActivityId,
			INSERTED.Retries
    INTO    @Data (InstanceId, KeyValue, ActivityId, Retries)
    FROM    cloudcore.Worklist wl 
	WHERE   wl.InstanceId = (
                                SELECT TOP 1 w2.InstanceId
								FROM cloudcore.Worklist w2 WITH (ROWLOCK, READPAST, UPDLOCK, INDEX(IX_Worklist_Priority_Activate))
	                            INNER JOIN cloudcoremodel.vwLiveActivity A with (NOLOCK)
	                                ON A.ActivityId = w2.ActivityId
								WHERE	W2.Activate <= @Now
                                        AND   A.ActivityTypeId != 0 AND A.ActivityTypeId != 1 -- not a user activity 
	                                    AND  (
                                                (@StatusTypeId = 42 and w2.Retries < A.MaxRetries AND w2.StatusTypeId = @StatusTypeId) -- 
                                                
                                                OR 
                                                
                                                (@StatusTypeId != 42 and (w2.StatusTypeId = @StatusTypeId OR w2.StatusTypeId = 3))
                                             )
                           )

    SELECT  @InstanceId = wl.InstanceId, @KeyValue = wl.KeyValue, @ActivityId = A.ActivityId,
            @ActivityGuid = A.ActivityGuid, @MaxRetries = A.MaxRetries, @Retries = wl.Retries,
            @ActivityName = A.ActivityName
    FROM    @Data wl
    INNER JOIN cloudcoremodel.vwLiveActivity A with (NOLOCK)
	   ON A.ActivityId = wl.ActivityId
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[OpenedBy]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Opened]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Retries]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartFromVirtualWorker].[@StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[KeepAliveDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartFromVirtualWorker].[@KeepAliveTimeOutInSeconds]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[IX_Worklist_Priority_Activate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveActivity]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveActivity].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Activate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveActivity].[ActivityTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Retries]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveActivity].[MaxRetries]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[KeyValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveActivity].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartFromVirtualWorker].[@Data].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartFromVirtualWorker].[@InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartFromVirtualWorker].[@Data].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartFromVirtualWorker].[@KeyValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartFromVirtualWorker].[@Data].[KeyValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartFromVirtualWorker].[@ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartFromVirtualWorker].[@ActivityGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveActivity].[ActivityGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartFromVirtualWorker].[@MaxRetries]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveActivity].[MaxRetries]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartFromVirtualWorker].[@Retries]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartFromVirtualWorker].[@Data].[Retries]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartFromVirtualWorker].[@ActivityName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveActivity].[ActivityName]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[cloudcore].[WorkItemStartFromVirtualWorker].[@Data]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[WorkItemStartFromVirtualWorker].[@Data].[InstanceId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bigint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[WorkItemStartFromVirtualWorker].[@Data].[KeyValue]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bigint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[WorkItemStartFromVirtualWorker].[@Data].[ActivityId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[WorkItemStartFromVirtualWorker].[@Data].[Retries]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemStartFromVirtualWorker].[@ApplicationId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemStartFromVirtualWorker].[@StatusTypeId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemStartFromVirtualWorker].[@KeepAliveTimeOutInSeconds]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[900]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemStartFromVirtualWorker].[@ActivityGuid]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemStartFromVirtualWorker].[@ActivityId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemStartFromVirtualWorker].[@InstanceId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemStartFromVirtualWorker].[@KeyValue]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemStartFromVirtualWorker].[@MaxRetries]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemStartFromVirtualWorker].[@Retries]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemStartFromVirtualWorker].[@ActivityName]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2645" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[WorkItemStartFromVirtualWorker]&#xD;&#xA;&#x9;@ApplicationId   INT,&#xD;&#xA;&#x9;@StatusTypeId&#x9; INT = 0,&#xD;&#xA;    @KeepAliveTimeOutInSeconds int = 900,&#xD;&#xA;    @ActivityGuid    UNIQUEIDENTIFIER OUTPUT,&#xD;&#xA;&#x9;@ActivityId      INT OUTPUT,&#xD;&#xA;    @InstanceId      BIGINT OUTPUT,&#xD;&#xA;    @KeyValue        BIGINT OUTPUT,&#xD;&#xA;&#x9;@MaxRetries&#x9;&#x9; INT OUTPUT,&#xD;&#xA;&#x9;@Retries&#x9;&#x9; INT OUTPUT,&#xD;&#xA;    @ActivityName    VARCHAR(100) OUTPUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcore].[WorkItemStartFromVirtualWorkerByLocation]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    SET NOCOUNT ON;

    declare @Now DATETIME
    declare @UserId INT = -99 -- Virtual Worker

    SET @Now = GETDATE()

    declare @Data table
    (
        InstanceId      bigint,
        KeyValue        bigint,
        ActivityId      int,
		Retries			int
    )

	if(@Latitude = null)
	BEGIN
		set @Latitude = 0.0000
	END
	if(@Longitude = null)
	BEGIN
		set @Longitude = 0.0000
	END
	
	DECLARE @LocationPoint as geometry = geometry::Point(@Latitude,@Longitude,0);
	

    UPDATE  Top (1) wl
    SET     wl.StatusTypeId = 1,
            wl.OpenedBy = @UserId,
            wl.Opened = @Now,
			wl.Retries = CASE WHEN @StatusTypeId = 42
						 THEN wl.Retries + 1
						 ELSE wl.Retries END,
            wl.KeepAliveDate = dateadd(second, @KeepAliveTimeOutInSeconds, getdate())
    OUTPUT  INSERTED.InstanceId,
            INSERTED.KeyValue,
            INSERTED.ActivityId,
			INSERTED.Retries
    INTO    @Data (InstanceId, KeyValue, ActivityId, Retries)
    FROM    cloudcore.Worklist wl 
	WHERE   wl.InstanceId = (
                                SELECT TOP 1 w2.InstanceId
								FROM cloudcore.Worklist w2 WITH (ROWLOCK, READPAST, UPDLOCK, INDEX(IX_Worklist_Priority_Activate))
	                            INNER JOIN cloudcoremodel.vwLiveActivity A with (NOLOCK)
	                                ON A.ActivityId = w2.ActivityId
								WHERE	W2.Activate <= @Now
                                        AND   A.ActivityTypeId != 0 AND A.ActivityTypeId != 1 -- not a user activity 
	                                    AND  @LocationPoint.STDistance(w2.Location) * 100000 <= @RadiusInMeters
                                        AND  (
                                                (@StatusTypeId = 42 and w2.Retries < A.MaxRetries AND w2.StatusTypeId = @StatusTypeId) -- 
                                                
                                                OR 
                                                
                                                (@StatusTypeId != 42 and (w2.StatusTypeId = @StatusTypeId OR w2.StatusTypeId = 3))
                                             )
                           )
	 
    SELECT  @InstanceId = wl.InstanceId, @KeyValue = wl.KeyValue, @ActivityId = A.ActivityId,
            @ActivityGuid = A.ActivityGuid, @MaxRetries = A.MaxRetries, @Retries = wl.Retries,
            @ActivityName = A.ActivityName
    FROM    @Data wl
    INNER JOIN cloudcoremodel.vwLiveActivity A with (NOLOCK)
	   ON A.ActivityId = wl.ActivityId
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[geometry]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[geometry]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartFromVirtualWorkerByLocation].[@Latitude]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartFromVirtualWorkerByLocation].[@Longitude]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[OpenedBy]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Opened]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Retries]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartFromVirtualWorkerByLocation].[@StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[KeepAliveDate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartFromVirtualWorkerByLocation].[@KeepAliveTimeOutInSeconds]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[IX_Worklist_Priority_Activate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveActivity]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveActivity].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Activate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveActivity].[ActivityTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Location]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartFromVirtualWorkerByLocation].[@RadiusInMeters]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Retries]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveActivity].[MaxRetries]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[KeyValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveActivity].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartFromVirtualWorkerByLocation].[@Data].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartFromVirtualWorkerByLocation].[@InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartFromVirtualWorkerByLocation].[@Data].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartFromVirtualWorkerByLocation].[@KeyValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartFromVirtualWorkerByLocation].[@Data].[KeyValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartFromVirtualWorkerByLocation].[@ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartFromVirtualWorkerByLocation].[@ActivityGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveActivity].[ActivityGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartFromVirtualWorkerByLocation].[@MaxRetries]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveActivity].[MaxRetries]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartFromVirtualWorkerByLocation].[@Retries]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartFromVirtualWorkerByLocation].[@Data].[Retries]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorkItemStartFromVirtualWorkerByLocation].[@ActivityName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveActivity].[ActivityName]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[cloudcore].[WorkItemStartFromVirtualWorkerByLocation].[@Data]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[WorkItemStartFromVirtualWorkerByLocation].[@Data].[InstanceId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bigint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[WorkItemStartFromVirtualWorkerByLocation].[@Data].[KeyValue]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bigint]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[WorkItemStartFromVirtualWorkerByLocation].[@Data].[ActivityId]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[cloudcore].[WorkItemStartFromVirtualWorkerByLocation].[@Data].[Retries]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemStartFromVirtualWorkerByLocation].[@ApplicationId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemStartFromVirtualWorkerByLocation].[@StatusTypeId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemStartFromVirtualWorkerByLocation].[@KeepAliveTimeOutInSeconds]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[900]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemStartFromVirtualWorkerByLocation].[@ActivityGuid]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemStartFromVirtualWorkerByLocation].[@ActivityId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemStartFromVirtualWorkerByLocation].[@InstanceId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemStartFromVirtualWorkerByLocation].[@KeyValue]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemStartFromVirtualWorkerByLocation].[@Latitude]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Scale" Value="10" />
									<Property Name="Precision" Value="13" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemStartFromVirtualWorkerByLocation].[@Longitude]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Scale" Value="10" />
									<Property Name="Precision" Value="13" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[decimal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemStartFromVirtualWorkerByLocation].[@RadiusInMeters]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemStartFromVirtualWorkerByLocation].[@MaxRetries]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemStartFromVirtualWorkerByLocation].[@Retries]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcore].[WorkItemStartFromVirtualWorkerByLocation].[@ActivityName]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="3070" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcore].[WorkItemStartFromVirtualWorkerByLocation]&#xD;&#xA;    @ApplicationId   INT,&#xD;&#xA;&#x9;@StatusTypeId&#x9; INT = 0,&#xD;&#xA;    @KeepAliveTimeOutInSeconds int = 900,&#xD;&#xA;&#x9;@ActivityGuid    UNIQUEIDENTIFIER OUTPUT,&#xD;&#xA;&#x9;@ActivityId      INT OUTPUT,&#xD;&#xA;    @InstanceId      BIGINT OUTPUT,&#xD;&#xA;    @KeyValue        BIGINT OUTPUT,&#xD;&#xA;&#x9;@Latitude&#x9;&#x9; DECIMAL(13,10),&#xD;&#xA;&#x9;@Longitude&#x9;&#x9; DECIMAL(13,10),&#xD;&#xA;&#x9;@RadiusInMeters  INT,&#xD;&#xA;&#x9;@MaxRetries&#x9;&#x9; INT OUTPUT,&#xD;&#xA;&#x9;@Retries&#x9;&#x9; INT OUTPUT,&#xD;&#xA;    @ActivityName    VARCHAR(100) OUTPUT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlDmlTrigger" Name="[cloudcore].[WorkItemUpdate]">
			<Property Name="IsUpdateTrigger" Value="True" />
			<Property Name="SqlTriggerType" Value="1" />
			<Property Name="BodyScript">
				<Value><![CDATA[ 
begin
   SET NOCOUNT ON
   
   if update(StatusTypeId)
   begin
    
 	  insert into [cloudcore].[ActivityHistory]
 	         (InstanceId, ActivityModelId, Assigned, Activate, Opened, Priority, StatusTypeId, UserId,FlowModelId,PInstanceId) 
      select distinct WL.InstanceId, WL.ActivityModelId, WL.Assigned, WL.Activate, WL.Opened, 0, 99, 0, FM.FlowModelId,WL.PInstanceId
        from [cloudcore].vwWorklist WL
        INNER JOIN cloudcoremodel.ActivityModel AM ON WL.ActivityGuid = AM.ActivityGuid
		INNER JOIN cloudcoremodel.FlowModel FM ON AM.ActivityModelId = FM.FromActivityModelId
        inner join inserted INS on INS.InstanceId = WL.InstanceId
	   where INS.StatusTypeId = 99


	  insert into [cloudcore].[ProcessHistory] (InstanceId, PInstanceId, ProcessModelId, [KeyValue], [Started], StatusId) 
	  select WL.InstanceId, WL.PInstanceId, WL.ProcessModelId, WL.KeyValue, WL.Created, 99
        from [cloudcore].vwWorklist WL
       inner join inserted INS on INS.InstanceId = WL.InstanceId
	   where INS.StatusTypeId = 99

      if exists (select null from DELETED)
	  begin
		  -- To Clean Up Worklist Failure on Retry
		  delete af
		  from [cloudcore].WorklistFailure af
		  inner join deleted del on af.InstanceId = del.InstanceId
		  inner join inserted ins on af.InstanceId = ins.InstanceId
		  where (del.StatusTypeId  = 42 OR del.StatusTypeId = 101) 
                and ins.StatusTypeId = 0

		  update wl
		  set    wl.Retries = 0
		  from  cloudcore.Worklist wl
		  inner join deleted del on wl.InstanceId = del.InstanceId
		  inner join inserted ins on wl.InstanceId = ins.InstanceId
		  where (del.StatusTypeId  = 42 OR del.StatusTypeId = 101)
                and ins.StatusTypeId = 0
	  end

	  -- To Clean Up Worklist Failure on Cancel
	  delete af
	  from [cloudcore].WorklistFailure af
	  inner join inserted ins on af.InstanceId = ins.InstanceId
	  where ins.StatusTypeId = 99
  
    -- now remove the records
	delete WL
       from [cloudcore].Worklist WL
      inner join INSERTED INS
         on INS.InstanceId = WL.InstanceId
      where INS.StatusTypeId = 99
   end
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[Worklist].[StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[Assigned]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[Activate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[Opened]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[Priority]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[FlowModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityHistory].[PInstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwWorklist]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwWorklist].[ActivityGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel].[FromActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwWorklist].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwWorklist].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwWorklist].[Assigned]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwWorklist].[Activate]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwWorklist].[Opened]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel].[FlowModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwWorklist].[PInstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ProcessHistory]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ProcessHistory].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ProcessHistory].[PInstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ProcessHistory].[ProcessModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ProcessHistory].[KeyValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ProcessHistory].[Started]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ProcessHistory].[StatusId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwWorklist].[ProcessModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwWorklist].[KeyValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[vwWorklist].[Created]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorklistFailure]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorklistFailure].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[InstanceId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[Retries]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parent">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Offset" Value="2562" />
				<Property Name="CreateOffset" Value="2" />
				<Property Name="Length" Value="2261" />
				<Property Name="StartLine" Value="47" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;create TRIGGER [cloudcore].[WorkItemUpdate]&#xD;&#xA;    ON [cloudcore].[Worklist]&#xD;&#xA;    FOR UPDATE&#xD;&#xA;    AS" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[Worklist]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Worklist].[InstanceId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="161" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Worklist].[PInstanceId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="109" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Worklist].[ActivityId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Worklist].[StatusTypeId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="112" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Worklist].[DocWait]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="105" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Worklist].[Priority]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="110" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Worklist].[UserId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="113" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Worklist].[Assigned]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="103" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Worklist].[OpenedBy]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="108" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Worklist].[Opened]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="107" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Worklist].[Activate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="102" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Worklist].[KeyValue]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Worklist].[Created]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="104" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[Worklist].[Delayed]">
						<Property Name="ExpressionScript">
							<Value><![CDATA[(CONVERT([bit],case when [Activate]<=getdate() then (0) else (1) end,(0)))]]></Value>
						</Property>
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[bit]" />
							</Entry>
							<Entry>
								<References Name="[cloudcore].[Worklist].[Activate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[Worklist].[Age]">
						<Property Name="ExpressionScript">
							<Value><![CDATA[(getdate()-[Assigned])]]></Value>
						</Property>
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[Assigned]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Worklist].[Location]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[sys].[geometry]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Worklist].[Retries]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="111" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Worklist].[KeepAliveDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="106" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[Worklist].[DateCompleted]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcore].[Worklist].[TimeTakenInSeconds]">
						<Property Name="ExpressionScript">
							<Value><![CDATA[case when isnull(Opened, 1) > isnull(DateCompleted, 0) then 'Not Completed Yet' else cast(datediff(second, Opened, DateCompleted) as varchar(20)) end]]></Value>
						</Property>
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Worklist].[Opened]" />
							</Entry>
							<Entry>
								<References Name="[cloudcore].[Worklist].[DateCompleted]" />
							</Entry>
							<Entry>
								<References ExternalSource="BuiltIns" Name="[varchar]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="135" />
			<AttachedAnnotation Disambiguator="136" />
			<AttachedAnnotation Disambiguator="137" />
			<AttachedAnnotation Disambiguator="138" />
		</Element>
		<Element Type="SqlIndex" Name="[cloudcore].[Worklist].[IX_Worklist_KeyValue]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[Worklist].[KeyValue]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IncludedColumns">
				<Entry>
					<References Name="[cloudcore].[Worklist].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[OpenedBy]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[ActivityId]" />
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlIndex" Name="[cloudcore].[Worklist].[IX_Worklist_Priority_Activate]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Property Name="IsAscending" Value="False" />
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[Worklist].[Priority]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcore].[Worklist].[Activate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IncludedColumns">
				<Entry>
					<References Name="[cloudcore].[Worklist].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[OpenedBy]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[StatusTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[DocWait]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[KeyValue]" />
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[WorklistFailure]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[WorklistFailure].[WorklistFailureId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[WorklistFailure].[InstanceId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[WorklistFailure].[ActivityId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[WorklistFailure].[KeyValue]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[WorklistFailure].[FailedAt]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="86" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[WorklistFailure].[UserId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[WorklistFailure].[Reason]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="145" />
			<AttachedAnnotation Disambiguator="116" />
			<AttachedAnnotation Disambiguator="117" />
			<AttachedAnnotation Disambiguator="139" />
		</Element>
		<Element Type="SqlDmlTrigger" Name="[cloudcore].[WorklistFailureInsert]">
			<Property Name="IsInsertTrigger" Value="True" />
			<Property Name="SqlTriggerType" Value="1" />
			<Property Name="BodyScript">
				<Value><![CDATA[
    BEGIN
        
		insert into cloudcore.ActivityFailureHistory (ActivityModelId, FailedAt, UserId, Reason, KeyValue)
		select a.ActivityModelId, ins.FailedAt, ins.UserId, ins.Reason, ins.KeyValue
		  from cloudcore.Activity a
		 inner join inserted ins on a.ActivityId = ins.ActivityId

    END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcore].[ActivityFailureHistory]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityFailureHistory].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityFailureHistory].[FailedAt]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityFailureHistory].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityFailureHistory].[Reason]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[ActivityFailureHistory].[KeyValue]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorklistFailure].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorklistFailure].[FailedAt]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorklistFailure].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorklistFailure].[Reason]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[WorklistFailure].[KeyValue]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parent">
				<Entry>
					<References Name="[cloudcore].[WorklistFailure]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Offset" Value="908" />
				<Property Name="CreateOffset" Value="2" />
				<Property Name="Length" Value="420" />
				<Property Name="StartLine" Value="17" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;CREATE TRIGGER [cloudcore].[WorklistFailureInsert]&#xD;&#xA;    ON [cloudcore].[WorklistFailure]&#xD;&#xA;    FOR INSERT&#xD;&#xA;    AS" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[cloudcore].[WorklistReference]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[WorklistReference].[InstanceId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bigint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[WorklistReference].[ReferenceTypeId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcore].[WorklistReference].[Reference]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcore]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="162" />
			<AttachedAnnotation Disambiguator="140" />
			<AttachedAnnotation Disambiguator="141" />
		</Element>
		<Element Type="SqlSchema" Name="[cloudcoremodel]">
			<Relationship Name="Authorizer">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[cloudcoremodel].[ActivityModel]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[ActivityModel].[ActivityModelId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[ActivityModel].[ProcessRevisionId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[ActivityModel].[ReplacementId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[ActivityModel].[ActivityGuid]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[ActivityModel].[SubProcessId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[ActivityModel].[ActivityName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[ActivityModel].[ActivityTypeId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[ActivityModel].[CostTypeId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="165" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[ActivityModel].[Startable]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="166" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[ActivityModel].[Priority]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="167" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[ActivityModel].[DocWait]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="168" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[ActivityModel].[OnlyVisibleAtLocation]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="169" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[ActivityModel].[LocationRadius]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[ActivityModel].[MaxRetries]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="170" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[ActivityModel].[RetryDelayInSeconds]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="171" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcoremodel]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="172" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="173" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="174" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="175" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="176" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="177" />
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcoremodel].[ActivityModelCreate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
    declare @ActivityModelID int,
            @SubProcessId int
            
    select @SubProcessId = SubProcessId
      from cloudcoremodel.SubProcess
     where SubProcessGuid = @SubProcessGuid

    insert into [cloudcoremodel].ActivityModel(ProcessRevisionId, ReplacementId, ActivityGuid, ActivityName, ActivityTypeId, Startable, [Priority], DocWait, OnlyVisibleAtLocation, LocationRadius, SubProcessId)
    values(@ProcessRevisionId, 0, @ActivityGuid, @ActivityName, @ActivityTypeId, @Startable, @Priority, @DocWait, @OnlyVisibleAtLocation, @LocationRadius, @SubProcessId)

    set @ActivityModelID = SCOPE_IDENTITY()

    update [cloudcoremodel].ActivityModel 
    set ReplacementId = @ActivityModelID
    where ActivityModelId = @ReplacementId

    return @ActivityModelID
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[SubProcess]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[SubProcess].[SubProcessId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[SubProcess].[SubProcessGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModelCreate].[@SubProcessGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ProcessRevisionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ReplacementId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[Startable]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[Priority]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[DocWait]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[OnlyVisibleAtLocation]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[LocationRadius]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[SubProcessId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModelCreate].[@ProcessRevisionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModelCreate].[@ActivityGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModelCreate].[@ActivityName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModelCreate].[@ActivityTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModelCreate].[@Startable]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModelCreate].[@Priority]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModelCreate].[@DocWait]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModelCreate].[@OnlyVisibleAtLocation]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModelCreate].[@LocationRadius]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModelCreate].[@ReplacementId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[ActivityModelCreate].[@ProcessRevisionId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[ActivityModelCreate].[@ReplacementId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[ActivityModelCreate].[@ActivityGuid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[ActivityModelCreate].[@ActivityName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[ActivityModelCreate].[@ActivityTypeId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[ActivityModelCreate].[@SubProcessGuid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[ActivityModelCreate].[@Startable]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[ActivityModelCreate].[@Priority]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[ActivityModelCreate].[@DocWait]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[ActivityModelCreate].[@OnlyVisibleAtLocation]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[ActivityModelCreate].[@LocationRadius]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcoremodel]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1185" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure [cloudcoremodel].[ActivityModelCreate]&#xD;&#xA;    @ProcessRevisionId int, &#xD;&#xA;    @ReplacementId int, &#xD;&#xA;    @ActivityGuid uniqueidentifier, &#xD;&#xA;    @ActivityName varchar(50), &#xD;&#xA;    @ActivityTypeId tinyint, &#xD;&#xA;    @SubProcessGuid uniqueidentifier,&#xD;&#xA;    @Startable bit,&#xD;&#xA;    @Priority tinyint,&#xD;&#xA;    @DocWait bit,&#xD;&#xA;&#x9;@OnlyVisibleAtLocation bit,&#xD;&#xA;    @LocationRadius int&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcoremodel].[ActivityModelReplacementUpd]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
	declare @NewActivityModelId int
	declare @ProcessRevisionId int

	select @ProcessRevisionId = pr.ProcessRevisionId
	  from [cloudcoremodel].ProcessRevision pr
	 inner join [cloudcoremodel].ProcessModel pm
		on pr.ProcessModelId = pm.ProcessModelId 
	 where pm.ProcessGuid = @ProcessGuid
	   and pr.ProcessRevision = (select isnull(MAX(ProcessRevision),1)-1
								   from [cloudcoremodel].ProcessRevision 
								  where ProcessModelId = pm.ProcessModelId)

	select @NewActivityModelId = MAX(ActivityModelId)
	  from [cloudcoremodel].ActivityModel 
	 where ActivityGuid = @ActivityGuid 

	update [cloudcoremodel].ActivityModel 
	   set ReplacementId = @NewActivityModelId
	 where ProcessRevisionId = @ProcessRevisionId
	   and ActivityGuid = @ProcessGuid
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModel]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ProcessModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModel].[ProcessModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ProcessRevisionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModel].[ProcessGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModelReplacementUpd].[@ProcessGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ProcessRevision]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ProcessRevision]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ProcessModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModelReplacementUpd].[@ActivityGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ReplacementId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ProcessRevisionId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[ActivityModelReplacementUpd].[@ProcessGuid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[ActivityModelReplacementUpd].[@ActivityGuid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[ActivityModelReplacementUpd].[@NewActivityGuid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcoremodel]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="960" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure [cloudcoremodel].[ActivityModelReplacementUpd]&#xD;&#xA;&#x9;@ProcessGuid uniqueidentifier,&#xD;&#xA;&#x9;@ActivityGuid uniqueidentifier,&#xD;&#xA;&#x9;@NewActivityGuid uniqueidentifier&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[cloudcoremodel].[ActivityType]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[ActivityType].[ActivityTypeId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[ActivityType].[ActivityTypeName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="30" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcoremodel]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="178" />
		</Element>
		<Element Type="SqlTable" Name="[cloudcoremodel].[CostType]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[CostType].[CostTypeId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[CostType].[CostType]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="30" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcoremodel]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="179" />
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcoremodel].[CostTypeCreate]">
			<Property Name="BodyScript">
				<Value><![CDATA[	
begin
	if exists (select null
					from [cloudcoremodel].CostType
				where CostType = @CostType)
						begin
							raiserror(N'A cost type named <i>"%s"</i> already exists.', 18,1,@CostType)
							return
						end
					  
	insert into [cloudcoremodel].CostType (CostType) values (@CostType)
		
	set @CostTypeId = scope_identity()

end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcoremodel].[CostType]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[CostType].[CostType]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[CostTypeCreate].[@CostType]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[CostType].[CostType]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[CostTypeCreate].[@CostTypeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[CostTypeCreate].[@CostTypeId]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[CostTypeCreate].[@CostType]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="30" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcoremodel]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="457" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure [cloudcoremodel].[CostTypeCreate]&#xD;&#xA;&#x9;@CostTypeId int output,&#xD;&#xA;&#x9;@CostType varchar(30)&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcoremodel].[CostTypeDelete]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
	
	if exists (select null
			     from [cloudcoremodel].ActivityModel
			    where CostTypeId = @CostTypeId)
					  begin
						    raiserror(N'Unable to delete, this type is used by a cost flow',18, 1) 	
						    return
					  end
	
	
	delete from [cloudcoremodel].CostType 
	      where CostTypeId = @CostTypeId
	
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[CostTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[CostTypeDelete].[@CostTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[CostType]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[CostType].[CostTypeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[CostTypeDelete].[@CostTypeId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcoremodel]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="414" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure [cloudcoremodel].[CostTypeDelete]&#xD;&#xA;&#x9;@CostTypeId int&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcoremodel].[CostTypeModify]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
		if exists (select null
					 from [cloudcoremodel].CostType
					where CostType = @CostType and CostTypeId <> @CostTypeId)
						  begin
								raiserror(N'A cost type named <i>"%s"</i> already exists.', 18,1,@CostType)
								return
						  end
						  
		update [cloudcoremodel].CostType
		   set CostType = @CostType
		 where CostTypeId = @CostTypeId 
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcoremodel].[CostType]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[CostType].[CostType]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[CostTypeModify].[@CostType]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[CostType].[CostTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[CostTypeModify].[@CostTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[CostType].[CostType]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[CostType].[CostTypeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[CostTypeModify].[@CostTypeId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[CostTypeModify].[@CostType]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="30" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcoremodel]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="479" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure [cloudcoremodel].[CostTypeModify]&#xD;&#xA;&#x9;@CostTypeId int,&#xD;&#xA;&#x9;@CostType varchar(30)&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcoremodel].[DF_ActivityModel_CostTypeId]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(0)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[CostTypeId]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="165" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcoremodel].[DF_ActivityModel_DocWait]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(0)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[DocWait]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="168" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcoremodel].[DF_ActivityModel_MaxRetries]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(0)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[MaxRetries]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="170" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcoremodel].[DF_ActivityModel_OnlyVisibleAtLocation]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(0)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[OnlyVisibleAtLocation]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="169" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcoremodel].[DF_ActivityModel_Priority]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(0)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[Priority]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="167" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcoremodel].[DF_ActivityModel_RetryDelayInSeconds]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(0)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[RetryDelayInSeconds]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="171" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcoremodel].[DF_ActivityModel_Startable]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(0)]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[Startable]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="166" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[cloudcoremodel].[DF_ProcessRevision_ManagerId]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ManagerId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="180" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcoremodel].[FK_ActivityModel_ActivityModel_Replacement]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ReplacementId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityModelId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="173" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcoremodel].[FK_ActivityModel_ActivityType]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityTypeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityType].[ActivityTypeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityType]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="174" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcoremodel].[FK_ActivityModel_CostType]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[CostTypeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcoremodel].[CostType].[CostTypeId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcoremodel].[CostType]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="175" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcoremodel].[FK_ActivityModel_ProcessRevision]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ProcessRevisionId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ProcessRevisionId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="176" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcoremodel].[FK_ActivityModel_SubProcess]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[SubProcessId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcoremodel].[SubProcess].[SubProcessId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcoremodel].[SubProcess]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="177" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcoremodel].[FK_FlowModel_ActivityModel_From]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel].[FromActivityModelId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityModelId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="181" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcoremodel].[FK_FlowModel_ActivityModel_To]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel].[ToActivityModelId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityModelId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="182" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcoremodel].[FK_FlowModel_ProcessModel]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel].[ProcessRevisionId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ProcessRevisionId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="183" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcoremodel].[FK_ProcessRevision_ProcessModel]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ProcessModelId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModel].[ProcessModelId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModel]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="184" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcoremodel].[FK_ProcessRevision_User]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="185" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcoremodel].[FK_ProcessRevision_User_ManagerId]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ManagerId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="186" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[cloudcoremodel].[FK_SubProcess_ProcessRevision]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[cloudcoremodel].[SubProcess].[ProcessRevisionId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcoremodel].[SubProcess]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ProcessRevisionId]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="187" />
		</Element>
		<Element Type="SqlTable" Name="[cloudcoremodel].[FlowModel]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[FlowModel].[FlowModelId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[FlowModel].[FlowGuid]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[FlowModel].[ProcessRevisionId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[FlowModel].[FromActivityModelId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[FlowModel].[Outcome]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="5" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[FlowModel].[ToActivityModelId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[FlowModel].[OptimalFlow]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="6" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[FlowModel].[NegativeFlow]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="7" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[FlowModel].[Storyline]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcoremodel]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="188" />
			<AttachedAnnotation Disambiguator="181" />
			<AttachedAnnotation Disambiguator="182" />
			<AttachedAnnotation Disambiguator="183" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="189" />
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcoremodel].[FlowModelCreate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin

    insert into [cloudcoremodel].FlowModel(FlowGuid, ProcessRevisionId, FromActivityModelId, Outcome, ToActivityModelId, OptimalFlow, NegativeFlow, Storyline)  
    values(@FlowGuid, @ProcessRevisionId, @FromActivityModelId, @Outcome, @ToActivityModelId, @OptimalFlow, @NegativeFlow, @Storyline)  
       
    return SCOPE_IDENTITY()  

end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel].[FlowGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel].[ProcessRevisionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel].[FromActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel].[Outcome]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel].[ToActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel].[OptimalFlow]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel].[NegativeFlow]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel].[Storyline]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[FlowModelCreate].[@FlowGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[FlowModelCreate].[@ProcessRevisionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[FlowModelCreate].[@FromActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[FlowModelCreate].[@Outcome]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[FlowModelCreate].[@ToActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[FlowModelCreate].[@OptimalFlow]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[FlowModelCreate].[@NegativeFlow]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[FlowModelCreate].[@Storyline]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[FlowModelCreate].[@FlowGuid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[FlowModelCreate].[@ProcessRevisionId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[FlowModelCreate].[@FromActivityModelId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[FlowModelCreate].[@Outcome]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[FlowModelCreate].[@ToActivityModelId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[FlowModelCreate].[@OptimalFlow]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[FlowModelCreate].[@NegativeFlow]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[FlowModelCreate].[@Storyline]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcoremodel]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="628" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE procedure [cloudcoremodel].[FlowModelCreate]&#xD;&#xA;    @FlowGuid uniqueidentifier,&#xD;&#xA;    @ProcessRevisionId int,&#xD;&#xA;    @FromActivityModelId int,&#xD;&#xA;    @Outcome varchar(50),&#xD;&#xA;    @ToActivityModelId int,&#xD;&#xA;    @OptimalFlow bit,&#xD;&#xA;    @NegativeFlow bit,&#xD;&#xA;    @Storyline varchar(200)&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcoremodel].[PK_ActivityModel]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityModel].[ActivityModelId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="172" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcoremodel].[PK_ActivityType]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityType].[ActivityTypeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcoremodel].[ActivityType]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="178" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcoremodel].[PK_CostType]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcoremodel].[CostType].[CostTypeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcoremodel].[CostType]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="179" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcoremodel].[PK_FlowModel]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcoremodel].[FlowModel].[FlowModelId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="188" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcoremodel].[PK_ProcessModel]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcoremodel].[ProcessModel].[ProcessModelId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModel]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="190" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcoremodel].[PK_ProcessRevision]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcoremodel].[ProcessRevision].[ProcessRevisionId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="191" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcoremodel].[PK_StatusType]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcoremodel].[StatusType].[StatusTypeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcoremodel].[StatusType]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="192" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[cloudcoremodel].[PK_SubProcess]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcoremodel].[SubProcess].[SubProcessId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcoremodel].[SubProcess]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="193" />
		</Element>
		<Element Type="SqlTable" Name="[cloudcoremodel].[ProcessModel]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[ProcessModel].[ProcessModelId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[ProcessModel].[ProcessGuid]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[ProcessModel].[ProcessName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcoremodel]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="190" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="194" />
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcoremodel].[ProcessModelCreate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
	declare @ProcessModelId int

	insert into [cloudcoremodel].ProcessModel(ProcessGuid, ProcessName)
	values(@ProcessGuid, @ProcessName)
	
	set @ProcessModelId = SCOPE_IDENTITY()

	select @ProcessModelId
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModel]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModel].[ProcessGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModel].[ProcessName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModelCreate].[@ProcessGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModelCreate].[@ProcessName]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[ProcessModelCreate].[@ProcessGuid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[ProcessModelCreate].[@ProcessName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcoremodel]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="340" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure [cloudcoremodel].[ProcessModelCreate]&#xD;&#xA;&#x9;@ProcessGuid uniqueidentifier,&#xD;&#xA;&#x9;@ProcessName varchar(50)&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcoremodel].[ProcessModelDeploy]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
	declare @newVersion as int

	set @newVersion = isnull((select MAX(pr.ProcessRevision) 
						 from [cloudcoremodel].ProcessRevision pr
						inner join [cloudcoremodel].ProcessModel pm
						   on pr.ProcessModelId = pm.ProcessModelId 
						where pm.ProcessGuid = @processGuid),0)
	
	if (exists(select null
				 from [cloudcoremodel].ProcessModel pr
				inner join [cloudcoremodel].ProcessRevision rev
				   on pr.ProcessModelId = rev.ProcessModelId
				inner join [cloudcore].Activity a
				   on rev.ProcessRevisionId = a.ProcessRevisionId
				where a.ProcessGuid = @processGuid
				  and rev.ProcessRevision = @newVersion))
	begin
		raiserror('Process has already been deployed', 16, 1) 
		return
	end

	--Activity
	--Update
	update act
	   set act.ActivityModelId = newam.ActivityModelId,
		   act.ProcessRevisionId = newam.ProcessRevisionId,
		   act.OnlyVisibleAtLocation = newam.OnlyVisibleAtLocation,
		   act.LocationRadius = newam.LocationRadius
	  from [cloudcore].Activity act
	 inner join [cloudcoremodel].ActivityModel am
		on act.ActivityModelId = am.ActivityModelId 
	 inner join [cloudcoremodel].ActivityModel newam
		on am.ActivityGuid = newam.ActivityGuid 
	 inner join [cloudcoremodel].ProcessRevision pr
		on newam.ProcessRevisionId = pr.ProcessRevisionId 
	 inner join [cloudcoremodel].ProcessModel pm
		on pr.ProcessModelId = pm.ProcessModelId 
	 where pm.ProcessGuid = @processGuid
	   and pr.ProcessRevision = @newVersion 
	   and (act.ActivityModelId <> newam.ActivityModelId
			or act.ProcessRevisionId <> newam.ProcessRevisionId
			or am.ActivityName <> newam.ActivityName
			or am.ActivityTypeId <> newam.ActivityTypeId
			or am.Startable <> newam.Startable
			or am.OnlyVisibleAtLocation <> newam.OnlyVisibleAtLocation
			or am.LocationRadius <> newam.LocationRadius)
			
	update am
	   set am.ActivityName = newam.ActivityName,
		   am.ActivityTypeId = newam.ActivityTypeId,
		   am.Startable = newam.Startable,
		   am.OnlyVisibleAtLocation = newam.OnlyVisibleAtLocation,
		   am.LocationRadius = newam.LocationRadius
	  from [cloudcore].Activity act
	 inner join [cloudcoremodel].ActivityModel am
		on act.ActivityModelId = am.ActivityModelId 
	 inner join [cloudcoremodel].ActivityModel newam
		on am.ActivityGuid = newam.ActivityGuid 
	 inner join [cloudcoremodel].ProcessRevision pr
		on newam.ProcessRevisionId = pr.ProcessRevisionId 
	 inner join [cloudcoremodel].ProcessModel pm
		on pr.ProcessModelId = pm.ProcessModelId 
	 where pm.ProcessGuid = @processGuid
	   and pr.ProcessRevision = @newVersion 
	   and (act.ActivityModelId <> newam.ActivityModelId
			or act.ProcessRevisionId <> newam.ProcessRevisionId
			or am.ActivityName <> newam.ActivityName
			or am.ActivityTypeId <> newam.ActivityTypeId
			or am.Startable <> newam.Startable
			or am.OnlyVisibleAtLocation <> newam.OnlyVisibleAtLocation
			or am.LocationRadius <> newam.LocationRadius)
			
	declare @AssemblyName varchar(400)
	
    select @AssemblyName = AssemblyName
    from cloudcore.SystemModule
	where SystemModuleId = @SystemModuleId
		
	--Insert Activities that doesnt exist
	insert into [cloudcore].Activity(ActivityModelId, ProcessRevisionId, SystemModuleId, ActivityGuid,SubProcessGuid, ProcessGuid, ActivityTypeId, OnlyVisibleAtLocation, LocationRadius)				 
	select distinct am.ActivityModelId, pm.ProcessRevisionId, 
	       @SystemModuleId,
		   am.ActivityGuid, SP.SubProcessGuid, @processGuid, am.ActivityTypeId, am.OnlyVisibleAtLocation, am.LocationRadius
	  from [cloudcoremodel].vwProcessModel pm
	 inner join [cloudcoremodel].ActivityModel am
	    on pm.ActivityModelId = am.ActivityModelId
	 inner join [cloudcoremodel].SubProcess SP
	    on SP.SubProcessId = am.SubProcessId
	 where pm.ProcessGuid = @processGuid
	   and pm.ProcessRevisionId = (select MAX(ProcessRevisionId) 
							      from [cloudcoremodel].vwProcessModel pm2
							     where pm2.ProcessGuid = pm.ProcessGuid)
	   and not exists(select null 
					    from [cloudcoremodel].vwProcessModel pm1
					   inner join [cloudcore].Activity a
					      on pm1.ActivityModelId = a.ActivityModelId
					   where a.ActivityModelId = pm.ActivityModelId) 

	--update worklist with replacement activities
	update wl 
	   set wl.ActivityId = repact.ActivityId 
	  from [cloudcore].Worklist wl
	 inner join [cloudcore].Activity act
		on wl.ActivityId = act.ActivityId 
	 inner join [cloudcoremodel].ActivityModel am
		on act.ActivityModelId = am.ActivityModelId 
	 inner join [cloudcoremodel].ActivityModel amnew
	   on amnew.ActivityModelId = am.ReplacementId
	 inner join [cloudcore].Activity repact
		on amnew.ActivityModelId = repact.ActivityModelId
	 inner join [cloudcoremodel].ProcessRevision pr
		on am.ProcessRevisionId = pr.ProcessRevisionId 
	 inner join [cloudcoremodel].ProcessModel pm
		on pr.ProcessModelId = pm.ProcessModelId
	 where pm.ProcessGuid = @processGuid
	   and pr.ProcessRevision <= @newVersion-1 
	   and amnew.ActivityGuid <> am.ActivityGuid 

	declare @Placeholder varchar(max)
		
	--delete unused event sp's and rule functions
	declare @Activity varchar(max)
	declare @Ind tinyint

	
	declare ActivityCur cursor
	for
	select case am.ActivityTypeId
		   when 2 then 'CCEvent_'
		   else 'CCRule_'
		   end
		   + REPLACE(am.ActivityGuid, '-', '_'), am.ActivityTypeId
	  from [cloudcore].Activity act
	 inner join [cloudcoremodel].ActivityModel am
		on act.ActivityModelId = am.ActivityModelId 
	 inner join [cloudcoremodel].ProcessRevision pr
		on am.ProcessRevisionId = pr.ProcessRevisionId 
	 inner join [cloudcoremodel].ProcessModel pm
		on pr.ProcessModelId = pm.ProcessModelId 
	 where pm.ProcessGuid = @processGuid 
	   and pr.ProcessRevision = @newVersion-1
	   and (am.ActivityTypeId = 2 OR am.ActivityTypeId = 4)
	 
	open ActivityCur

	fetch from ActivityCur
	into @Activity, @Ind
	
	while @@FETCH_STATUS = 0
	begin
		if (@Ind = 2)
		begin
			if exists(select null
						from sys.sysobjects
					   where type = 'P'
						 and name = @Activity)
			begin

				set @Placeholder = 'drop procedure [cloudcore].' + @Activity
				exec(@Placeholder)
			end
		end
		else
		begin
			if exists(select null
						from sys.sysobjects 
					   where type = 'FN'
						 and name = @Activity)
			begin
				set @Placeholder = 'drop function ' + @Activity
				exec(@Placeholder)
			end
		end
		
		fetch next from ActivityCur
		into @Activity, @Ind
	end

	close ActivityCur
	deallocate ActivityCur
	
	--delete old activities
	delete act
	  from [cloudcore].Activity act
	 inner join [cloudcoremodel].ActivityModel am
		on act.ActivityModelId = am.ActivityModelId 
	 inner join [cloudcoremodel].ProcessRevision pr
		on am.ProcessRevisionId = pr.ProcessRevisionId 
	 inner join [cloudcoremodel].ProcessModel pm
		on pr.ProcessModelId = pm.ProcessModelId 
	 where pm.ProcessGuid = @processGuid 
	   and pr.ProcessRevision <= @newVersion-1
   
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[tinyint]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModel]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ProcessModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModel].[ProcessModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ProcessRevision]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModel].[ProcessGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModelDeploy].[@processGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ProcessRevisionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ProcessRevisionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ProcessGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ProcessRevisionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ProcessRevisionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ProcessModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModel].[ProcessModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ProcessRevisionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[OnlyVisibleAtLocation]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[OnlyVisibleAtLocation]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[LocationRadius]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[LocationRadius]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModel].[ProcessGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ProcessRevision]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[Startable]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemModule]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemModule].[AssemblyName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemModule].[SystemModuleId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModelDeploy].[@SystemModuleId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[SystemModuleId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[SubProcessGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ProcessGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwProcessModel]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwProcessModel].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[SubProcess]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[SubProcess].[SubProcessId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[SubProcessId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwProcessModel].[ProcessRevisionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[SubProcess].[SubProcessGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwProcessModel].[ProcessGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwProcessModel].[ProcessRevisionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwProcessModel].[ProcessGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwProcessModel].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Worklist].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ReplacementId]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[sysobjects]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[sysobjects].[type]" />
				</Entry>
				<Entry>
					<References ExternalSource="master.dacpac" Name="[master]|[sys].[sysobjects].[name]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[ProcessModelDeploy].[@processGuid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[ProcessModelDeploy].[@SystemModuleId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcoremodel]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="7254" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure [cloudcoremodel].[ProcessModelDeploy] --[cloudcoremodel].[ProcessModelDeploy] '11071973-0002-0000-0000-3ABF9E872D90', 0&#xD;&#xA;&#x9;@processGuid as uniqueidentifier,&#xD;&#xA;&#x9;@SystemModuleId as int&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[cloudcoremodel].[ProcessRevision]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[ProcessRevision].[ProcessRevisionId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[ProcessRevision].[ProcessModelId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[ProcessRevision].[ProcessRevision]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[ProcessRevision].[CheckSum]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[ProcessRevision].[UserId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[ProcessRevision].[ManagerId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="180" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[ProcessRevision].[Changed]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="4" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcoremodel]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="191" />
			<AttachedAnnotation Disambiguator="184" />
			<AttachedAnnotation Disambiguator="185" />
			<AttachedAnnotation Disambiguator="186" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="195" />
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcoremodel].[ProcessRevisionCreate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
	declare @ProcessRevision int
	set @ProcessRevision = (select isnull(MAX(ProcessRevision),0)+1
							  from [cloudcoremodel].ProcessRevision 
							 where ProcessModelId = @ProcessModelId)

	insert into [cloudcoremodel].ProcessRevision(ProcessModelId, ProcessRevision, [CheckSum], UserId, Changed)
	values(@ProcessModelId, @ProcessRevision, @CheckSum, @UserId, @Changed)

	return SCOPE_IDENTITY()
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ProcessRevision]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ProcessModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevisionCreate].[@ProcessModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ProcessModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ProcessRevision]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[CheckSum]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[Changed]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevisionCreate].[@CheckSum]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevisionCreate].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevisionCreate].[@Changed]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[ProcessRevisionCreate].[@ProcessModelId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[ProcessRevisionCreate].[@CheckSum]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[ProcessRevisionCreate].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[ProcessRevisionCreate].[@Changed]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcoremodel]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="565" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create procedure [cloudcoremodel].[ProcessRevisionCreate]&#xD;&#xA;&#x9;@ProcessModelId int,&#xD;&#xA;&#x9;@CheckSum varchar(max),&#xD;&#xA;&#x9;@UserId int,&#xD;&#xA;&#x9;@Changed datetime&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcoremodel].[RevisionUpdate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
begin
	update pr 
	   set pr.[CheckSum] = @CheckSum,
	       pr.UserId = @UserId 
	  from [cloudcoremodel].ProcessModel pm
	 inner join [cloudcoremodel].ProcessRevision pr
		on pm.ProcessModelId = pr.ProcessModelId 
	 where pm.ProcessGuid = @ProcessGuid 
	   and pr.ProcessRevision = (select MAX(prmax.ProcessRevision) 
								   from [cloudcoremodel].ProcessRevision prmax
								  where prmax.ProcessModelId = pr.ProcessModelId)
end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModel]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModel].[ProcessModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ProcessModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[CheckSum]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[RevisionUpdate].[@CheckSum]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[RevisionUpdate].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModel].[ProcessGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[RevisionUpdate].[@ProcessGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ProcessRevision]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ProcessRevision]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ProcessModelId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[RevisionUpdate].[@ProcessGuid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[RevisionUpdate].[@CheckSum]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[RevisionUpdate].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcoremodel]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="576" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcoremodel].[RevisionUpdate]&#xD;&#xA;&#x9;@ProcessGuid uniqueidentifier,&#xD;&#xA;&#x9;@CheckSum varchar(max),&#xD;&#xA;&#x9;@UserId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[cloudcoremodel].[StatusType]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[StatusType].[StatusTypeId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[StatusType].[StatusTypeName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcoremodel]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="192" />
		</Element>
		<Element Type="SqlTable" Name="[cloudcoremodel].[SubProcess]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[SubProcess].[SubProcessId]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[SubProcess].[ProcessRevisionId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[SubProcess].[SubProcessGuid]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[cloudcoremodel].[SubProcess].[SubProcessName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcoremodel]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="193" />
			<AttachedAnnotation Disambiguator="187" />
		</Element>
		<Element Type="SqlProcedure" Name="[cloudcoremodel].[SubProcessCreate]">
			<Property Name="BodyScript">
				<Value><![CDATA[
  begin

	insert into [cloudcoremodel].SubProcess(ProcessRevisionId, SubProcessGuid, SubProcessName)
    values (@ProcessRevisionId, @Guid, @SubProcessName)

	return SCOPE_IDENTITY()
  end]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[cloudcoremodel].[SubProcess]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[SubProcess].[ProcessRevisionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[SubProcess].[SubProcessGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[SubProcess].[SubProcessName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[SubProcessCreate].[@ProcessRevisionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[SubProcessCreate].[@Guid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[SubProcessCreate].[@SubProcessName]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[SubProcessCreate].[@ProcessRevisionId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[SubProcessCreate].[@Guid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[cloudcoremodel].[SubProcessCreate].[@SubProcessName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcoremodel]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="336" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [cloudcoremodel].[SubProcessCreate]&#xD;&#xA;&#x9;@ProcessRevisionId int, &#xD;&#xA;&#x9;@Guid uniqueidentifier,&#xD;&#xA;&#x9;@SubProcessName varchar(200)&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlUniqueConstraint" Name="[cloudcoremodel].[UNQ_FlowModel_Flow]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcoremodel].[FlowModel].[FromActivityModelId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcoremodel].[FlowModel].[Outcome]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="189" />
		</Element>
		<Element Type="SqlUniqueConstraint" Name="[cloudcoremodel].[UNQ_ProcessModel_Guid]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcoremodel].[ProcessModel].[ProcessGuid]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModel]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="194" />
		</Element>
		<Element Type="SqlUniqueConstraint" Name="[cloudcoremodel].[UNQ_ProcessRevision_Revision]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcoremodel].[ProcessRevision].[ProcessModelId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[cloudcoremodel].[ProcessRevision].[ProcessRevision]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="195" />
		</Element>
		<Element Type="SqlView" Name="[cloudcoremodel].[vwLiveActivity]">
			<Property Name="QueryScript">
				<Value><![CDATA[
  select LA.ActivityId, 
		 LA.ActivityModelId, 
         MA.ActivityTypeId, 
		 AT.ActivityTypeName, 
		 MA.ActivityName, 
		 MA.Startable, 
		 MA.[Priority], 
		 MA.DocWait, 
		 MA.ActivityGuid, 
		 SM.SystemModuleId, 
		 SM.AssemblyName as SystemAssemblyName,
		 MA.SubProcessId, 
		 MA.ProcessRevisionId, 
		 SP.SubProcessName, 
		 MA.MaxRetries, 
		 MA.RetryDelayInSeconds,
		 MA.OnlyVisibleAtLocation,
		 MA.LocationRadius
    from [cloudcore].Activity LA with (nolock)
   inner join [cloudcoremodel].ActivityModel MA with (nolock)
      on MA.ActivityModelId = LA.ActivityModelId
   inner join [cloudcoremodel].SubProcess SP with (nolock)
      on SP.SubProcessId = MA.SubProcessId
   inner join [cloudcore].SystemModule SM with (nolock)
      on sm.SystemModuleId = LA.SystemModuleId
   inner join [cloudcoremodel].ActivityType AT with (nolock)
      on AT.ActivityTypeId = MA.ActivityTypeId]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveActivity].[ActivityId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Activity].[ActivityId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveActivity].[ActivityModelId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Activity].[ActivityModelId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveActivity].[ActivityTypeId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityModel].[ActivityTypeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveActivity].[ActivityTypeName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityType].[ActivityTypeName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveActivity].[ActivityName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityModel].[ActivityName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveActivity].[Startable]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityModel].[Startable]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveActivity].[Priority]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityModel].[Priority]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveActivity].[DocWait]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityModel].[DocWait]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveActivity].[ActivityGuid]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityModel].[ActivityGuid]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveActivity].[SystemModuleId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[SystemModule].[SystemModuleId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveActivity].[SystemAssemblyName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[SystemModule].[AssemblyName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveActivity].[SubProcessId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityModel].[SubProcessId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveActivity].[ProcessRevisionId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityModel].[ProcessRevisionId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveActivity].[SubProcessName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[SubProcess].[SubProcessName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveActivity].[MaxRetries]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityModel].[MaxRetries]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveActivity].[RetryDelayInSeconds]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityModel].[RetryDelayInSeconds]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveActivity].[OnlyVisibleAtLocation]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityModel].[OnlyVisibleAtLocation]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveActivity].[LocationRadius]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityModel].[LocationRadius]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[cloudcore].[Activity]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[SubProcess]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[SubProcess].[SubProcessId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[SubProcessId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemModule]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemModule].[SystemModuleId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[SystemModuleId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityType]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityType].[ActivityTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityType].[ActivityTypeName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[Startable]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[Priority]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[DocWait]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemModule].[AssemblyName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ProcessRevisionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[SubProcess].[SubProcessName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[MaxRetries]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[RetryDelayInSeconds]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[OnlyVisibleAtLocation]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[LocationRadius]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcoremodel]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="976" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW [cloudcoremodel].[vwLiveActivity]&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[cloudcoremodel].[vwLiveFlow]">
			<Property Name="QueryScript">
				<Value><![CDATA[ 
  select FMM.FlowModelId, FMM.FlowGuid, FA.ActivityId FromActivityId, FA.ActivityModelId FromActivityModelId, FMM.Outcome, TA.ActivityId ToActivityId, TA.ActivityModelId ToActivityModelId, FMM.Storyline, FMM.NegativeFlow, FMM.OptimalFlow
    from [cloudcore].Activity FA with (nolock)
   inner join [cloudcoremodel].FlowModel FMM with (nolock)
      on FMM.FromActivityModelId = FA.ActivityModelId
   inner join [cloudcore].Activity TA with (nolock)
      on TA.ActivityModelId = FMM.ToActivityModelId]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveFlow].[FlowModelId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[FlowModel].[FlowModelId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveFlow].[FlowGuid]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[FlowModel].[FlowGuid]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveFlow].[FromActivityId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Activity].[ActivityId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveFlow].[FromActivityModelId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Activity].[ActivityModelId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveFlow].[Outcome]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[FlowModel].[Outcome]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveFlow].[ToActivityId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Activity].[ActivityId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveFlow].[ToActivityModelId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Activity].[ActivityModelId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveFlow].[Storyline]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[FlowModel].[Storyline]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveFlow].[NegativeFlow]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[FlowModel].[NegativeFlow]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveFlow].[OptimalFlow]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[FlowModel].[OptimalFlow]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[cloudcore].[Activity]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel].[FromActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel].[ToActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel].[FlowModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel].[FlowGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel].[Outcome]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel].[Storyline]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel].[NegativeFlow]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[FlowModel].[OptimalFlow]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcoremodel]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="555" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW [cloudcoremodel].[vwLiveFlow]&#xD;&#xA;&#x9;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[cloudcoremodel].[vwLiveFlowDetails]">
			<Property Name="QueryScript">
				<Value><![CDATA[
  select LF.FlowModelId, LF.FlowGuid, LF.FromActivityId, LF.FromActivityModelId, LF.Outcome, LF.ToActivityId, LF.ToActivityModelId, LF.Storyline, LF.NegativeFlow, LF.OptimalFlow,
         FAM.ActivityName FromActivityName, FAT.ActivityTypeName FromActivityType, TAM.ActivityName ToActivityName, TAT.ActivityTypeName ToActivityType, FAM.SubProcessId, FAM.ProcessRevisionId
    from [cloudcoremodel].vwLiveFlow LF with (nolock)
   inner join [cloudcoremodel].ActivityModel FAM with (nolock)
      on FAM.ActivityModelId = LF.FromActivityModelId
   inner join [cloudcoremodel].ActivityModel TAM with (nolock)
      on TAM.ActivityModelId = LF.ToActivityModelId
   inner join [cloudcoremodel].ActivityType FAT with (nolock)
      on FAT.ActivityTypeId = FAM.ActivityTypeId
   inner join [cloudcoremodel].ActivityType TAT with (nolock)
      on TAT.ActivityTypeId = TAM.ActivityTypeId]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveFlowDetails].[FlowModelId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveFlow].[FlowModelId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveFlowDetails].[FlowGuid]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveFlow].[FlowGuid]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveFlowDetails].[FromActivityId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveFlow].[FromActivityId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveFlowDetails].[FromActivityModelId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveFlow].[FromActivityModelId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveFlowDetails].[Outcome]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveFlow].[Outcome]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveFlowDetails].[ToActivityId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveFlow].[ToActivityId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveFlowDetails].[ToActivityModelId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveFlow].[ToActivityModelId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveFlowDetails].[Storyline]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveFlow].[Storyline]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveFlowDetails].[NegativeFlow]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveFlow].[NegativeFlow]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveFlowDetails].[OptimalFlow]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[vwLiveFlow].[OptimalFlow]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveFlowDetails].[FromActivityName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityModel].[ActivityName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveFlowDetails].[FromActivityType]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityType].[ActivityTypeName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveFlowDetails].[ToActivityName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityModel].[ActivityName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveFlowDetails].[ToActivityType]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityType].[ActivityTypeName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveFlowDetails].[SubProcessId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityModel].[SubProcessId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveFlowDetails].[ProcessRevisionId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityModel].[ProcessRevisionId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveFlow]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveFlow].[FromActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveFlow].[ToActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityType]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityType].[ActivityTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveFlow].[FlowModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveFlow].[FlowGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveFlow].[FromActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveFlow].[Outcome]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveFlow].[ToActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveFlow].[Storyline]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveFlow].[NegativeFlow]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[vwLiveFlow].[OptimalFlow]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityType].[ActivityTypeName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[SubProcessId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ProcessRevisionId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcoremodel]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="942" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create view [cloudcoremodel].[vwLiveFlowDetails] as" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[cloudcoremodel].[vwLiveProcess]">
			<Property Name="QueryScript">
				<Value><![CDATA[
  select LA.ActivityId, LA.ActivityModelId, MA.ActivityTypeId, MA.ActivityName,
         MA.Startable as ActivityStartable, MA.[Priority] as ActivityPriority, MA.DocWait as ActivityDocWait, MA.ActivityGuid,  
         AT.ActivityTypeName, MA.MaxRetries as ActivityMaxRetries, MA.RetryDelayInSeconds as ActivityRetryDelayInSeconds,
         MP.ProcessModelId, 
         MP.ProcessName, RP.ManagerId as ManagerUserId, U.Fullname as ManagerFullname, U.Firstnames as ManagerFirstNames, U.Surname as ManagerSurname, 
         RP.ProcessRevision, RP.ProcessRevisionId, MP.ProcessGuid, 
         SP.SubProcessId, SP.SubProcessName, SP.SubProcessGuid, SM.AssemblyName as SystemAssemblyName, RP.Changed as ProcessLastChanged         
    from [cloudcore].Activity  LA with (NOLOCK)
   inner join [cloudcoremodel].ActivityModel MA with (NOLOCK)
      on MA.ActivityModelId = LA.ActivityModelId
   inner join [cloudcoremodel].ProcessRevision RP with (NOLOCK)
      on RP.ProcessRevisionId = MA.ProcessRevisionId
   inner join [cloudcoremodel].ProcessModel MP with (NOLOCK)
      on MP.ProcessModelId = RP.ProcessModelId
   inner join [cloudcoremodel].SubProcess SP with (NOLOCK)
      on SP.SubProcessId = MA.SubProcessId
   inner join [cloudcore].SystemModule SM with (NOLOCK)
      on sm.SystemModuleId = LA.SystemModuleId
   inner join [cloudcoremodel].ActivityType AT with (NOLOCK)
      on AT.ActivityTypeId = MA.ActivityTypeId
	  inner join [cloudcore].[User] U with (NOLOCK)
      on RP.ManagerId = U.UserId]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveProcess].[ActivityId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Activity].[ActivityId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveProcess].[ActivityModelId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[Activity].[ActivityModelId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveProcess].[ActivityTypeId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityModel].[ActivityTypeId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveProcess].[ActivityName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityModel].[ActivityName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveProcess].[ActivityStartable]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityModel].[Startable]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveProcess].[ActivityPriority]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityModel].[Priority]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveProcess].[ActivityDocWait]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityModel].[DocWait]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveProcess].[ActivityGuid]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityModel].[ActivityGuid]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveProcess].[ActivityTypeName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityType].[ActivityTypeName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveProcess].[ActivityMaxRetries]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityModel].[MaxRetries]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveProcess].[ActivityRetryDelayInSeconds]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityModel].[RetryDelayInSeconds]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveProcess].[ProcessModelId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ProcessModel].[ProcessModelId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveProcess].[ProcessName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ProcessModel].[ProcessName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveProcess].[ManagerUserId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ProcessRevision].[ManagerId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveProcess].[ManagerFullname]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[User].[Fullname]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveProcess].[ManagerFirstNames]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[User].[Firstnames]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveProcess].[ManagerSurname]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[User].[Surname]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveProcess].[ProcessRevision]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ProcessRevision].[ProcessRevision]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveProcess].[ProcessRevisionId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ProcessRevision].[ProcessRevisionId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveProcess].[ProcessGuid]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ProcessModel].[ProcessGuid]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveProcess].[SubProcessId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[SubProcess].[SubProcessId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveProcess].[SubProcessName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[SubProcess].[SubProcessName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveProcess].[SubProcessGuid]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[SubProcess].[SubProcessGuid]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveProcess].[SystemAssemblyName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcore].[SystemModule].[AssemblyName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwLiveProcess].[ProcessLastChanged]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ProcessRevision].[Changed]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[cloudcore].[Activity]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ProcessRevisionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ProcessRevisionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModel]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModel].[ProcessModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ProcessModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[SubProcess]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[SubProcess].[SubProcessId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[SubProcessId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemModule]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemModule].[SystemModuleId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[SystemModuleId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityType]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityType].[ActivityTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityTypeId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ManagerId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[Activity].[ActivityId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[Startable]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[Priority]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[DocWait]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityType].[ActivityTypeName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[MaxRetries]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[RetryDelayInSeconds]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModel].[ProcessName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[Fullname]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[Firstnames]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[User].[Surname]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ProcessRevision]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModel].[ProcessGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[SubProcess].[SubProcessName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[SubProcess].[SubProcessGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcore].[SystemModule].[AssemblyName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[Changed]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcoremodel]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1572" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create view [cloudcoremodel].vwLiveProcess&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[cloudcoremodel].[vwProcessModel]">
			<Property Name="QueryScript">
				<Value><![CDATA[
select pm.ProcessModelId, pm.ProcessGuid, pm.ProcessName, pr.ProcessRevisionId, pr.ManagerId,
	   pr.ProcessRevision, pr.UserId, sp.SubProcessId, sp.SubProcessGuid, sp.SubProcessName,
	   am.ActivityModelId, am.ActivityGuid, am.ActivityName, pr.[CheckSum], pr.Changed
  from [cloudcoremodel].ProcessModel pm
 inner join [cloudcoremodel].ProcessRevision pr
    on pm.ProcessModelId = pr.ProcessModelId 
 inner join [cloudcoremodel].SubProcess sp
    on sp.ProcessRevisionId = pr.ProcessRevisionId
 inner join [cloudcoremodel].ActivityModel am
    on am.SubProcessId = sp.SubProcessId]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwProcessModel].[ProcessModelId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ProcessModel].[ProcessModelId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwProcessModel].[ProcessGuid]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ProcessModel].[ProcessGuid]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwProcessModel].[ProcessName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ProcessModel].[ProcessName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwProcessModel].[ProcessRevisionId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ProcessRevision].[ProcessRevisionId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwProcessModel].[ManagerId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ProcessRevision].[ManagerId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwProcessModel].[ProcessRevision]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ProcessRevision].[ProcessRevision]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwProcessModel].[UserId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ProcessRevision].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwProcessModel].[SubProcessId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[SubProcess].[SubProcessId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwProcessModel].[SubProcessGuid]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[SubProcess].[SubProcessGuid]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwProcessModel].[SubProcessName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[SubProcess].[SubProcessName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwProcessModel].[ActivityModelId]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityModel].[ActivityModelId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwProcessModel].[ActivityGuid]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityModel].[ActivityGuid]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwProcessModel].[ActivityName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ActivityModel].[ActivityName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwProcessModel].[CheckSum]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ProcessRevision].[CheckSum]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[cloudcoremodel].[vwProcessModel].[Changed]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[cloudcoremodel].[ProcessRevision].[Changed]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModel]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModel].[ProcessModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ProcessModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[SubProcess]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[SubProcess].[ProcessRevisionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ProcessRevisionId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[SubProcessId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[SubProcess].[SubProcessId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModel].[ProcessGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessModel].[ProcessName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ManagerId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[ProcessRevision]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[UserId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[SubProcess].[SubProcessGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[SubProcess].[SubProcessName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityModelId]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityGuid]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ActivityModel].[ActivityName]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[CheckSum]" />
				</Entry>
				<Entry>
					<References Name="[cloudcoremodel].[ProcessRevision].[Changed]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References Name="[cloudcoremodel]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="642" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create view [cloudcoremodel].[vwProcessModel]&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[sp_MSforeach_worker]">
			<Property Name="BodyScript">
				<Value><![CDATA[
 
	create table #qtemp (	/* Temp command storage */
		qnum				int				NOT NULL,
		qchar				nvarchar(2000)	COLLATE database_default NULL
	)
 
	set nocount on
	declare @name nvarchar(517), @namelen int, @q1 nvarchar(2000), @q2 nvarchar(2000)
   declare @q3 nvarchar(2000), @q4 nvarchar(2000), @q5 nvarchar(2000)
	declare @q6 nvarchar(2000), @q7 nvarchar(2000), @q8 nvarchar(2000), @q9 nvarchar(2000), @q10 nvarchar(2000)
	declare @cmd nvarchar(2000), @replacecharindex int, @useq tinyint, @usecmd tinyint, @nextcmd nvarchar(2000)
   declare @namesave nvarchar(517), @nametmp nvarchar(517), @nametmp2 nvarchar(258)
 
	declare @local_cursor cursor
	if @worker_type=1	
		set @local_cursor = hCForEachDatabase
	else
		set @local_cursor = hCForEachTable
	
	open @local_cursor
	fetch @local_cursor into @name
 
	while (@@fetch_status >= 0) begin
 
      select @namesave = @name
		select @useq = 1, @usecmd = 1, @cmd = @command1, @namelen = datalength(@name)
		while (@cmd is not null) begin		/* Generate @q* for exec() */
			select @replacecharindex = charindex(@replacechar, @cmd)
			while (@replacecharindex <> 0) begin
 
            /* 7.0, if name contains ' character, and the name has been single quoted in command, double all of them in dbname */
            /* if the name has not been single quoted in command, do not doulbe them */
            /* if name contains ] character, and the name has been [] quoted in command, double all of ] in dbname */
            select @name = @namesave
            select @namelen = datalength(@name)
            declare @tempindex int
            if (substring(@cmd, @replacecharindex - 1, 1) = N'''') begin
               /* if ? is inside of '', we need to double all the ' in name */
               select @name = REPLACE(@name, N'''', N'''''')
            end else if (substring(@cmd, @replacecharindex - 1, 1) = N'[') begin
               /* if ? is inside of [], we need to double all the ] in name */
               select @name = REPLACE(@name, N']', N']]')
            end else if ((@name LIKE N'%].%]') and (substring(@name, 1, 1) = N'[')) begin
               /* ? is NOT inside of [] nor '', and the name is in [owner].[name] format, handle it */
               /* !!! work around, when using LIKE to find string pattern, can't use '[', since LIKE operator is treating '[' as a wide char */
               select @tempindex = charindex(N'].[', @name)
               select @nametmp  = substring(@name, 2, @tempindex-2 )
               select @nametmp2 = substring(@name, @tempindex+3, len(@name)-@tempindex-3 )
               select @nametmp  = REPLACE(@nametmp, N']', N']]')
               select @nametmp2 = REPLACE(@nametmp2, N']', N']]')
               select @name = N'[' + @nametmp + N'].[' + @nametmp2 + ']'
            end else if ((@name LIKE N'%]') and (substring(@name, 1, 1) = N'[')) begin
               /* ? is NOT inside of [] nor '', and the name is in [name] format, handle it */
               /* j.i.c., since we should not fall into this case */
               /* !!! work around, when using LIKE to find string pattern, can't use '[', since LIKE operator is treating '[' as a wide char */
               select @nametmp = substring(@name, 2, len(@name)-2 )
               select @nametmp = REPLACE(@nametmp, N']', N']]')
               select @name = N'[' + @nametmp + N']'
            end
            /* Get the new length */
            select @namelen = datalength(@name)
 
            /* start normal process */
				if (datalength(@cmd) + @namelen - 1 > 2000) begin
					/* Overflow; put preceding stuff into the temp table */
					if (@useq > 9) begin
						close @local_cursor
						if @worker_type=1	
							deallocate hCForEachDatabase
						else
							deallocate hCForEachTable
						return 1
					end
					if (@replacecharindex < @namelen) begin
						/* If this happened close to beginning, make sure expansion has enough room. */
						/* In this case no trailing space can occur as the row ends with @name. */
						select @nextcmd = substring(@cmd, 1, @replacecharindex)
						select @cmd = substring(@cmd, @replacecharindex + 1, 2000)
						select @nextcmd = stuff(@nextcmd, @replacecharindex, 1, @name)
						select @replacecharindex = charindex(@replacechar, @cmd)
						insert #qtemp values (@useq, @nextcmd)
						select @useq = @useq + 1
						continue
					end
					/* Move the string down and stuff() in-place. */
					/* Because varchar columns trim trailing spaces, we may need to prepend one to the following string. */
					/* In this case, the char to be replaced is moved over by one. */
					insert #qtemp values (@useq, substring(@cmd, 1, @replacecharindex - 1))
					if (substring(@cmd, @replacecharindex - 1, 1) = N' ') begin
						select @cmd = N' ' + substring(@cmd, @replacecharindex, 2000)
						select @replacecharindex = 2
					end else begin
						select @cmd = substring(@cmd, @replacecharindex, 2000)
						select @replacecharindex = 1
					end
					select @useq = @useq + 1
				end
				select @cmd = stuff(@cmd, @replacecharindex, 1, @name)
				select @replacecharindex = charindex(@replacechar, @cmd)
			end
 
			/* Done replacing for current @cmd.  Get the next one and see if it's to be appended. */
			select @usecmd = @usecmd + 1
			select @nextcmd = case (@usecmd) when 2 then @command2 when 3 then @command3 else null end
			if (@nextcmd is not null and substring(@nextcmd, 1, 2) = N'++') begin
				insert #qtemp values (@useq, @cmd)
				select @cmd = substring(@nextcmd, 3, 2000), @useq = @useq + 1
				continue
			end
 
			/* Now exec() the generated @q*, and see if we had more commands to exec().  Continue even if errors. */
			/* Null them first as the no-result-set case won't. */
			select @q1 = null, @q2 = null, @q3 = null, @q4 = null, @q5 = null, @q6 = null, @q7 = null, @q8 = null, @q9 = null, @q10 = null
			select @q1 = qchar from #qtemp where qnum = 1
			select @q2 = qchar from #qtemp where qnum = 2
			select @q3 = qchar from #qtemp where qnum = 3
			select @q4 = qchar from #qtemp where qnum = 4
			select @q5 = qchar from #qtemp where qnum = 5
			select @q6 = qchar from #qtemp where qnum = 6
			select @q7 = qchar from #qtemp where qnum = 7
			select @q8 = qchar from #qtemp where qnum = 8
			select @q9 = qchar from #qtemp where qnum = 9
			select @q10 = qchar from #qtemp where qnum = 10
			truncate table #qtemp
			exec (@q1 + @q2 + @q3 + @q4 + @q5 + @q6 + @q7 + @q8 + @q9 + @q10 + @cmd)
			select @cmd = @nextcmd, @useq = 1
		end
    fetch @local_cursor into @name
	end /* while FETCH_SUCCESS */
	close @local_cursor
	if @worker_type=1	
		deallocate hCForEachDatabase
	else
		deallocate hCForEachTable
		
	return 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[tinyint]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[tinyint]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[cursor]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_MSforeach_worker].[@worker_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_MSforeach_worker].[@command1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_MSforeach_worker].[@replacechar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_MSforeach_worker].[#qtemp]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_MSforeach_worker].[@command2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_MSforeach_worker].[@command3]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_MSforeach_worker].[#qtemp].[qchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_MSforeach_worker].[#qtemp].[qnum]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[sp_MSforeach_worker].[#qtemp]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[sp_MSforeach_worker].[#qtemp].[qnum]">
									<Property Name="IsNullable" Value="False" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[sp_MSforeach_worker].[#qtemp].[qchar]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="2000" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_MSforeach_worker].[@command1]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="2000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_MSforeach_worker].[@replacechar]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[N'?']]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="1" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_MSforeach_worker].[@command2]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="2000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_MSforeach_worker].[@command3]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="2000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_MSforeach_worker].[@worker_type]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="44" />
				<Property Name="Length" Value="7026" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/* For SQL Azure backward compatibility */&#xD;&#xA;CREATE proc [dbo].[sp_MSforeach_worker]&#xD;&#xA;&#x9;@command1 nvarchar(2000), @replacechar nchar(1) = N'?', @command2 nvarchar(2000) = null, @command3 nvarchar(2000) = null, @worker_type int =1&#xD;&#xA;as" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[sp_MSforeachtable]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	declare @mscat nvarchar(12)
	select @mscat = ltrim(str(convert(int, 0x0002)))
	if (@precommand is not null)
		exec(@precommand)
   exec(N'declare hCForEachTable cursor global for select ''['' + REPLACE(schema_name(syso.schema_id), N'']'', N'']]'') + '']'' + ''.'' + ''['' + REPLACE(object_name(o.id), N'']'', N'']]'') + '']'' from dbo.sysobjects o join sys.all_objects syso on o.id = syso.object_id '
         + N' where OBJECTPROPERTY(o.id, N''IsUserTable'') = 1 ' + N' and o.category & ' + @mscat + N' = 0 '
         + @whereand)
	declare @retval int
	select @retval = @@error
	if (@retval = 0)
		exec @retval = dbo.sp_MSforeach_worker @command1, @replacechar, @command2, @command3, 0
	if (@retval = 0 and @postcommand is not null)
		exec(@postcommand)
	return @retval]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_MSforeachtable].[@precommand]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_MSforeachtable].[@whereand]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_MSforeach_worker]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_MSforeachtable].[@command1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_MSforeachtable].[@replacechar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_MSforeachtable].[@command2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_MSforeachtable].[@command3]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_MSforeachtable].[@postcommand]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_MSforeachtable].[@command1]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="2000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_MSforeachtable].[@replacechar]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[N'?']]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="1" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_MSforeachtable].[@command2]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="2000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_MSforeachtable].[@command3]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="2000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_MSforeachtable].[@whereand]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="2000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_MSforeachtable].[@precommand]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="2000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_MSforeachtable].[@postcommand]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="2000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="44" />
				<Property Name="Length" Value="1103" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="/* For SQL Azure backward compatibility */&#xD;&#xA;create proc [dbo].[sp_MSforeachtable]&#xD;&#xA;&#x9;@command1 nvarchar(2000), @replacechar nchar(1) = N'?', @command2 nvarchar(2000) = null,&#xD;&#xA;  @command3 nvarchar(2000) = null, @whereand nvarchar(2000) = null,&#xD;&#xA;&#x9;@precommand nvarchar(2000) = null, @postcommand nvarchar(2000) = null&#xD;&#xA;AS" />
			</Annotation>
		</Element>
	</Model>
</DataSchemaModel>